(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cc={exports:{}},Ns={},uc={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=Symbol.for("react.element"),Sd=Symbol.for("react.portal"),kd=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),Ld=Symbol.for("react.suspense"),Md=Symbol.for("react.memo"),zd=Symbol.for("react.lazy"),Ka=Symbol.iterator;function bd(e){return e===null||typeof e!="object"?null:(e=Ka&&e[Ka]||e["@@iterator"],typeof e=="function"?e:null)}var dc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fc=Object.assign,pc={};function Pl(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||dc}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mc(){}mc.prototype=Pl.prototype;function na(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||dc}var la=na.prototype=new mc;la.constructor=na;fc(la,Pl.prototype);la.isPureReactComponent=!0;var Ja=Array.isArray,hc=Object.prototype.hasOwnProperty,ra={current:null},vc={key:!0,ref:!0,__self:!0,__source:!0};function yc(e,t,n){var l,s={},i=null,a=null;if(t!=null)for(l in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)hc.call(t,l)&&!vc.hasOwnProperty(l)&&(s[l]=t[l]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}if(e&&e.defaultProps)for(l in c=e.defaultProps,c)s[l]===void 0&&(s[l]=c[l]);return{$$typeof:vr,type:e,key:i,ref:a,props:s,_owner:ra.current}}function Dd(e,t){return{$$typeof:vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===vr}function Rd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Za=/\/+/g;function Fs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rd(""+e.key):t.toString(36)}function Ar(e,t,n,l,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vr:case Sd:a=!0}}if(a)return a=e,s=s(a),e=l===""?"."+Fs(a,0):l,Ja(s)?(n="",e!=null&&(n=e.replace(Za,"$&/")+"/"),Ar(s,t,n,"",function(d){return d})):s!=null&&(sa(s)&&(s=Dd(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Za,"$&/")+"/")+e)),t.push(s)),1;if(a=0,l=l===""?".":l+":",Ja(e))for(var c=0;c<e.length;c++){i=e[c];var o=l+Fs(i,c);a+=Ar(i,t,n,o,s)}else if(o=bd(e),typeof o=="function")for(e=o.call(e),c=0;!(i=e.next()).done;)i=i.value,o=l+Fs(i,c++),a+=Ar(i,t,n,o,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Nr(e,t,n){if(e==null)return e;var l=[],s=0;return Ar(e,l,"","",function(i){return t.call(n,i,s++)}),l}function Id(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Or={transition:null},Fd={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Or,ReactCurrentOwner:ra};function gc(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Nr,forEach:function(e,t,n){Nr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nr(e,function(){t++}),t},toArray:function(e){return Nr(e,function(t){return t})||[]},only:function(e){if(!sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Pl;pe.Fragment=kd;pe.Profiler=Ed;pe.PureComponent=na;pe.StrictMode=Cd;pe.Suspense=Ld;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fd;pe.act=gc;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=fc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ra.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)hc.call(t,o)&&!vc.hasOwnProperty(o)&&(l[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}return{$$typeof:vr,type:e.type,key:s,ref:i,props:l,_owner:a}};pe.createContext=function(e){return e={$$typeof:Pd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Td,_context:e},e.Consumer=e};pe.createElement=yc;pe.createFactory=function(e){var t=yc.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:_d,render:e}};pe.isValidElement=sa;pe.lazy=function(e){return{$$typeof:zd,_payload:{_status:-1,_result:e},_init:Id}};pe.memo=function(e,t){return{$$typeof:Md,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Or.transition;Or.transition={};try{e()}finally{Or.transition=t}};pe.unstable_act=gc;pe.useCallback=function(e,t){return vt.current.useCallback(e,t)};pe.useContext=function(e){return vt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return vt.current.useEffect(e,t)};pe.useId=function(){return vt.current.useId()};pe.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return vt.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};pe.useRef=function(e){return vt.current.useRef(e)};pe.useState=function(e){return vt.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return vt.current.useTransition()};pe.version="18.3.1";uc.exports=pe;var p=uc.exports;const $d=wd(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=p,Od=Symbol.for("react.element"),Ud=Symbol.for("react.fragment"),Hd=Object.prototype.hasOwnProperty,Wd=Ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bd={key:!0,ref:!0,__self:!0,__source:!0};function xc(e,t,n){var l,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(l in t)Hd.call(t,l)&&!Bd.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)s[l]===void 0&&(s[l]=t[l]);return{$$typeof:Od,type:e,key:i,ref:a,props:s,_owner:Wd.current}}Ns.Fragment=Ud;Ns.jsx=xc;Ns.jsxs=xc;cc.exports=Ns;var r=cc.exports,ci={},jc={exports:{}},zt={},Nc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,U){var G=F.length;F.push(U);e:for(;0<G;){var le=G-1>>>1,Z=F[le];if(0<s(Z,U))F[le]=U,F[G]=Z,G=le;else break e}}function n(F){return F.length===0?null:F[0]}function l(F){if(F.length===0)return null;var U=F[0],G=F.pop();if(G!==U){F[0]=G;e:for(var le=0,Z=F.length,Ae=Z>>>1;le<Ae;){var se=2*(le+1)-1,xe=F[se],$=se+1,M=F[$];if(0>s(xe,G))$<Z&&0>s(M,xe)?(F[le]=M,F[$]=G,le=$):(F[le]=xe,F[se]=G,le=se);else if($<Z&&0>s(M,G))F[le]=M,F[$]=G,le=$;else break e}}return U}function s(F,U){var G=F.sortIndex-U.sortIndex;return G!==0?G:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var o=[],d=[],g=1,h=null,v=3,N=!1,C=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(F){for(var U=n(d);U!==null;){if(U.callback===null)l(d);else if(U.startTime<=F)l(d),U.sortIndex=U.expirationTime,t(o,U);else break;U=n(d)}}function y(F){if(P=!1,m(F),!C)if(n(o)!==null)C=!0,ut(_);else{var U=n(d);U!==null&&We(y,U.startTime-F)}}function _(F,U){C=!1,P&&(P=!1,f(x),x=-1),N=!0;var G=v;try{for(m(U),h=n(o);h!==null&&(!(h.expirationTime>U)||F&&!re());){var le=h.callback;if(typeof le=="function"){h.callback=null,v=h.priorityLevel;var Z=le(h.expirationTime<=U);U=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(o)&&l(o),m(U)}else l(o);h=n(o)}if(h!==null)var Ae=!0;else{var se=n(d);se!==null&&We(y,se.startTime-U),Ae=!1}return Ae}finally{h=null,v=G,N=!1}}var E=!1,w=null,x=-1,D=5,A=-1;function re(){return!(e.unstable_now()-A<D)}function Se(){if(w!==null){var F=e.unstable_now();A=F;var U=!0;try{U=w(!0,F)}finally{U?Q():(E=!1,w=null)}}else E=!1}var Q;if(typeof u=="function")Q=function(){u(Se)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,$e=De.port2;De.port1.onmessage=Se,Q=function(){$e.postMessage(null)}}else Q=function(){Y(Se,0)};function ut(F){w=F,E||(E=!0,Q())}function We(F,U){x=Y(function(){F(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){C||N||(C=!0,ut(_))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var G=v;v=U;try{return F()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=v;v=F;try{return U()}finally{v=G}},e.unstable_scheduleCallback=function(F,U,G){var le=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?le+G:le):G=le,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,F={id:g++,callback:U,priorityLevel:F,startTime:G,expirationTime:Z,sortIndex:-1},G>le?(F.sortIndex=G,t(d,F),n(o)===null&&F===n(d)&&(P?(f(x),x=-1):P=!0,We(y,G-le))):(F.sortIndex=Z,t(o,F),C||N||(C=!0,ut(_))),F},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(F){var U=v;return function(){var G=v;v=U;try{return F.apply(this,arguments)}finally{v=G}}}})(wc);Nc.exports=wc;var Vd=Nc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=p,Mt=Vd;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sc=new Set,ql={};function qn(e,t){Nl(e,t),Nl(e+"Capture",t)}function Nl(e,t){for(ql[e]=t,e=0;e<t.length;e++)Sc.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=Object.prototype.hasOwnProperty,Gd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qa={},eo={};function Xd(e){return ui.call(eo,e)?!0:ui.call(qa,e)?!1:Gd.test(e)?eo[e]=!0:(qa[e]=!0,!1)}function Qd(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kd(e,t,n,l){if(t===null||typeof t>"u"||Qd(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,l,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ia=/[\-:]([a-z])/g;function aa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ia,aa);lt[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ia,aa);lt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ia,aa);lt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function oa(e,t,n,l){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kd(t,n,s,l)&&(n=null),l||s===null?Xd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,l=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var hn=Yd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wr=Symbol.for("react.element"),ll=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),ca=Symbol.for("react.strict_mode"),di=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),Cc=Symbol.for("react.context"),ua=Symbol.for("react.forward_ref"),fi=Symbol.for("react.suspense"),pi=Symbol.for("react.suspense_list"),da=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Ec=Symbol.for("react.offscreen"),to=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=to&&e[to]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,$s;function Ol(e){if($s===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$s=t&&t[1]||""}return`
`+$s+e}var As=!1;function Os(e,t){if(!e||As)return"";As=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var l=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){l=d}e.call(t.prototype)}else{try{throw Error()}catch(d){l=d}e()}}catch(d){if(d&&l&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=l.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var o=`
`+s[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=c);break}}}finally{As=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ol(e):""}function Jd(e){switch(e.tag){case 5:return Ol(e.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return e=Os(e.type,!1),e;case 11:return e=Os(e.type.render,!1),e;case 1:return e=Os(e.type,!0),e;default:return""}}function mi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rl:return"Fragment";case ll:return"Portal";case di:return"Profiler";case ca:return"StrictMode";case fi:return"Suspense";case pi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cc:return(e.displayName||"Context")+".Consumer";case kc:return(e._context.displayName||"Context")+".Provider";case ua:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case da:return t=e.displayName||null,t!==null?t:mi(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return mi(e(t))}catch{}}return null}function Zd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mi(t);case 8:return t===ca?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qd(e){var t=Tc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){l=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(a){l=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sr(e){e._valueTracker||(e._valueTracker=qd(e))}function Pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Tc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hi(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function no(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _c(e,t){t=t.checked,t!=null&&oa(e,"checked",t,!1)}function vi(e,t){_c(e,t);var n=bn(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yi(e,t.type,n):t.hasOwnProperty("defaultValue")&&yi(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yi(e,t,n){(t!=="number"||Jr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ul=Array.isArray;function hl(e,t,n,l){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&l&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function gi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ro(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Ul(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function Lc(e,t){var n=bn(t.value),l=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function so(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kr,zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ef=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){ef.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function bc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function Dc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,s=bc(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,s):e[n]=s}}var tf=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ji(e,t){if(t){if(tf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ni(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,vl=null,yl=null;function io(e){if(e=xr(e)){if(typeof Si!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Es(t),Si(e.stateNode,e.type,t))}}function Rc(e){vl?yl?yl.push(e):yl=[e]:vl=e}function Ic(){if(vl){var e=vl,t=yl;if(yl=vl=null,io(e),t)for(e=0;e<t.length;e++)io(t[e])}}function Fc(e,t){return e(t)}function $c(){}var Us=!1;function Ac(e,t,n){if(Us)return e(t,n);Us=!0;try{return Fc(e,t,n)}finally{Us=!1,(vl!==null||yl!==null)&&($c(),Ic())}}function tr(e,t){var n=e.stateNode;if(n===null)return null;var l=Es(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var ki=!1;if(dn)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){ki=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{ki=!1}function nf(e,t,n,l,s,i,a,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(g){this.onError(g)}}var Vl=!1,Zr=null,qr=!1,Ci=null,lf={onError:function(e){Vl=!0,Zr=e}};function rf(e,t,n,l,s,i,a,c,o){Vl=!1,Zr=null,nf.apply(lf,arguments)}function sf(e,t,n,l,s,i,a,c,o){if(rf.apply(this,arguments),Vl){if(Vl){var d=Zr;Vl=!1,Zr=null}else throw Error(L(198));qr||(qr=!0,Ci=d)}}function el(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Oc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ao(e){if(el(e)!==e)throw Error(L(188))}function af(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,l=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(l=s.return,l!==null){n=l;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ao(s),e;if(i===l)return ao(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==l.return)n=s,l=i;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,l=i;break}if(c===l){a=!0,l=s,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,l=s;break}if(c===l){a=!0,l=i,n=s;break}c=c.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==l)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Uc(e){return e=af(e),e!==null?Hc(e):null}function Hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hc(e);if(t!==null)return t;e=e.sibling}return null}var Wc=Mt.unstable_scheduleCallback,oo=Mt.unstable_cancelCallback,of=Mt.unstable_shouldYield,cf=Mt.unstable_requestPaint,Ue=Mt.unstable_now,uf=Mt.unstable_getCurrentPriorityLevel,pa=Mt.unstable_ImmediatePriority,Bc=Mt.unstable_UserBlockingPriority,es=Mt.unstable_NormalPriority,df=Mt.unstable_LowPriority,Vc=Mt.unstable_IdlePriority,ws=null,nn=null;function ff(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ws,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:hf,pf=Math.log,mf=Math.LN2;function hf(e){return e>>>=0,e===0?32:31-(pf(e)/mf|0)|0}var Cr=64,Er=4194304;function Hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?l=Hl(c):(i&=a,i!==0&&(l=Hl(i)))}else a=n&~s,a!==0?l=Hl(a):i!==0&&(l=Hl(i));if(l===0)return 0;if(t!==0&&t!==l&&!(t&s)&&(s=l&-l,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Gt(t),s=1<<n,l|=e[n],t&=~s;return l}function vf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Gt(i),c=1<<a,o=s[a];o===-1?(!(c&n)||c&l)&&(s[a]=vf(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}}function Ei(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yc(){var e=Cr;return Cr<<=1,!(Cr&4194240)&&(Cr=64),e}function Hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function gf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Gt(n),i=1<<s;t[s]=0,l[s]=-1,e[s]=-1,n&=~i}}function ma(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Gt(n),s=1<<l;s&t|e[l]&t&&(e[l]|=t),n&=~s}}var we=0;function Gc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xc,ha,Qc,Kc,Jc,Ti=!1,Tr=[],Cn=null,En=null,Tn=null,nr=new Map,lr=new Map,Nn=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function co(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(t.pointerId)}}function bl(e,t,n,l,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:i,targetContainers:[s]},t!==null&&(t=xr(t),t!==null&&ha(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jf(e,t,n,l,s){switch(t){case"focusin":return Cn=bl(Cn,e,t,n,l,s),!0;case"dragenter":return En=bl(En,e,t,n,l,s),!0;case"mouseover":return Tn=bl(Tn,e,t,n,l,s),!0;case"pointerover":var i=s.pointerId;return nr.set(i,bl(nr.get(i)||null,e,t,n,l,s)),!0;case"gotpointercapture":return i=s.pointerId,lr.set(i,bl(lr.get(i)||null,e,t,n,l,s)),!0}return!1}function Zc(e){var t=Wn(e.target);if(t!==null){var n=el(t);if(n!==null){if(t=n.tag,t===13){if(t=Oc(n),t!==null){e.blockedOn=t,Jc(e.priority,function(){Qc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ur(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);wi=l,n.target.dispatchEvent(l),wi=null}else return t=xr(n),t!==null&&ha(t),e.blockedOn=n,!1;t.shift()}return!0}function uo(e,t,n){Ur(e)&&n.delete(t)}function Nf(){Ti=!1,Cn!==null&&Ur(Cn)&&(Cn=null),En!==null&&Ur(En)&&(En=null),Tn!==null&&Ur(Tn)&&(Tn=null),nr.forEach(uo),lr.forEach(uo)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ti||(Ti=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Nf)))}function rr(e){function t(s){return Dl(s,e)}if(0<Tr.length){Dl(Tr[0],e);for(var n=1;n<Tr.length;n++){var l=Tr[n];l.blockedOn===e&&(l.blockedOn=null)}}for(Cn!==null&&Dl(Cn,e),En!==null&&Dl(En,e),Tn!==null&&Dl(Tn,e),nr.forEach(t),lr.forEach(t),n=0;n<Nn.length;n++)l=Nn[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Zc(n),n.blockedOn===null&&Nn.shift()}var gl=hn.ReactCurrentBatchConfig,ns=!0;function wf(e,t,n,l){var s=we,i=gl.transition;gl.transition=null;try{we=1,va(e,t,n,l)}finally{we=s,gl.transition=i}}function Sf(e,t,n,l){var s=we,i=gl.transition;gl.transition=null;try{we=4,va(e,t,n,l)}finally{we=s,gl.transition=i}}function va(e,t,n,l){if(ns){var s=Pi(e,t,n,l);if(s===null)Zs(e,t,l,ls,n),co(e,l);else if(jf(s,e,t,n,l))l.stopPropagation();else if(co(e,l),t&4&&-1<xf.indexOf(e)){for(;s!==null;){var i=xr(s);if(i!==null&&Xc(i),i=Pi(e,t,n,l),i===null&&Zs(e,t,l,ls,n),i===s)break;s=i}s!==null&&l.stopPropagation()}else Zs(e,t,l,null,n)}}var ls=null;function Pi(e,t,n,l){if(ls=null,e=fa(l),e=Wn(e),e!==null)if(t=el(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Oc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ls=e,null}function qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case pa:return 1;case Bc:return 4;case es:case df:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var Sn=null,ya=null,Hr=null;function eu(){if(Hr)return Hr;var e,t=ya,n=t.length,l,s="value"in Sn?Sn.value:Sn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(l=1;l<=a&&t[n-l]===s[i-l];l++);return Hr=s.slice(e,1<l?1-l:void 0)}function Wr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pr(){return!0}function fo(){return!1}function bt(e){function t(n,l,s,i,a){this._reactName=n,this._targetInst=s,this.type=l,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pr:fo,this.isPropagationStopped=fo,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),t}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=bt(_l),gr=be({},_l,{view:0,detail:0}),kf=bt(gr),Ws,Bs,Rl,Ss=be({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rl&&(Rl&&e.type==="mousemove"?(Ws=e.screenX-Rl.screenX,Bs=e.screenY-Rl.screenY):Bs=Ws=0,Rl=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),po=bt(Ss),Cf=be({},Ss,{dataTransfer:0}),Ef=bt(Cf),Tf=be({},gr,{relatedTarget:0}),Vs=bt(Tf),Pf=be({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),_f=bt(Pf),Lf=be({},_l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mf=bt(Lf),zf=be({},_l,{data:0}),mo=bt(zf),bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rf[e])?!!t[e]:!1}function xa(){return If}var Ff=be({},gr,{key:function(e){if(e.key){var t=bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Df[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return e.type==="keypress"?Wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$f=bt(Ff),Af=be({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=bt(Af),Of=be({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Uf=bt(Of),Hf=be({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wf=bt(Hf),Bf=be({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=bt(Bf),Yf=[9,13,27,32],ja=dn&&"CompositionEvent"in window,Yl=null;dn&&"documentMode"in document&&(Yl=document.documentMode);var Gf=dn&&"TextEvent"in window&&!Yl,tu=dn&&(!ja||Yl&&8<Yl&&11>=Yl),vo=" ",yo=!1;function nu(e,t){switch(e){case"keyup":return Yf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sl=!1;function Xf(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(yo=!0,vo);case"textInput":return e=t.data,e===vo&&yo?null:e;default:return null}}function Qf(e,t){if(sl)return e==="compositionend"||!ja&&nu(e,t)?(e=eu(),Hr=ya=Sn=null,sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tu&&t.locale!=="ko"?null:t.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kf[e.type]:t==="textarea"}function ru(e,t,n,l){Rc(l),t=rs(t,"onChange"),0<t.length&&(n=new ga("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Gl=null,sr=null;function Jf(e){hu(e,0)}function ks(e){var t=ol(e);if(Pc(t))return e}function Zf(e,t){if(e==="change")return t}var su=!1;if(dn){var Ys;if(dn){var Gs="oninput"in document;if(!Gs){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),Gs=typeof xo.oninput=="function"}Ys=Gs}else Ys=!1;su=Ys&&(!document.documentMode||9<document.documentMode)}function jo(){Gl&&(Gl.detachEvent("onpropertychange",iu),sr=Gl=null)}function iu(e){if(e.propertyName==="value"&&ks(sr)){var t=[];ru(t,sr,e,fa(e)),Ac(Jf,t)}}function qf(e,t,n){e==="focusin"?(jo(),Gl=t,sr=n,Gl.attachEvent("onpropertychange",iu)):e==="focusout"&&jo()}function ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(sr)}function tp(e,t){if(e==="click")return ks(t)}function np(e,t){if(e==="input"||e==="change")return ks(t)}function lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:lp;function ir(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var s=n[l];if(!ui.call(t,s)||!Qt(e[s],t[s]))return!1}return!0}function No(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wo(e,t){var n=No(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=No(n)}}function au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ou(){for(var e=window,t=Jr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jr(e.document)}return t}function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rp(e){var t=ou(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&au(n.ownerDocument.documentElement,n)){if(l!==null&&Na(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(l.start,s);l=l.end===void 0?i:Math.min(l.end,s),!e.extend&&i>l&&(s=l,l=i,i=s),s=wo(n,i);var a=wo(n,l);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>l?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sp=dn&&"documentMode"in document&&11>=document.documentMode,il=null,_i=null,Xl=null,Li=!1;function So(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Li||il==null||il!==Jr(l)||(l=il,"selectionStart"in l&&Na(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&ir(Xl,l)||(Xl=l,l=rs(_i,"onSelect"),0<l.length&&(t=new ga("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=il)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var al={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Xs={},cu={};dn&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Cs(e){if(Xs[e])return Xs[e];if(!al[e])return e;var t=al[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cu)return Xs[e]=t[n];return e}var uu=Cs("animationend"),du=Cs("animationiteration"),fu=Cs("animationstart"),pu=Cs("transitionend"),mu=new Map,ko="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){mu.set(e,t),qn(t,[e])}for(var Qs=0;Qs<ko.length;Qs++){var Ks=ko[Qs],ip=Ks.toLowerCase(),ap=Ks[0].toUpperCase()+Ks.slice(1);Rn(ip,"on"+ap)}Rn(uu,"onAnimationEnd");Rn(du,"onAnimationIteration");Rn(fu,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(pu,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function Co(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,sf(l,t,void 0,e),e.currentTarget=null}function hu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],s=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var a=l.length-1;0<=a;a--){var c=l[a],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==i&&s.isPropagationStopped())break e;Co(s,c,d),i=o}else for(a=0;a<l.length;a++){if(c=l[a],o=c.instance,d=c.currentTarget,c=c.listener,o!==i&&s.isPropagationStopped())break e;Co(s,c,d),i=o}}}if(qr)throw e=Ci,qr=!1,Ci=null,e}function Ee(e,t){var n=t[Ri];n===void 0&&(n=t[Ri]=new Set);var l=e+"__bubble";n.has(l)||(vu(t,e,2,!1),n.add(l))}function Js(e,t,n){var l=0;t&&(l|=4),vu(n,e,l,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function ar(e){if(!e[Lr]){e[Lr]=!0,Sc.forEach(function(n){n!=="selectionchange"&&(op.has(n)||Js(n,!1,e),Js(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,Js("selectionchange",!1,t))}}function vu(e,t,n,l){switch(qc(t)){case 1:var s=wf;break;case 4:s=Sf;break;default:s=va}n=s.bind(null,t,n,e),s=void 0,!ki||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zs(e,t,n,l,s){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var a=l.tag;if(a===3||a===4){var c=l.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=l.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Wn(c),a===null)return;if(o=a.tag,o===5||o===6){l=i=a;continue e}c=c.parentNode}}l=l.return}Ac(function(){var d=i,g=fa(n),h=[];e:{var v=mu.get(e);if(v!==void 0){var N=ga,C=e;switch(e){case"keypress":if(Wr(n)===0)break e;case"keydown":case"keyup":N=$f;break;case"focusin":C="focus",N=Vs;break;case"focusout":C="blur",N=Vs;break;case"beforeblur":case"afterblur":N=Vs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Uf;break;case uu:case du:case fu:N=_f;break;case pu:N=Wf;break;case"scroll":N=kf;break;case"wheel":N=Vf;break;case"copy":case"cut":case"paste":N=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=ho}var P=(t&4)!==0,Y=!P&&e==="scroll",f=P?v!==null?v+"Capture":null:v;P=[];for(var u=d,m;u!==null;){m=u;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,f!==null&&(y=tr(u,f),y!=null&&P.push(or(u,y,m)))),Y)break;u=u.return}0<P.length&&(v=new N(v,C,null,n,g),h.push({event:v,listeners:P}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",v&&n!==wi&&(C=n.relatedTarget||n.fromElement)&&(Wn(C)||C[fn]))break e;if((N||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,N?(C=n.relatedTarget||n.toElement,N=d,C=C?Wn(C):null,C!==null&&(Y=el(C),C!==Y||C.tag!==5&&C.tag!==6)&&(C=null)):(N=null,C=d),N!==C)){if(P=po,y="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(P=ho,y="onPointerLeave",f="onPointerEnter",u="pointer"),Y=N==null?v:ol(N),m=C==null?v:ol(C),v=new P(y,u+"leave",N,n,g),v.target=Y,v.relatedTarget=m,y=null,Wn(g)===d&&(P=new P(f,u+"enter",C,n,g),P.target=m,P.relatedTarget=Y,y=P),Y=y,N&&C)t:{for(P=N,f=C,u=0,m=P;m;m=nl(m))u++;for(m=0,y=f;y;y=nl(y))m++;for(;0<u-m;)P=nl(P),u--;for(;0<m-u;)f=nl(f),m--;for(;u--;){if(P===f||f!==null&&P===f.alternate)break t;P=nl(P),f=nl(f)}P=null}else P=null;N!==null&&Eo(h,v,N,P,!1),C!==null&&Y!==null&&Eo(h,Y,C,P,!0)}}e:{if(v=d?ol(d):window,N=v.nodeName&&v.nodeName.toLowerCase(),N==="select"||N==="input"&&v.type==="file")var _=Zf;else if(go(v))if(su)_=np;else{_=ep;var E=qf}else(N=v.nodeName)&&N.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(_=tp);if(_&&(_=_(e,d))){ru(h,_,n,g);break e}E&&E(e,v,d),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&yi(v,"number",v.value)}switch(E=d?ol(d):window,e){case"focusin":(go(E)||E.contentEditable==="true")&&(il=E,_i=d,Xl=null);break;case"focusout":Xl=_i=il=null;break;case"mousedown":Li=!0;break;case"contextmenu":case"mouseup":case"dragend":Li=!1,So(h,n,g);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":So(h,n,g)}var w;if(ja)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else sl?nu(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(tu&&n.locale!=="ko"&&(sl||x!=="onCompositionStart"?x==="onCompositionEnd"&&sl&&(w=eu()):(Sn=g,ya="value"in Sn?Sn.value:Sn.textContent,sl=!0)),E=rs(d,x),0<E.length&&(x=new mo(x,e,null,n,g),h.push({event:x,listeners:E}),w?x.data=w:(w=lu(n),w!==null&&(x.data=w)))),(w=Gf?Xf(e,n):Qf(e,n))&&(d=rs(d,"onBeforeInput"),0<d.length&&(g=new mo("onBeforeInput","beforeinput",null,n,g),h.push({event:g,listeners:d}),g.data=w))}hu(h,t)})}function or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rs(e,t){for(var n=t+"Capture",l=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tr(e,n),i!=null&&l.unshift(or(e,i,s)),i=tr(e,t),i!=null&&l.push(or(e,i,s))),e=e.return}return l}function nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eo(e,t,n,l,s){for(var i=t._reactName,a=[];n!==null&&n!==l;){var c=n,o=c.alternate,d=c.stateNode;if(o!==null&&o===l)break;c.tag===5&&d!==null&&(c=d,s?(o=tr(n,i),o!=null&&a.unshift(or(n,o,c))):s||(o=tr(n,i),o!=null&&a.push(or(n,o,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var cp=/\r\n?/g,up=/\u0000|\uFFFD/g;function To(e){return(typeof e=="string"?e:""+e).replace(cp,`
`).replace(up,"")}function Mr(e,t,n){if(t=To(t),To(e)!==t&&n)throw Error(L(425))}function ss(){}var Mi=null,zi=null;function bi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Di=typeof setTimeout=="function"?setTimeout:void 0,dp=typeof clearTimeout=="function"?clearTimeout:void 0,Po=typeof Promise=="function"?Promise:void 0,fp=typeof queueMicrotask=="function"?queueMicrotask:typeof Po<"u"?function(e){return Po.resolve(null).then(e).catch(pp)}:Di;function pp(e){setTimeout(function(){throw e})}function qs(e,t){var n=t,l=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(l===0){e.removeChild(s),rr(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=s}while(n);rr(t)}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _o(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ll,cr="__reactProps$"+Ll,fn="__reactContainer$"+Ll,Ri="__reactEvents$"+Ll,mp="__reactListeners$"+Ll,hp="__reactHandles$"+Ll;function Wn(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_o(e);e!==null;){if(n=e[tn])return n;e=_o(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[tn]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ol(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Es(e){return e[cr]||null}var Ii=[],cl=-1;function In(e){return{current:e}}function Te(e){0>cl||(e.current=Ii[cl],Ii[cl]=null,cl--)}function ke(e,t){cl++,Ii[cl]=e.current,e.current=t}var Dn={},ct=In(Dn),Nt=In(!1),Xn=Dn;function wl(e,t){var n=e.type.contextTypes;if(!n)return Dn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wt(e){return e=e.childContextTypes,e!=null}function is(){Te(Nt),Te(ct)}function Lo(e,t,n){if(ct.current!==Dn)throw Error(L(168));ke(ct,t),ke(Nt,n)}function yu(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var s in l)if(!(s in t))throw Error(L(108,Zd(e)||"Unknown",s));return be({},n,l)}function as(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,Xn=ct.current,ke(ct,e),ke(Nt,Nt.current),!0}function Mo(e,t,n){var l=e.stateNode;if(!l)throw Error(L(169));n?(e=yu(e,t,Xn),l.__reactInternalMemoizedMergedChildContext=e,Te(Nt),Te(ct),ke(ct,e)):Te(Nt),ke(Nt,n)}var an=null,Ts=!1,ei=!1;function gu(e){an===null?an=[e]:an.push(e)}function vp(e){Ts=!0,gu(e)}function Fn(){if(!ei&&an!==null){ei=!0;var e=0,t=we;try{var n=an;for(we=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}an=null,Ts=!1}catch(s){throw an!==null&&(an=an.slice(e+1)),Wc(pa,Fn),s}finally{we=t,ei=!1}}return null}var ul=[],dl=0,os=null,cs=0,Dt=[],Rt=0,Qn=null,on=1,cn="";function Un(e,t){ul[dl++]=cs,ul[dl++]=os,os=e,cs=t}function xu(e,t,n){Dt[Rt++]=on,Dt[Rt++]=cn,Dt[Rt++]=Qn,Qn=e;var l=on;e=cn;var s=32-Gt(l)-1;l&=~(1<<s),n+=1;var i=32-Gt(t)+s;if(30<i){var a=s-s%5;i=(l&(1<<a)-1).toString(32),l>>=a,s-=a,on=1<<32-Gt(t)+s|n<<s|l,cn=i+e}else on=1<<i|n<<s|l,cn=e}function wa(e){e.return!==null&&(Un(e,1),xu(e,1,0))}function Sa(e){for(;e===os;)os=ul[--dl],ul[dl]=null,cs=ul[--dl],ul[dl]=null;for(;e===Qn;)Qn=Dt[--Rt],Dt[Rt]=null,cn=Dt[--Rt],Dt[Rt]=null,on=Dt[--Rt],Dt[Rt]=null}var Lt=null,_t=null,_e=!1,Yt=null;function ju(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,_t=Pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:on,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lt=e,_t=null,!0):!1;default:return!1}}function Fi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $i(e){if(_e){var t=_t;if(t){var n=t;if(!zo(e,t)){if(Fi(e))throw Error(L(418));t=Pn(n.nextSibling);var l=Lt;t&&zo(e,t)?ju(l,n):(e.flags=e.flags&-4097|2,_e=!1,Lt=e)}}else{if(Fi(e))throw Error(L(418));e.flags=e.flags&-4097|2,_e=!1,Lt=e}}}function bo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function zr(e){if(e!==Lt)return!1;if(!_e)return bo(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bi(e.type,e.memoizedProps)),t&&(t=_t)){if(Fi(e))throw Nu(),Error(L(418));for(;t;)ju(e,t),t=Pn(t.nextSibling)}if(bo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=Pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Lt?Pn(e.stateNode.nextSibling):null;return!0}function Nu(){for(var e=_t;e;)e=Pn(e.nextSibling)}function Sl(){_t=Lt=null,_e=!1}function ka(e){Yt===null?Yt=[e]:Yt.push(e)}var yp=hn.ReactCurrentBatchConfig;function Il(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var l=n.stateNode}if(!l)throw Error(L(147,e));var s=l,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function br(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Do(e){var t=e._init;return t(e._payload)}function wu(e){function t(f,u){if(e){var m=f.deletions;m===null?(f.deletions=[u],f.flags|=16):m.push(u)}}function n(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function l(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function s(f,u){return f=zn(f,u),f.index=0,f.sibling=null,f}function i(f,u,m){return f.index=m,e?(m=f.alternate,m!==null?(m=m.index,m<u?(f.flags|=2,u):m):(f.flags|=2,u)):(f.flags|=1048576,u)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,u,m,y){return u===null||u.tag!==6?(u=ai(m,f.mode,y),u.return=f,u):(u=s(u,m),u.return=f,u)}function o(f,u,m,y){var _=m.type;return _===rl?g(f,u,m.props.children,y,m.key):u!==null&&(u.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xn&&Do(_)===u.type)?(y=s(u,m.props),y.ref=Il(f,u,m),y.return=f,y):(y=Kr(m.type,m.key,m.props,null,f.mode,y),y.ref=Il(f,u,m),y.return=f,y)}function d(f,u,m,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=oi(m,f.mode,y),u.return=f,u):(u=s(u,m.children||[]),u.return=f,u)}function g(f,u,m,y,_){return u===null||u.tag!==7?(u=Gn(m,f.mode,y,_),u.return=f,u):(u=s(u,m),u.return=f,u)}function h(f,u,m){if(typeof u=="string"&&u!==""||typeof u=="number")return u=ai(""+u,f.mode,m),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case wr:return m=Kr(u.type,u.key,u.props,null,f.mode,m),m.ref=Il(f,null,u),m.return=f,m;case ll:return u=oi(u,f.mode,m),u.return=f,u;case xn:var y=u._init;return h(f,y(u._payload),m)}if(Ul(u)||Ml(u))return u=Gn(u,f.mode,m,null),u.return=f,u;br(f,u)}return null}function v(f,u,m,y){var _=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:c(f,u,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wr:return m.key===_?o(f,u,m,y):null;case ll:return m.key===_?d(f,u,m,y):null;case xn:return _=m._init,v(f,u,_(m._payload),y)}if(Ul(m)||Ml(m))return _!==null?null:g(f,u,m,y,null);br(f,m)}return null}function N(f,u,m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(m)||null,c(u,f,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wr:return f=f.get(y.key===null?m:y.key)||null,o(u,f,y,_);case ll:return f=f.get(y.key===null?m:y.key)||null,d(u,f,y,_);case xn:var E=y._init;return N(f,u,m,E(y._payload),_)}if(Ul(y)||Ml(y))return f=f.get(m)||null,g(u,f,y,_,null);br(u,y)}return null}function C(f,u,m,y){for(var _=null,E=null,w=u,x=u=0,D=null;w!==null&&x<m.length;x++){w.index>x?(D=w,w=null):D=w.sibling;var A=v(f,w,m[x],y);if(A===null){w===null&&(w=D);break}e&&w&&A.alternate===null&&t(f,w),u=i(A,u,x),E===null?_=A:E.sibling=A,E=A,w=D}if(x===m.length)return n(f,w),_e&&Un(f,x),_;if(w===null){for(;x<m.length;x++)w=h(f,m[x],y),w!==null&&(u=i(w,u,x),E===null?_=w:E.sibling=w,E=w);return _e&&Un(f,x),_}for(w=l(f,w);x<m.length;x++)D=N(w,f,x,m[x],y),D!==null&&(e&&D.alternate!==null&&w.delete(D.key===null?x:D.key),u=i(D,u,x),E===null?_=D:E.sibling=D,E=D);return e&&w.forEach(function(re){return t(f,re)}),_e&&Un(f,x),_}function P(f,u,m,y){var _=Ml(m);if(typeof _!="function")throw Error(L(150));if(m=_.call(m),m==null)throw Error(L(151));for(var E=_=null,w=u,x=u=0,D=null,A=m.next();w!==null&&!A.done;x++,A=m.next()){w.index>x?(D=w,w=null):D=w.sibling;var re=v(f,w,A.value,y);if(re===null){w===null&&(w=D);break}e&&w&&re.alternate===null&&t(f,w),u=i(re,u,x),E===null?_=re:E.sibling=re,E=re,w=D}if(A.done)return n(f,w),_e&&Un(f,x),_;if(w===null){for(;!A.done;x++,A=m.next())A=h(f,A.value,y),A!==null&&(u=i(A,u,x),E===null?_=A:E.sibling=A,E=A);return _e&&Un(f,x),_}for(w=l(f,w);!A.done;x++,A=m.next())A=N(w,f,x,A.value,y),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?x:A.key),u=i(A,u,x),E===null?_=A:E.sibling=A,E=A);return e&&w.forEach(function(Se){return t(f,Se)}),_e&&Un(f,x),_}function Y(f,u,m,y){if(typeof m=="object"&&m!==null&&m.type===rl&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case wr:e:{for(var _=m.key,E=u;E!==null;){if(E.key===_){if(_=m.type,_===rl){if(E.tag===7){n(f,E.sibling),u=s(E,m.props.children),u.return=f,f=u;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xn&&Do(_)===E.type){n(f,E.sibling),u=s(E,m.props),u.ref=Il(f,E,m),u.return=f,f=u;break e}n(f,E);break}else t(f,E);E=E.sibling}m.type===rl?(u=Gn(m.props.children,f.mode,y,m.key),u.return=f,f=u):(y=Kr(m.type,m.key,m.props,null,f.mode,y),y.ref=Il(f,u,m),y.return=f,f=y)}return a(f);case ll:e:{for(E=m.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){n(f,u.sibling),u=s(u,m.children||[]),u.return=f,f=u;break e}else{n(f,u);break}else t(f,u);u=u.sibling}u=oi(m,f.mode,y),u.return=f,f=u}return a(f);case xn:return E=m._init,Y(f,u,E(m._payload),y)}if(Ul(m))return C(f,u,m,y);if(Ml(m))return P(f,u,m,y);br(f,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,u!==null&&u.tag===6?(n(f,u.sibling),u=s(u,m),u.return=f,f=u):(n(f,u),u=ai(m,f.mode,y),u.return=f,f=u),a(f)):n(f,u)}return Y}var kl=wu(!0),Su=wu(!1),us=In(null),ds=null,fl=null,Ca=null;function Ea(){Ca=fl=ds=null}function Ta(e){var t=us.current;Te(us),e._currentValue=t}function Ai(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function xl(e,t){ds=e,Ca=fl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},fl===null){if(ds===null)throw Error(L(308));fl=e,ds.dependencies={lanes:0,firstContext:e}}else fl=fl.next=e;return t}var Bn=null;function Pa(e){Bn===null?Bn=[e]:Bn.push(e)}function ku(e,t,n,l){var s=t.interleaved;return s===null?(n.next=n,Pa(t)):(n.next=s.next,s.next=n),t.interleaved=n,pn(e,l)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function _a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ge&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,pn(e,n)}return s=l.interleaved,s===null?(t.next=t,Pa(l)):(t.next=s.next,s.next=t),l.interleaved=t,pn(e,n)}function Br(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ma(e,n)}}function Ro(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,l){var s=e.updateQueue;jn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,d=o.next;o.next=null,a===null?i=d:a.next=d,a=o;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==a&&(c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;a=0,g=d=o=null,c=i;do{var v=c.lane,N=c.eventTime;if((l&v)===v){g!==null&&(g=g.next={eventTime:N,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=e,P=c;switch(v=t,N=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){h=C.call(N,h,v);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,v=typeof C=="function"?C.call(N,h,v):C,v==null)break e;h=be({},h,v);break e;case 2:jn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[c]:v.push(c))}else N={eventTime:N,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(d=g=N,o=h):g=g.next=N,a|=v;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;v=c,c=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(g===null&&(o=h),s.baseState=o,s.firstBaseUpdate=d,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Jn|=a,e.lanes=a,e.memoizedState=h}}function Io(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],s=l.callback;if(s!==null){if(l.callback=null,l=n,typeof s!="function")throw Error(L(191,s));s.call(l)}}}var jr={},ln=In(jr),ur=In(jr),dr=In(jr);function Vn(e){if(e===jr)throw Error(L(174));return e}function La(e,t){switch(ke(dr,t),ke(ur,e),ke(ln,jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xi(t,e)}Te(ln),ke(ln,t)}function Cl(){Te(ln),Te(ur),Te(dr)}function Eu(e){Vn(dr.current);var t=Vn(ln.current),n=xi(t,e.type);t!==n&&(ke(ur,e),ke(ln,n))}function Ma(e){ur.current===e&&(Te(ln),Te(ur))}var Me=In(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function za(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var Vr=hn.ReactCurrentDispatcher,ni=hn.ReactCurrentBatchConfig,Kn=0,ze=null,Ye=null,Je=null,ms=!1,Ql=!1,fr=0,gp=0;function it(){throw Error(L(321))}function ba(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function Da(e,t,n,l,s,i){if(Kn=i,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vr.current=e===null||e.memoizedState===null?wp:Sp,e=n(l,s),Ql){i=0;do{if(Ql=!1,fr=0,25<=i)throw Error(L(301));i+=1,Je=Ye=null,t.updateQueue=null,Vr.current=kp,e=n(l,s)}while(Ql)}if(Vr.current=hs,t=Ye!==null&&Ye.next!==null,Kn=0,Je=Ye=ze=null,ms=!1,t)throw Error(L(300));return e}function Ra(){var e=fr!==0;return fr=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ze.memoizedState=Je=e:Je=Je.next=e,Je}function At(){if(Ye===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Je===null?ze.memoizedState:Je.next;if(t!==null)Je=t,Ye=e;else{if(e===null)throw Error(L(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?ze.memoizedState=Je=e:Je=Je.next=e}return Je}function pr(e,t){return typeof t=="function"?t(e):t}function li(e){var t=At(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var l=Ye,s=l.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}l.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,l=l.baseState;var c=a=null,o=null,d=i;do{var g=d.lane;if((Kn&g)===g)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),l=d.hasEagerState?d.eagerState:e(l,d.action);else{var h={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=h,a=l):o=o.next=h,ze.lanes|=g,Jn|=g}d=d.next}while(d!==null&&d!==i);o===null?a=l:o.next=c,Qt(l,t.memoizedState)||(jt=!0),t.memoizedState=l,t.baseState=a,t.baseQueue=o,n.lastRenderedState=l}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ze.lanes|=i,Jn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ri(e){var t=At(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var l=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Qt(i,t.memoizedState)||(jt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,l]}function Tu(){}function Pu(e,t){var n=ze,l=At(),s=t(),i=!Qt(l.memoizedState,s);if(i&&(l.memoizedState=s,jt=!0),l=l.queue,Ia(Mu.bind(null,n,l,e),[e]),l.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,mr(9,Lu.bind(null,n,l,s,t),void 0,null),Ze===null)throw Error(L(349));Kn&30||_u(n,t,s)}return s}function _u(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lu(e,t,n,l){t.value=n,t.getSnapshot=l,zu(t)&&bu(e)}function Mu(e,t,n){return n(function(){zu(t)&&bu(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function bu(e){var t=pn(e,1);t!==null&&Xt(t,e,1,-1)}function Fo(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t.queue=e,e=e.dispatch=Np.bind(null,ze,e),[t.memoizedState,e]}function mr(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Du(){return At().memoizedState}function Yr(e,t,n,l){var s=en();ze.flags|=e,s.memoizedState=mr(1|t,n,void 0,l===void 0?null:l)}function Ps(e,t,n,l){var s=At();l=l===void 0?null:l;var i=void 0;if(Ye!==null){var a=Ye.memoizedState;if(i=a.destroy,l!==null&&ba(l,a.deps)){s.memoizedState=mr(t,n,i,l);return}}ze.flags|=e,s.memoizedState=mr(1|t,n,i,l)}function $o(e,t){return Yr(8390656,8,e,t)}function Ia(e,t){return Ps(2048,8,e,t)}function Ru(e,t){return Ps(4,2,e,t)}function Iu(e,t){return Ps(4,4,e,t)}function Fu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $u(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4,4,Fu.bind(null,t,e),n)}function Fa(){}function Au(e,t){var n=At();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&ba(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Ou(e,t){var n=At();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&ba(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function Uu(e,t,n){return Kn&21?(Qt(n,t)||(n=Yc(),ze.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function xp(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var l=ni.transition;ni.transition={};try{e(!1),t()}finally{we=n,ni.transition=l}}function Hu(){return At().memoizedState}function jp(e,t,n){var l=Mn(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},Wu(e))Bu(t,n);else if(n=ku(e,t,n,l),n!==null){var s=ht();Xt(n,e,l,s),Vu(n,t,l)}}function Np(e,t,n){var l=Mn(e),s={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Bu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,c=i(a,n);if(s.hasEagerState=!0,s.eagerState=c,Qt(c,a)){var o=t.interleaved;o===null?(s.next=s,Pa(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}n=ku(e,t,s,l),n!==null&&(s=ht(),Xt(n,e,l,s),Vu(n,t,l))}}function Wu(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Bu(e,t){Ql=ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vu(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ma(e,n)}}var hs={readContext:$t,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},wp={readContext:$t,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:$o,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yr(4194308,4,Fu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=en();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=jp.bind(null,ze,e),[l.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:Fo,useDebugValue:Fa,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=xp.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=ze,s=en();if(_e){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ze===null)throw Error(L(349));Kn&30||_u(l,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$o(Mu.bind(null,l,i,e),[e]),l.flags|=2048,mr(9,Lu.bind(null,l,i,n,t),void 0,null),n},useId:function(){var e=en(),t=Ze.identifierPrefix;if(_e){var n=cn,l=on;n=(l&~(1<<32-Gt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sp={readContext:$t,useCallback:Au,useContext:$t,useEffect:Ia,useImperativeHandle:$u,useInsertionEffect:Ru,useLayoutEffect:Iu,useMemo:Ou,useReducer:li,useRef:Du,useState:function(){return li(pr)},useDebugValue:Fa,useDeferredValue:function(e){var t=At();return Uu(t,Ye.memoizedState,e)},useTransition:function(){var e=li(pr)[0],t=At().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Pu,useId:Hu,unstable_isNewReconciler:!1},kp={readContext:$t,useCallback:Au,useContext:$t,useEffect:Ia,useImperativeHandle:$u,useInsertionEffect:Ru,useLayoutEffect:Iu,useMemo:Ou,useReducer:ri,useRef:Du,useState:function(){return ri(pr)},useDebugValue:Fa,useDeferredValue:function(e){var t=At();return Ye===null?t.memoizedState=e:Uu(t,Ye.memoizedState,e)},useTransition:function(){var e=ri(pr)[0],t=At().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Pu,useId:Hu,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oi(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _s={isMounted:function(e){return(e=e._reactInternals)?el(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=ht(),s=Mn(e),i=un(l,s);i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,s),t!==null&&(Xt(t,e,s,l),Br(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=ht(),s=Mn(e),i=un(l,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,s),t!==null&&(Xt(t,e,s,l),Br(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),l=Mn(e),s=un(n,l);s.tag=2,t!=null&&(s.callback=t),t=_n(e,s,l),t!==null&&(Xt(t,e,l,n),Br(t,e,l))}};function Ao(e,t,n,l,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,a):t.prototype&&t.prototype.isPureReactComponent?!ir(n,l)||!ir(s,i):!0}function Yu(e,t,n){var l=!1,s=Dn,i=t.contextType;return typeof i=="object"&&i!==null?i=$t(i):(s=wt(t)?Xn:ct.current,l=t.contextTypes,i=(l=l!=null)?wl(e,s):Dn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_s,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&_s.enqueueReplaceState(t,t.state,null)}function Ui(e,t,n,l){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_a(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$t(i):(i=wt(t)?Xn:ct.current,s.context=wl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oi(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_s.enqueueReplaceState(s,s.state,null),fs(e,n,s,l),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function El(e,t){try{var n="",l=t;do n+=Jd(l),l=l.return;while(l);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function si(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cp=typeof WeakMap=="function"?WeakMap:Map;function Gu(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){ys||(ys=!0,Zi=l),Hi(e,t)},n}function Xu(e,t,n){n=un(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var s=t.value;n.payload=function(){return l(s)},n.callback=function(){Hi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hi(e,t),typeof l!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Uo(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Cp;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(n)||(s.add(n),e=Ap.bind(null,e,t,n),t.then(e,e))}function Ho(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wo(e,t,n,l,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Ep=hn.ReactCurrentOwner,jt=!1;function mt(e,t,n,l){t.child=e===null?Su(t,null,n,l):kl(t,e.child,n,l)}function Bo(e,t,n,l,s){n=n.render;var i=t.ref;return xl(t,s),l=Da(e,t,n,l,i,s),n=Ra(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(_e&&n&&wa(t),t.flags|=1,mt(e,t,l,s),t.child)}function Vo(e,t,n,l,s){if(e===null){var i=n.type;return typeof i=="function"&&!Va(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Qu(e,t,i,l,s)):(e=Kr(n.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ir,n(a,l)&&e.ref===t.ref)return mn(e,t,s)}return t.flags|=1,e=zn(i,l),e.ref=t.ref,e.return=t,t.child=e}function Qu(e,t,n,l,s){if(e!==null){var i=e.memoizedProps;if(ir(i,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=i,(e.lanes&s)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,mn(e,t,s)}return Wi(e,t,n,l,s)}function Ku(e,t,n){var l=t.pendingProps,s=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(ml,Pt),Pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(ml,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=i!==null?i.baseLanes:n,ke(ml,Pt),Pt|=l}else i!==null?(l=i.baseLanes|n,t.memoizedState=null):l=n,ke(ml,Pt),Pt|=l;return mt(e,t,s,n),t.child}function Ju(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wi(e,t,n,l,s){var i=wt(n)?Xn:ct.current;return i=wl(t,i),xl(t,s),n=Da(e,t,n,l,i,s),l=Ra(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(_e&&l&&wa(t),t.flags|=1,mt(e,t,n,s),t.child)}function Yo(e,t,n,l,s){if(wt(n)){var i=!0;as(t)}else i=!1;if(xl(t,s),t.stateNode===null)Gr(e,t),Yu(t,n,l),Ui(t,n,l,s),l=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var o=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=$t(d):(d=wt(n)?Xn:ct.current,d=wl(t,d));var g=n.getDerivedStateFromProps,h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==l||o!==d)&&Oo(t,a,l,d),jn=!1;var v=t.memoizedState;a.state=v,fs(t,l,a,s),o=t.memoizedState,c!==l||v!==o||Nt.current||jn?(typeof g=="function"&&(Oi(t,n,g,l),o=t.memoizedState),(c=jn||Ao(t,n,c,l,v,o,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=o),a.props=l,a.state=o,a.context=d,l=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{a=t.stateNode,Cu(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Bt(t.type,c),a.props=d,h=t.pendingProps,v=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=$t(o):(o=wt(n)?Xn:ct.current,o=wl(t,o));var N=n.getDerivedStateFromProps;(g=typeof N=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==h||v!==o)&&Oo(t,a,l,o),jn=!1,v=t.memoizedState,a.state=v,fs(t,l,a,s);var C=t.memoizedState;c!==h||v!==C||Nt.current||jn?(typeof N=="function"&&(Oi(t,n,N,l),C=t.memoizedState),(d=jn||Ao(t,n,d,l,v,C,o)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(l,C,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(l,C,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=C),a.props=l,a.state=C,a.context=o,l=d):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),l=!1)}return Bi(e,t,n,l,i,s)}function Bi(e,t,n,l,s,i){Ju(e,t);var a=(t.flags&128)!==0;if(!l&&!a)return s&&Mo(t,n,!1),mn(e,t,i);l=t.stateNode,Ep.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&a?(t.child=kl(t,e.child,null,i),t.child=kl(t,null,c,i)):mt(e,t,c,i),t.memoizedState=l.state,s&&Mo(t,n,!0),t.child}function Zu(e){var t=e.stateNode;t.pendingContext?Lo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(e,t.context,!1),La(e,t.containerInfo)}function Go(e,t,n,l,s){return Sl(),ka(s),t.flags|=256,mt(e,t,n,l),t.child}var Vi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null,transitions:null}}function qu(e,t,n){var l=t.pendingProps,s=Me.current,i=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Me,s&1),e===null)return $i(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=l.children,e=l.fallback,i?(l=t.mode,i=t.child,a={mode:"hidden",children:a},!(l&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=zs(a,l,0,null),e=Gn(e,l,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yi(n),t.memoizedState=Vi,e):$a(t,a));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Tp(e,t,a,l,c,s,n);if(i){i=l.fallback,a=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:l.children};return!(a&1)&&t.child!==s?(l=t.child,l.childLanes=0,l.pendingProps=o,t.deletions=null):(l=zn(s,o),l.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=zn(c,i):(i=Gn(i,a,n,null),i.flags|=2),i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,a=e.child.memoizedState,a=a===null?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Vi,l}return i=e.child,e=i.sibling,l=zn(i,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function $a(e,t){return t=zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dr(e,t,n,l){return l!==null&&ka(l),kl(t,e.child,null,n),e=$a(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tp(e,t,n,l,s,i,a){if(n)return t.flags&256?(t.flags&=-257,l=si(Error(L(422))),Dr(e,t,a,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=l.fallback,s=t.mode,l=zs({mode:"visible",children:l.children},s,0,null),i=Gn(i,s,a,null),i.flags|=2,l.return=t,i.return=t,l.sibling=i,t.child=l,t.mode&1&&kl(t,e.child,null,a),t.child.memoizedState=Yi(a),t.memoizedState=Vi,i);if(!(t.mode&1))return Dr(e,t,a,null);if(s.data==="$!"){if(l=s.nextSibling&&s.nextSibling.dataset,l)var c=l.dgst;return l=c,i=Error(L(419)),l=si(i,l,void 0),Dr(e,t,a,l)}if(c=(a&e.childLanes)!==0,jt||c){if(l=Ze,l!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(l.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pn(e,s),Xt(l,e,s,-1))}return Ba(),l=si(Error(L(421))),Dr(e,t,a,l)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Op.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,_t=Pn(s.nextSibling),Lt=t,_e=!0,Yt=null,e!==null&&(Dt[Rt++]=on,Dt[Rt++]=cn,Dt[Rt++]=Qn,on=e.id,cn=e.overflow,Qn=t),t=$a(t,l.children),t.flags|=4096,t)}function Xo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ai(e.return,t,n)}function ii(e,t,n,l,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=n,i.tailMode=s)}function ed(e,t,n){var l=t.pendingProps,s=l.revealOrder,i=l.tail;if(mt(e,t,l.children,n),l=Me.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xo(e,n,t);else if(e.tag===19)Xo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ke(Me,l),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ii(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ps(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ii(t,!0,n,null,i);break;case"together":ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pp(e,t,n){switch(t.tag){case 3:Zu(t),Sl();break;case 5:Eu(t);break;case 1:wt(t.type)&&as(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,s=t.memoizedProps.value;ke(us,l._currentValue),l._currentValue=s;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(ke(Me,Me.current&1),t.flags|=128,null):n&t.child.childLanes?qu(e,t,n):(ke(Me,Me.current&1),e=mn(e,t,n),e!==null?e.sibling:null);ke(Me,Me.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return ed(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Me,Me.current),l)break;return null;case 22:case 23:return t.lanes=0,Ku(e,t,n)}return mn(e,t,n)}var td,Gi,nd,ld;td=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gi=function(){};nd=function(e,t,n,l){var s=e.memoizedProps;if(s!==l){e=t.stateNode,Vn(ln.current);var i=null;switch(n){case"input":s=hi(e,s),l=hi(e,l),i=[];break;case"select":s=be({},s,{value:void 0}),l=be({},l,{value:void 0}),i=[];break;case"textarea":s=gi(e,s),l=gi(e,l),i=[];break;default:typeof s.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=ss)}ji(n,l);var a;n=null;for(d in s)if(!l.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ql.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in l){var o=l[d];if(c=s!=null?s[d]:void 0,l.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&c[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(i||(i=[]),i.push(d,n)),n=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(i=i||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ql.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&Ee("scroll",e),i||c===o||(i=[])):(i=i||[]).push(d,o))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ld=function(e,t,n,l){n!==l&&(t.flags|=4)};function Fl(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags&14680064,l|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function _p(e,t,n){var l=t.pendingProps;switch(Sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return wt(t.type)&&is(),at(t),null;case 3:return l=t.stateNode,Cl(),Te(Nt),Te(ct),za(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(ta(Yt),Yt=null))),Gi(e,t),at(t),null;case 5:Ma(t);var s=Vn(dr.current);if(n=t.type,e!==null&&t.stateNode!=null)nd(e,t,n,l,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(L(166));return at(t),null}if(e=Vn(ln.current),zr(t)){l=t.stateNode,n=t.type;var i=t.memoizedProps;switch(l[tn]=t,l[cr]=i,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",l),Ee("close",l);break;case"iframe":case"object":case"embed":Ee("load",l);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Ee(Wl[s],l);break;case"source":Ee("error",l);break;case"img":case"image":case"link":Ee("error",l),Ee("load",l);break;case"details":Ee("toggle",l);break;case"input":no(l,i),Ee("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",l);break;case"textarea":ro(l,i),Ee("invalid",l)}ji(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?l.textContent!==c&&(i.suppressHydrationWarning!==!0&&Mr(l.textContent,c,e),s=["children",c]):typeof c=="number"&&l.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Mr(l.textContent,c,e),s=["children",""+c]):ql.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ee("scroll",l)}switch(n){case"input":Sr(l),lo(l,i,!0);break;case"textarea":Sr(l),so(l);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(l.onclick=ss)}l=s,t.updateQueue=l,l!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=a.createElement(n,{is:l.is}):(e=a.createElement(n),n==="select"&&(a=e,l.multiple?a.multiple=!0:l.size&&(a.size=l.size))):e=a.createElementNS(e,n),e[tn]=t,e[cr]=l,td(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ni(n,l),n){case"dialog":Ee("cancel",e),Ee("close",e),s=l;break;case"iframe":case"object":case"embed":Ee("load",e),s=l;break;case"video":case"audio":for(s=0;s<Wl.length;s++)Ee(Wl[s],e);s=l;break;case"source":Ee("error",e),s=l;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=l;break;case"details":Ee("toggle",e),s=l;break;case"input":no(e,l),s=hi(e,l),Ee("invalid",e);break;case"option":s=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},s=be({},l,{value:void 0}),Ee("invalid",e);break;case"textarea":ro(e,l),s=gi(e,l),Ee("invalid",e);break;default:s=l}ji(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var o=c[i];i==="style"?Dc(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&zc(e,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&er(e,o):typeof o=="number"&&er(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ql.hasOwnProperty(i)?o!=null&&i==="onScroll"&&Ee("scroll",e):o!=null&&oa(e,i,o,a))}switch(n){case"input":Sr(e),lo(e,l,!1);break;case"textarea":Sr(e),so(e);break;case"option":l.value!=null&&e.setAttribute("value",""+bn(l.value));break;case"select":e.multiple=!!l.multiple,i=l.value,i!=null?hl(e,!!l.multiple,i,!1):l.defaultValue!=null&&hl(e,!!l.multiple,l.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ss)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)ld(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(L(166));if(n=Vn(dr.current),Vn(ln.current),zr(t)){if(l=t.stateNode,n=t.memoizedProps,l[tn]=t,(i=l.nodeValue!==n)&&(e=Lt,e!==null))switch(e.tag){case 3:Mr(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mr(l.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[tn]=t,t.stateNode=l}return at(t),null;case 13:if(Te(Me),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&_t!==null&&t.mode&1&&!(t.flags&128))Nu(),Sl(),t.flags|=98560,i=!1;else if(i=zr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[tn]=t}else Sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),i=!1}else Yt!==null&&(ta(Yt),Yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Ge===0&&(Ge=3):Ba())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Cl(),Gi(e,t),e===null&&ar(t.stateNode.containerInfo),at(t),null;case 10:return Ta(t.type._context),at(t),null;case 17:return wt(t.type)&&is(),at(t),null;case 19:if(Te(Me),i=t.memoizedState,i===null)return at(t),null;if(l=(t.flags&128)!==0,a=i.rendering,a===null)if(l)Fl(i,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ps(e),a!==null){for(t.flags|=128,Fl(i,!1),l=a.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)i=n,e=l,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>Tl&&(t.flags|=128,l=!0,Fl(i,!1),t.lanes=4194304)}else{if(!l)if(e=ps(a),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_e)return at(t),null}else 2*Ue()-i.renderingStartTime>Tl&&n!==1073741824&&(t.flags|=128,l=!0,Fl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,n=Me.current,ke(Me,l?n&1|2:n&1),t):(at(t),null);case 22:case 23:return Wa(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Pt&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Lp(e,t){switch(Sa(t),t.tag){case 1:return wt(t.type)&&is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cl(),Te(Nt),Te(ct),za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ma(t),null;case 13:if(Te(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Me),null;case 4:return Cl(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return Wa(),null;case 24:return null;default:return null}}var Rr=!1,ot=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,O=null;function pl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){Fe(e,t,l)}else n.current=null}function Xi(e,t,n){try{n()}catch(l){Fe(e,t,l)}}var Qo=!1;function zp(e,t){if(Mi=ns,e=ou(),Na(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var s=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,o=-1,d=0,g=0,h=e,v=null;t:for(;;){for(var N;h!==n||s!==0&&h.nodeType!==3||(c=a+s),h!==i||l!==0&&h.nodeType!==3||(o=a+l),h.nodeType===3&&(a+=h.nodeValue.length),(N=h.firstChild)!==null;)v=h,h=N;for(;;){if(h===e)break t;if(v===n&&++d===s&&(c=a),v===i&&++g===l&&(o=a),(N=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=N}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(zi={focusedElem:e,selectionRange:n},ns=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,Y=C.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?P:Bt(t.type,P),Y);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(y){Fe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return C=Qo,Qo=!1,C}function Kl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var s=l=l.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xi(t,n,i)}s=s.next}while(s!==l)}}function Ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Qi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rd(e){var t=e.alternate;t!==null&&(e.alternate=null,rd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[cr],delete t[Ri],delete t[mp],delete t[hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sd(e){return e.tag===5||e.tag===3||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ki(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ss));else if(l!==4&&(e=e.child,e!==null))for(Ki(e,t,n),e=e.sibling;e!==null;)Ki(e,t,n),e=e.sibling}function Ji(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ji(e,t,n),e=e.sibling;e!==null;)Ji(e,t,n),e=e.sibling}var tt=null,Vt=!1;function gn(e,t,n){for(n=n.child;n!==null;)id(e,t,n),n=n.sibling}function id(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ws,n)}catch{}switch(n.tag){case 5:ot||pl(n,t);case 6:var l=tt,s=Vt;tt=null,gn(e,t,n),tt=l,Vt=s,tt!==null&&(Vt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Vt?(e=tt,n=n.stateNode,e.nodeType===8?qs(e.parentNode,n):e.nodeType===1&&qs(e,n),rr(e)):qs(tt,n.stateNode));break;case 4:l=tt,s=Vt,tt=n.stateNode.containerInfo,Vt=!0,gn(e,t,n),tt=l,Vt=s;break;case 0:case 11:case 14:case 15:if(!ot&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){s=l=l.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Xi(n,t,a),s=s.next}while(s!==l)}gn(e,t,n);break;case 1:if(!ot&&(pl(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(c){Fe(n,t,c)}gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:n.mode&1?(ot=(l=ot)||n.memoizedState!==null,gn(e,t,n),ot=l):gn(e,t,n);break;default:gn(e,t,n)}}function Jo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mp),t.forEach(function(l){var s=Up.bind(null,e,l);n.has(l)||(n.add(l),l.then(s,s))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];try{var i=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:tt=c.stateNode,Vt=!1;break e;case 3:tt=c.stateNode.containerInfo,Vt=!0;break e;case 4:tt=c.stateNode.containerInfo,Vt=!0;break e}c=c.return}if(tt===null)throw Error(L(160));id(i,a,s),tt=null,Vt=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(d){Fe(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ad(t,e),t=t.sibling}function ad(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),qt(e),l&4){try{Kl(3,e,e.return),Ls(3,e)}catch(P){Fe(e,e.return,P)}try{Kl(5,e,e.return)}catch(P){Fe(e,e.return,P)}}break;case 1:Wt(t,e),qt(e),l&512&&n!==null&&pl(n,n.return);break;case 5:if(Wt(t,e),qt(e),l&512&&n!==null&&pl(n,n.return),e.flags&32){var s=e.stateNode;try{er(s,"")}catch(P){Fe(e,e.return,P)}}if(l&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&_c(s,i),Ni(c,a);var d=Ni(c,i);for(a=0;a<o.length;a+=2){var g=o[a],h=o[a+1];g==="style"?Dc(s,h):g==="dangerouslySetInnerHTML"?zc(s,h):g==="children"?er(s,h):oa(s,g,h,d)}switch(c){case"input":vi(s,i);break;case"textarea":Lc(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?hl(s,!!i.multiple,N,!1):v!==!!i.multiple&&(i.defaultValue!=null?hl(s,!!i.multiple,i.defaultValue,!0):hl(s,!!i.multiple,i.multiple?[]:"",!1))}s[cr]=i}catch(P){Fe(e,e.return,P)}}break;case 6:if(Wt(t,e),qt(e),l&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(P){Fe(e,e.return,P)}}break;case 3:if(Wt(t,e),qt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{rr(t.containerInfo)}catch(P){Fe(e,e.return,P)}break;case 4:Wt(t,e),qt(e);break;case 13:Wt(t,e),qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ua=Ue())),l&4&&Jo(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(d=ot)||g,Wt(t,e),ot=d):Wt(t,e),qt(e),l&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(O=e,g=e.child;g!==null;){for(h=O=g;O!==null;){switch(v=O,N=v.child,v.tag){case 0:case 11:case 14:case 15:Kl(4,v,v.return);break;case 1:pl(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){l=v,n=v.return;try{t=l,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(P){Fe(l,n,P)}}break;case 5:pl(v,v.return);break;case 22:if(v.memoizedState!==null){qo(h);continue}}N!==null?(N.return=v,O=N):qo(h)}g=g.sibling}e:for(g=null,h=e;;){if(h.tag===5){if(g===null){g=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,o=h.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=bc("display",a))}catch(P){Fe(e,e.return,P)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(P){Fe(e,e.return,P)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wt(t,e),qt(e),l&4&&Jo(e);break;case 21:break;default:Wt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sd(n)){var l=n;break e}n=n.return}throw Error(L(160))}switch(l.tag){case 5:var s=l.stateNode;l.flags&32&&(er(s,""),l.flags&=-33);var i=Ko(e);Ji(e,i,s);break;case 3:case 4:var a=l.stateNode.containerInfo,c=Ko(e);Ki(e,c,a);break;default:throw Error(L(161))}}catch(o){Fe(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bp(e,t,n){O=e,od(e)}function od(e,t,n){for(var l=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&l){var a=s.memoizedState!==null||Rr;if(!a){var c=s.alternate,o=c!==null&&c.memoizedState!==null||ot;c=Rr;var d=ot;if(Rr=a,(ot=o)&&!d)for(O=s;O!==null;)a=O,o=a.child,a.tag===22&&a.memoizedState!==null?ec(s):o!==null?(o.return=a,O=o):ec(s);for(;i!==null;)O=i,od(i),i=i.sibling;O=s,Rr=c,ot=d}Zo(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Zo(e)}}function Zo(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Ls(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!ot)if(n===null)l.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Bt(t.type,n.memoizedProps);l.componentDidUpdate(s,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Io(t,i,l);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Io(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&rr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ot||t.flags&512&&Qi(t)}catch(v){Fe(t,t.return,v)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function qo(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function ec(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ls(4,t)}catch(o){Fe(t,n,o)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var s=t.return;try{l.componentDidMount()}catch(o){Fe(t,s,o)}}var i=t.return;try{Qi(t)}catch(o){Fe(t,i,o)}break;case 5:var a=t.return;try{Qi(t)}catch(o){Fe(t,a,o)}}}catch(o){Fe(t,t.return,o)}if(t===e){O=null;break}var c=t.sibling;if(c!==null){c.return=t.return,O=c;break}O=t.return}}var Dp=Math.ceil,vs=hn.ReactCurrentDispatcher,Aa=hn.ReactCurrentOwner,Ft=hn.ReactCurrentBatchConfig,ge=0,Ze=null,He=null,nt=0,Pt=0,ml=In(0),Ge=0,hr=null,Jn=0,Ms=0,Oa=0,Jl=null,xt=null,Ua=0,Tl=1/0,sn=null,ys=!1,Zi=null,Ln=null,Ir=!1,kn=null,gs=0,Zl=0,qi=null,Xr=-1,Qr=0;function ht(){return ge&6?Ue():Xr!==-1?Xr:Xr=Ue()}function Mn(e){return e.mode&1?ge&2&&nt!==0?nt&-nt:yp.transition!==null?(Qr===0&&(Qr=Yc()),Qr):(e=we,e!==0||(e=window.event,e=e===void 0?16:qc(e.type)),e):1}function Xt(e,t,n,l){if(50<Zl)throw Zl=0,qi=null,Error(L(185));yr(e,n,l),(!(ge&2)||e!==Ze)&&(e===Ze&&(!(ge&2)&&(Ms|=n),Ge===4&&wn(e,nt)),St(e,l),n===1&&ge===0&&!(t.mode&1)&&(Tl=Ue()+500,Ts&&Fn()))}function St(e,t){var n=e.callbackNode;yf(e,t);var l=ts(e,e===Ze?nt:0);if(l===0)n!==null&&oo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&oo(n),t===1)e.tag===0?vp(tc.bind(null,e)):gu(tc.bind(null,e)),fp(function(){!(ge&6)&&Fn()}),n=null;else{switch(Gc(l)){case 1:n=pa;break;case 4:n=Bc;break;case 16:n=es;break;case 536870912:n=Vc;break;default:n=es}n=vd(n,cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cd(e,t){if(Xr=-1,Qr=0,ge&6)throw Error(L(327));var n=e.callbackNode;if(jl()&&e.callbackNode!==n)return null;var l=ts(e,e===Ze?nt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=xs(e,l);else{t=l;var s=ge;ge|=2;var i=dd();(Ze!==e||nt!==t)&&(sn=null,Tl=Ue()+500,Yn(e,t));do try{Fp();break}catch(c){ud(e,c)}while(!0);Ea(),vs.current=i,ge=s,He!==null?t=0:(Ze=null,nt=0,t=Ge)}if(t!==0){if(t===2&&(s=Ei(e),s!==0&&(l=s,t=ea(e,s))),t===1)throw n=hr,Yn(e,0),wn(e,l),St(e,Ue()),n;if(t===6)wn(e,l);else{if(s=e.current.alternate,!(l&30)&&!Rp(s)&&(t=xs(e,l),t===2&&(i=Ei(e),i!==0&&(l=i,t=ea(e,i))),t===1))throw n=hr,Yn(e,0),wn(e,l),St(e,Ue()),n;switch(e.finishedWork=s,e.finishedLanes=l,t){case 0:case 1:throw Error(L(345));case 2:Hn(e,xt,sn);break;case 3:if(wn(e,l),(l&130023424)===l&&(t=Ua+500-Ue(),10<t)){if(ts(e,0)!==0)break;if(s=e.suspendedLanes,(s&l)!==l){ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Di(Hn.bind(null,e,xt,sn),t);break}Hn(e,xt,sn);break;case 4:if(wn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,s=-1;0<l;){var a=31-Gt(l);i=1<<a,a=t[a],a>s&&(s=a),l&=~i}if(l=s,l=Ue()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Dp(l/1960))-l,10<l){e.timeoutHandle=Di(Hn.bind(null,e,xt,sn),l);break}Hn(e,xt,sn);break;case 5:Hn(e,xt,sn);break;default:throw Error(L(329))}}}return St(e,Ue()),e.callbackNode===n?cd.bind(null,e):null}function ea(e,t){var n=Jl;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=xs(e,t),e!==2&&(t=xt,xt=n,t!==null&&ta(t)),e}function ta(e){xt===null?xt=e:xt.push.apply(xt,e)}function Rp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var s=n[l],i=s.getSnapshot;s=s.value;try{if(!Qt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~Oa,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),l=1<<n;e[n]=-1,t&=~l}}function tc(e){if(ge&6)throw Error(L(327));jl();var t=ts(e,0);if(!(t&1))return St(e,Ue()),null;var n=xs(e,t);if(e.tag!==0&&n===2){var l=Ei(e);l!==0&&(t=l,n=ea(e,l))}if(n===1)throw n=hr,Yn(e,0),wn(e,t),St(e,Ue()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,xt,sn),St(e,Ue()),null}function Ha(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(Tl=Ue()+500,Ts&&Fn())}}function Zn(e){kn!==null&&kn.tag===0&&!(ge&6)&&jl();var t=ge;ge|=1;var n=Ft.transition,l=we;try{if(Ft.transition=null,we=1,e)return e()}finally{we=l,Ft.transition=n,ge=t,!(ge&6)&&Fn()}}function Wa(){Pt=ml.current,Te(ml)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dp(n)),He!==null)for(n=He.return;n!==null;){var l=n;switch(Sa(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&is();break;case 3:Cl(),Te(Nt),Te(ct),za();break;case 5:Ma(l);break;case 4:Cl();break;case 13:Te(Me);break;case 19:Te(Me);break;case 10:Ta(l.type._context);break;case 22:case 23:Wa()}n=n.return}if(Ze=e,He=e=zn(e.current,null),nt=Pt=t,Ge=0,hr=null,Oa=Ms=Jn=0,xt=Jl=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],l=n.interleaved,l!==null){n.interleaved=null;var s=l.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,l.next=a}n.pending=l}Bn=null}return e}function ud(e,t){do{var n=He;try{if(Ea(),Vr.current=hs,ms){for(var l=ze.memoizedState;l!==null;){var s=l.queue;s!==null&&(s.pending=null),l=l.next}ms=!1}if(Kn=0,Je=Ye=ze=null,Ql=!1,fr=0,Aa.current=null,n===null||n.return===null){Ge=1,hr=t,He=null;break}e:{var i=e,a=n.return,c=n,o=t;if(t=nt,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,g=c,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var N=Ho(a);if(N!==null){N.flags&=-257,Wo(N,a,c,i,t),N.mode&1&&Uo(i,d,t),t=N,o=d;var C=t.updateQueue;if(C===null){var P=new Set;P.add(o),t.updateQueue=P}else C.add(o);break e}else{if(!(t&1)){Uo(i,d,t),Ba();break e}o=Error(L(426))}}else if(_e&&c.mode&1){var Y=Ho(a);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),Wo(Y,a,c,i,t),ka(El(o,c));break e}}i=o=El(o,c),Ge!==4&&(Ge=2),Jl===null?Jl=[i]:Jl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Gu(i,o,t);Ro(i,f);break e;case 1:c=o;var u=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ln===null||!Ln.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=Xu(i,c,t);Ro(i,y);break e}}i=i.return}while(i!==null)}pd(n)}catch(_){t=_,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function dd(){var e=vs.current;return vs.current=hs,e===null?hs:e}function Ba(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||!(Jn&268435455)&&!(Ms&268435455)||wn(Ze,nt)}function xs(e,t){var n=ge;ge|=2;var l=dd();(Ze!==e||nt!==t)&&(sn=null,Yn(e,t));do try{Ip();break}catch(s){ud(e,s)}while(!0);if(Ea(),ge=n,vs.current=l,He!==null)throw Error(L(261));return Ze=null,nt=0,Ge}function Ip(){for(;He!==null;)fd(He)}function Fp(){for(;He!==null&&!of();)fd(He)}function fd(e){var t=hd(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?pd(e):He=t,Aa.current=null}function pd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lp(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,He=null;return}}else if(n=_p(n,t,Pt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ge===0&&(Ge=5)}function Hn(e,t,n){var l=we,s=Ft.transition;try{Ft.transition=null,we=1,$p(e,t,n,l)}finally{Ft.transition=s,we=l}return null}function $p(e,t,n,l){do jl();while(kn!==null);if(ge&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gf(e,i),e===Ze&&(He=Ze=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ir||(Ir=!0,vd(es,function(){return jl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ft.transition,Ft.transition=null;var a=we;we=1;var c=ge;ge|=4,Aa.current=null,zp(e,n),ad(n,e),rp(zi),ns=!!Mi,zi=Mi=null,e.current=n,bp(n),cf(),ge=c,we=a,Ft.transition=i}else e.current=n;if(Ir&&(Ir=!1,kn=e,gs=s),i=e.pendingLanes,i===0&&(Ln=null),ff(n.stateNode),St(e,Ue()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],l(s.value,{componentStack:s.stack,digest:s.digest});if(ys)throw ys=!1,e=Zi,Zi=null,e;return gs&1&&e.tag!==0&&jl(),i=e.pendingLanes,i&1?e===qi?Zl++:(Zl=0,qi=e):Zl=0,Fn(),null}function jl(){if(kn!==null){var e=Gc(gs),t=Ft.transition,n=we;try{if(Ft.transition=null,we=16>e?16:e,kn===null)var l=!1;else{if(e=kn,kn=null,gs=0,ge&6)throw Error(L(331));var s=ge;for(ge|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var c=i.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(O=d;O!==null;){var g=O;switch(g.tag){case 0:case 11:case 15:Kl(8,g,i)}var h=g.child;if(h!==null)h.return=g,O=h;else for(;O!==null;){g=O;var v=g.sibling,N=g.return;if(rd(g),g===d){O=null;break}if(v!==null){v.return=N,O=v;break}O=N}}}var C=i.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var Y=P.sibling;P.sibling=null,P=Y}while(P!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kl(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,O=f;break e}O=i.return}}var u=e.current;for(O=u;O!==null;){a=O;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,O=m;else e:for(a=u;O!==null;){if(c=O,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ls(9,c)}}catch(_){Fe(c,c.return,_)}if(c===a){O=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,O=y;break e}O=c.return}}if(ge=s,Fn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ws,e)}catch{}l=!0}return l}finally{we=n,Ft.transition=t}}return!1}function nc(e,t,n){t=El(n,t),t=Gu(e,t,1),e=_n(e,t,1),t=ht(),e!==null&&(yr(e,1,t),St(e,t))}function Fe(e,t,n){if(e.tag===3)nc(e,e,n);else for(;t!==null;){if(t.tag===3){nc(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ln===null||!Ln.has(l))){e=El(n,e),e=Xu(t,e,1),t=_n(t,e,1),e=ht(),t!==null&&(yr(t,1,e),St(t,e));break}}t=t.return}}function Ap(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(nt&n)===n&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>Ue()-Ua?Yn(e,0):Oa|=n),St(e,t)}function md(e,t){t===0&&(e.mode&1?(t=Er,Er<<=1,!(Er&130023424)&&(Er=4194304)):t=1);var n=ht();e=pn(e,t),e!==null&&(yr(e,t,n),St(e,n))}function Op(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),md(e,n)}function Up(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(L(314))}l!==null&&l.delete(t),md(e,n)}var hd;hd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,Pp(e,t,n);jt=!!(e.flags&131072)}else jt=!1,_e&&t.flags&1048576&&xu(t,cs,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Gr(e,t),e=t.pendingProps;var s=wl(t,ct.current);xl(t,n),s=Da(null,t,l,e,s,n);var i=Ra();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(l)?(i=!0,as(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_a(t),s.updater=_s,t.stateNode=s,s._reactInternals=t,Ui(t,l,e,n),t=Bi(null,t,l,!0,i,n)):(t.tag=0,_e&&i&&wa(t),mt(null,t,s,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Gr(e,t),e=t.pendingProps,s=l._init,l=s(l._payload),t.type=l,s=t.tag=Wp(l),e=Bt(l,e),s){case 0:t=Wi(null,t,l,e,n);break e;case 1:t=Yo(null,t,l,e,n);break e;case 11:t=Bo(null,t,l,e,n);break e;case 14:t=Vo(null,t,l,Bt(l.type,e),n);break e}throw Error(L(306,l,""))}return t;case 0:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Bt(l,s),Wi(e,t,l,s,n);case 1:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Bt(l,s),Yo(e,t,l,s,n);case 3:e:{if(Zu(t),e===null)throw Error(L(387));l=t.pendingProps,i=t.memoizedState,s=i.element,Cu(e,t),fs(t,l,null,n);var a=t.memoizedState;if(l=a.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=El(Error(L(423)),t),t=Go(e,t,l,n,s);break e}else if(l!==s){s=El(Error(L(424)),t),t=Go(e,t,l,n,s);break e}else for(_t=Pn(t.stateNode.containerInfo.firstChild),Lt=t,_e=!0,Yt=null,n=Su(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),l===s){t=mn(e,t,n);break e}mt(e,t,l,n)}t=t.child}return t;case 5:return Eu(t),e===null&&$i(t),l=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,bi(l,s)?a=null:i!==null&&bi(l,i)&&(t.flags|=32),Ju(e,t),mt(e,t,a,n),t.child;case 6:return e===null&&$i(t),null;case 13:return qu(e,t,n);case 4:return La(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=kl(t,null,l,n):mt(e,t,l,n),t.child;case 11:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Bt(l,s),Bo(e,t,l,s,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ke(us,l._currentValue),l._currentValue=a,i!==null)if(Qt(i.value,a)){if(i.children===s.children&&!Nt.current){t=mn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var o=c.firstContext;o!==null;){if(o.context===l){if(i.tag===1){o=un(-1,n&-n),o.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ai(i.return,n,t),c.lanes|=n;break}o=o.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ai(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,l=t.pendingProps.children,xl(t,n),s=$t(s),l=l(s),t.flags|=1,mt(e,t,l,n),t.child;case 14:return l=t.type,s=Bt(l,t.pendingProps),s=Bt(l.type,s),Vo(e,t,l,s,n);case 15:return Qu(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Bt(l,s),Gr(e,t),t.tag=1,wt(l)?(e=!0,as(t)):e=!1,xl(t,n),Yu(t,l,s),Ui(t,l,s,n),Bi(null,t,l,!0,e,n);case 19:return ed(e,t,n);case 22:return Ku(e,t,n)}throw Error(L(156,t.tag))};function vd(e,t){return Wc(e,t)}function Hp(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,l){return new Hp(e,t,n,l)}function Va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wp(e){if(typeof e=="function")return Va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ua)return 11;if(e===da)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kr(e,t,n,l,s,i){var a=2;if(l=e,typeof e=="function")Va(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rl:return Gn(n.children,s,i,t);case ca:a=8,s|=8;break;case di:return e=It(12,n,t,s|2),e.elementType=di,e.lanes=i,e;case fi:return e=It(13,n,t,s),e.elementType=fi,e.lanes=i,e;case pi:return e=It(19,n,t,s),e.elementType=pi,e.lanes=i,e;case Ec:return zs(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kc:a=10;break e;case Cc:a=9;break e;case ua:a=11;break e;case da:a=14;break e;case xn:a=16,l=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=It(a,n,t,s),t.elementType=e,t.type=l,t.lanes=i,t}function Gn(e,t,n,l){return e=It(7,e,l,t),e.lanes=n,e}function zs(e,t,n,l){return e=It(22,e,l,t),e.elementType=Ec,e.lanes=n,e.stateNode={isHidden:!1},e}function ai(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function oi(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bp(e,t,n,l,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=l,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ya(e,t,n,l,s,i,a,c,o){return e=new Bp(e,t,n,c,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=It(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(i),e}function Vp(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function yd(e){if(!e)return Dn;e=e._reactInternals;e:{if(el(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(wt(n))return yu(e,n,t)}return t}function gd(e,t,n,l,s,i,a,c,o){return e=Ya(n,l,!0,e,s,i,a,c,o),e.context=yd(null),n=e.current,l=ht(),s=Mn(n),i=un(l,s),i.callback=t??null,_n(n,i,s),e.current.lanes=s,yr(e,s,l),St(e,l),e}function bs(e,t,n,l){var s=t.current,i=ht(),a=Mn(s);return n=yd(n),t.context===null?t.context=n:t.pendingContext=n,t=un(i,a),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=_n(s,t,a),e!==null&&(Xt(e,s,a,i),Br(e,s,a)),a}function js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ga(e,t){lc(e,t),(e=e.alternate)&&lc(e,t)}function Yp(){return null}var xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}Ds.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));bs(e,t,null,null)};Ds.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){bs(null,e,null,null)}),t[fn]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&Zc(e)}};function Qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rc(){}function Gp(e,t,n,l,s){if(s){if(typeof l=="function"){var i=l;l=function(){var d=js(a);i.call(d)}}var a=gd(t,l,e,0,null,!1,!1,"",rc);return e._reactRootContainer=a,e[fn]=a.current,ar(e.nodeType===8?e.parentNode:e),Zn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof l=="function"){var c=l;l=function(){var d=js(o);c.call(d)}}var o=Ya(e,0,!1,null,null,!1,!1,"",rc);return e._reactRootContainer=o,e[fn]=o.current,ar(e.nodeType===8?e.parentNode:e),Zn(function(){bs(t,o,n,l)}),o}function Is(e,t,n,l,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var o=js(a);c.call(o)}}bs(t,a,e,s)}else a=Gp(n,t,e,s,l);return js(a)}Xc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hl(t.pendingLanes);n!==0&&(ma(t,n|1),St(t,Ue()),!(ge&6)&&(Tl=Ue()+500,Fn()))}break;case 13:Zn(function(){var l=pn(e,1);if(l!==null){var s=ht();Xt(l,e,1,s)}}),Ga(e,1)}};ha=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=ht();Xt(t,e,134217728,n)}Ga(e,134217728)}};Qc=function(e){if(e.tag===13){var t=Mn(e),n=pn(e,t);if(n!==null){var l=ht();Xt(n,e,t,l)}Ga(e,t)}};Kc=function(){return we};Jc=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};Si=function(e,t,n){switch(t){case"input":if(vi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var s=Es(l);if(!s)throw Error(L(90));Pc(l),vi(l,s)}}}break;case"textarea":Lc(e,n);break;case"select":t=n.value,t!=null&&hl(e,!!n.multiple,t,!1)}};Fc=Ha;$c=Zn;var Xp={usingClientEntryPoint:!1,Events:[xr,ol,Es,Rc,Ic,Ha]},$l={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uc(e),e===null?null:e.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||Yp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fr.isDisabled&&Fr.supportsFiber)try{ws=Fr.inject(Qp),nn=Fr}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qa(t))throw Error(L(200));return Vp(e,t,null,n)};zt.createRoot=function(e,t){if(!Qa(e))throw Error(L(299));var n=!1,l="",s=xd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ya(e,1,!1,null,null,n,!1,l,s),e[fn]=t.current,ar(e.nodeType===8?e.parentNode:e),new Xa(t)};zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Uc(t),e=e===null?null:e.stateNode,e};zt.flushSync=function(e){return Zn(e)};zt.hydrate=function(e,t,n){if(!Rs(t))throw Error(L(200));return Is(null,e,t,!0,n)};zt.hydrateRoot=function(e,t,n){if(!Qa(e))throw Error(L(405));var l=n!=null&&n.hydratedSources||null,s=!1,i="",a=xd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=gd(t,null,e,1,n??null,s,!1,i,a),e[fn]=t.current,ar(e),l)for(e=0;e<l.length;e++)n=l[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ds(t)};zt.render=function(e,t,n){if(!Rs(t))throw Error(L(200));return Is(null,e,t,!1,n)};zt.unmountComponentAtNode=function(e){if(!Rs(e))throw Error(L(40));return e._reactRootContainer?(Zn(function(){Is(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};zt.unstable_batchedUpdates=Ha;zt.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Rs(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Is(e,t,n,!1,l)};zt.version="18.3.1-next-f1338f8080-20240426";function jd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jd)}catch(e){console.error(e)}}jd(),jc.exports=zt;var Kp=jc.exports,sc=Kp;ci.createRoot=sc.createRoot,ci.hydrateRoot=sc.hydrateRoot;const Jp=(e=[],t={})=>{const{snapToGrid:n=!1,showGrid:l=!0,gridSize:s=50}=t,i=e.length>0?[...e.map((a,c)=>({id:`recent-${a.id}`,label:a.name})),{id:"divider-recent",type:"divider"},{id:"clear-recent",label:"Clear List"}]:[{id:"no-recent",label:"No recent projects",disabled:!0}];return{file:{label:"File",items:[{id:"new-project",label:"New Project...",shortcut:"Ctrl+N"},{id:"open-project",label:"Open Project..."},{id:"divider-1",type:"divider"},{id:"open-recent",label:"Open Recent",submenu:i},{id:"divider-2",type:"divider"},{id:"save",label:"Save",shortcut:"Ctrl+S"},{id:"save-as",label:"Save As..."},{id:"divider-3",type:"divider"},{id:"import",label:"Import",submenu:[{id:"import-level",label:"Level (.json)"},{id:"import-entity",label:"Entity Pack"},{id:"import-asset",label:"Asset Bundle"},{id:"import-template",label:"AI Template"}]},{id:"export",label:"Export",submenu:[{id:"export-level",label:"Level"},{id:"export-project",label:"Full Project"},{id:"divider-e1",type:"divider"},{id:"export-unity",label:"Unity Package"},{id:"export-godot",label:"Godot Package"},{id:"export-unreal",label:"Unreal Package"}]},{id:"divider-4",type:"divider"},{id:"project-settings",label:"Project Settings..."},{id:"divider-5",type:"divider"},{id:"exit",label:"Exit"}]},edit:{label:"Edit",items:[{id:"undo",label:"Undo",shortcut:"Ctrl+Z"},{id:"redo",label:"Redo",shortcut:"Ctrl+Y"},{id:"divider-1",type:"divider"},{id:"cut",label:"Cut",shortcut:"Ctrl+X"},{id:"copy",label:"Copy",shortcut:"Ctrl+C"},{id:"paste",label:"Paste",shortcut:"Ctrl+V"},{id:"duplicate",label:"Duplicate",shortcut:"Ctrl+D"},{id:"delete",label:"Delete",shortcut:"Del"},{id:"divider-2",type:"divider"},{id:"snap-to-grid",label:"Snap to Grid",toggle:n},{id:"grid-options",label:"Grid Options",submenu:[{id:"toggle-grid",label:"Show Grid",toggle:l},{id:"divider-g1",type:"divider"},{id:"grid-size-10",label:"Small (10px)",toggle:s===10},{id:"grid-size-25",label:"Medium (25px)",toggle:s===25},{id:"grid-size-50",label:"Large (50px)",toggle:s===50},{id:"grid-size-100",label:"Extra Large (100px)",toggle:s===100}]},{id:"divider-3",type:"divider"},{id:"find",label:"Find...",shortcut:"Ctrl+F"},{id:"replace",label:"Replace...",shortcut:"Ctrl+H"},{id:"divider-4",type:"divider"},{id:"preferences",label:"Preferences..."}]},view:{label:"View",items:[{id:"panels",label:"Panels",submenu:[{id:"toggle-inspector",label:"Inspector",shortcut:"Ctrl+I",toggle:!0},{id:"toggle-console",label:"Console",shortcut:"Ctrl+`",toggle:!0},{id:"toggle-suggestions",label:"AI Suggestions"},{id:"toggle-assets",label:"Asset Browser"},{id:"toggle-history",label:"History"}]},{id:"layout",label:"Layout",submenu:[{id:"layout-default",label:"Default"},{id:"layout-level-design",label:"Level Design"},{id:"layout-ai-tuning",label:"AI Tuning"},{id:"divider-l1",type:"divider"},{id:"layout-custom",label:"Custom..."},{id:"layout-save",label:"Save Current Layout"}]},{id:"divider-1",type:"divider"},{id:"zoom-in",label:"Zoom In",shortcut:"Ctrl++"},{id:"zoom-out",label:"Zoom Out",shortcut:"Ctrl+-"},{id:"reset-zoom",label:"Reset Zoom",shortcut:"Ctrl+0"},{id:"divider-2",type:"divider"},{id:"fullscreen",label:"Toggle Fullscreen",shortcut:"F11"}]},entities:{label:"Entities",items:[{id:"create",label:"Create",submenu:[{id:"create-actor",label:"Actor"},{id:"create-item",label:"Item"},{id:"create-terrain",label:"Terrain"},{id:"create-behavior",label:"AI Behavior"},{id:"create-script",label:"Script"}]},{id:"convert-type",label:"Convert Type..."},{id:"divider-1",type:"divider"},{id:"validate",label:"Validate Entities"},{id:"bulk-edit",label:"Bulk Edit..."},{id:"divider-2",type:"divider"},{id:"schema-editor",label:"Entity Schema Editor..."}]},levels:{label:"Levels",items:[{id:"new-level",label:"New Level..."},{id:"duplicate-level",label:"Duplicate Level"},{id:"divider-1",type:"divider"},{id:"validate-level",label:"Validate Level"},{id:"generate-ai",label:"Generate With AI...",shortcut:"Ctrl+G"},{id:"divider-2",type:"divider"},{id:"analyze-difficulty",label:"Analyze Difficulty"},{id:"playtest",label:"Playtest Simulation"},{id:"divider-3",type:"divider"},{id:"level-settings",label:"Level Settings..."}]},ai:{label:"AI",items:[{id:"generate",label:"Generate",submenu:[{id:"gen-level",label:"Level"},{id:"gen-enemies",label:"Enemy Set"},{id:"gen-encounter",label:"Encounter"},{id:"gen-loot",label:"Loot Table"},{id:"gen-campaign",label:"Full Campaign"}]},{id:"divider-1",type:"divider"},{id:"prompt-templates",label:"Prompt Templates..."},{id:"model-settings",label:"Model Settings..."},{id:"training-data",label:"Training Data..."},{id:"divider-2",type:"divider"},{id:"history",label:"Generation History"},{id:"cost-usage",label:"Cost / Token Usage"},{id:"divider-3",type:"divider"},{id:"api-config",label:"API Configuration..."}]},tools:{label:"Tools",items:[{id:"schema-validator",label:"Schema Validator"},{id:"dependency-graph",label:"Dependency Graph"},{id:"performance",label:"Performance Analyzer"},{id:"json-viewer",label:"JSON Viewer"},{id:"divider-1",type:"divider"},{id:"plugin-manager",label:"Plugin Manager..."},{id:"script-console",label:"Script Console"}]},help:{label:"Help",items:[{id:"documentation",label:"Documentation"},{id:"tutorials",label:"Tutorials"},{id:"shortcuts",label:"Keyboard Shortcuts"},{id:"divider-1",type:"divider"},{id:"check-updates",label:"Check for Updates"},{id:"report-issue",label:"Report Issue (GitHub)"},{id:"divider-2",type:"divider"},{id:"about",label:"About LevelForge AI"}]}}};function Zp({children:e,activeTab:t,onTabChange:n,onMenuAction:l,selectedItem:s,inspectorContent:i,consoleLogs:a,onClearConsole:c,showInspector:o,showConsole:d,onToggleInspector:g,onToggleConsole:h,onEditItem:v,onRenameLevel:N,onDeleteLevel:C,recentProjects:P=[],projects:Y=[],showProjectModal:f,onCloseProjectModal:u,onSelectProject:m,forceShowConsole:y=!1,onConsoleShown:_,canUndo:E=!1,canRedo:w=!1,onUndo:x,onRedo:D,historyInfo:A=null,currentProject:re,showAboutModal:Se,onCloseAboutModal:Q,snapToGrid:De=!1,showGrid:$e=!0,gridSize:ut=50}){const[We,F]=p.useState(o??!0),[U,G]=p.useState(d??!1),[le,Z]=p.useState(null),[Ae,se]=p.useState(null),[xe,$]=p.useState("console"),M=p.useRef(null),W=p.useRef(null),[ce,X]=p.useState(320),[Be,I]=p.useState(180),[ie,K]=p.useState(!1),[ne,Pe]=p.useState(""),Xe=p.useRef(null),Ve=p.useRef(!1),Qe=p.useRef(!1),dt=!!re,Kt=[{id:"dashboard",label:"Dashboard",icon:"",shortcut:"1",disabled:!1},{id:"entities",label:"Entities",icon:"",shortcut:"2",disabled:!dt},{id:"levels",label:"Levels",icon:"",shortcut:"3",disabled:!dt},{id:"library",label:"Library",icon:"",shortcut:"4",disabled:!dt},{id:"ai-tools",label:"AI Tools",icon:"",shortcut:"5",disabled:!dt},{id:"settings",label:"Settings",icon:"",shortcut:"6",disabled:!1}];p.useEffect(()=>{const S=R=>{W.current&&!W.current.contains(R.target)&&(Z(null),se(null))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),p.useEffect(()=>{ie&&Xe.current&&(Xe.current.focus(),Xe.current.select())},[ie]);const Ot=p.useCallback(()=>{!N||(s==null?void 0:s.type)!=="Level"||(Pe(s.name),K(!0))},[s,N]),rt=p.useCallback(S=>{Pe(S.target.value)},[]),J=p.useCallback(S=>{if(S.key==="Enter"){const R=ne.trim();R&&R!==(s==null?void 0:s.name)&&N&&N({...s,name:R}),K(!1)}else S.key==="Escape"&&K(!1);S.stopPropagation()},[ne,s,N]),$n=p.useCallback(()=>{const S=ne.trim();S&&S!==(s==null?void 0:s.name)&&N&&N({...s,name:S}),K(!1)},[ne,s,N]);p.useEffect(()=>{y&&!U&&(G(!0),_&&_())},[y]),p.useEffect(()=>{const S=R=>{if((R.ctrlKey||R.metaKey)&&R.key>="1"&&R.key<="6"){R.preventDefault();const me=parseInt(R.key)-1;Kt[me]&&n(Kt[me].id)}(R.ctrlKey||R.metaKey)&&R.key==="i"&&(R.preventDefault(),F(me=>!me),g&&g()),(R.ctrlKey||R.metaKey)&&R.key==="`"&&(R.preventDefault(),G(me=>!me),h&&h()),R.key==="Escape"&&(Z(null),se(null)),(R.ctrlKey||R.metaKey)&&R.key==="g"&&(R.preventDefault(),l&&l("generate-ai","levels")),(R.ctrlKey||R.metaKey)&&R.key==="s"&&(R.preventDefault(),l&&l("save","file"))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[n,Kt,l,g,h]),p.useEffect(()=>{M.current&&U&&(M.current.scrollTop=M.current.scrollHeight)},[a,U]);const H=p.useCallback(S=>{S.preventDefault(),Ve.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]),An=p.useCallback(S=>{S.preventDefault(),Qe.current=!0,document.body.style.cursor="row-resize",document.body.style.userSelect="none"},[]);p.useEffect(()=>{const S=me=>{if(Ve.current){const Re=window.innerWidth-me.clientX;X(Math.max(250,Math.min(500,Re)))}if(Qe.current){const Re=window.innerHeight-me.clientY;I(Math.max(100,Math.min(400,Re)))}},R=()=>{(Ve.current||Qe.current)&&(Ve.current=!1,Qe.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",S),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",R)}},[]);const kt=S=>{Z(le===S?null:S),se(null)},vn=(S,R)=>{l&&l(S,R),Z(null),se(null)},Ct=S=>{se(S)},T=(S,R)=>{if(S.type==="divider")return r.jsx("div",{className:"menu-divider"},S.id);const me=S.submenu&&S.submenu.length>0,Re=Ae===S.id;return r.jsxs("div",{className:`menu-item ${me?"has-submenu":""} ${Re?"active":""}`,onClick:()=>!me&&vn(S.id,R),onMouseEnter:()=>me&&Ct(S.id),children:[r.jsx("span",{className:"menu-item-label",children:S.label}),S.shortcut&&r.jsx("span",{className:"menu-item-shortcut",children:S.shortcut}),S.toggle!==void 0&&r.jsx("span",{className:"menu-item-toggle",children:S.toggle?"":""}),me&&r.jsx("span",{className:"menu-item-arrow",children:""}),me&&Re&&r.jsx("div",{className:"submenu",children:S.submenu.map(yn=>T(yn,R))})]},S.id)};return r.jsxs("div",{className:"app-layout",children:[r.jsxs("header",{className:"top-menu",children:[r.jsxs("div",{className:"menu-left",children:[r.jsx("span",{className:"logo",children:" LevelForge"}),r.jsx("nav",{className:"menu-bar",ref:W,children:Object.entries(Jp(P,{snapToGrid:De,showGrid:$e,gridSize:ut})).map(([S,R])=>r.jsxs("div",{className:"menu-container",children:[r.jsx("button",{className:`menu-btn ${le===S?"active":""}`,onClick:()=>kt(S),children:R.label}),le===S&&r.jsx("div",{className:"menu-dropdown",children:R.items.map(me=>T(me,S))})]},S))}),s&&r.jsxs("span",{className:"context-info",children:[r.jsx("span",{className:"context-separator",children:""}),r.jsx("span",{className:"context-name",children:s.name||s.type||"Item"})]})]}),r.jsx("div",{className:"menu-spacer"}),r.jsxs("div",{className:"menu-right",children:[r.jsx("button",{className:`icon-btn ${We?"active":""}`,onClick:()=>{F(!We),g&&g()},title:"Toggle Inspector (Ctrl+I)",children:""}),r.jsx("button",{className:`icon-btn ${U?"active":""}`,onClick:()=>{G(!U),h&&h()},title:"Toggle Console (Ctrl+`)",children:""}),r.jsx("button",{className:"profile-btn",title:"Profile",children:""})]})]}),r.jsxs("nav",{className:"main-tabs",children:[Kt.map(S=>r.jsxs("button",{className:`tab-btn ${t===S.id?"active":""} ${S.disabled?"disabled":""}`,onClick:()=>!S.disabled&&n(S.id),title:S.disabled?"Select a project first":`Ctrl+${S.shortcut}`,disabled:S.disabled,children:[r.jsx("span",{className:"tab-icon",children:S.icon}),r.jsx("span",{className:"tab-label",children:S.label})]},S.id)),r.jsx("div",{className:"tabs-spacer"}),r.jsxs("div",{className:"tabs-shortcuts",children:[r.jsx("kbd",{children:"Ctrl+1-6"})," tabs  ",r.jsx("kbd",{children:"Ctrl+G"})," generate  ",r.jsx("kbd",{children:"Ctrl+I"})," inspector"]})]}),r.jsxs("div",{className:"main-content",children:[r.jsx("div",{className:"content-area",children:e}),We&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"resize-handle-vertical",onMouseDown:H}),r.jsxs("aside",{className:"inspector-panel",style:{width:ce},children:[r.jsxs("div",{className:"panel-header",children:[r.jsx("h3",{children:"Inspector"}),r.jsxs("div",{className:"panel-header-actions",children:[s&&s.type==="Entity"&&!i&&v&&r.jsx("button",{className:"btn-small",onClick:()=>v(s),children:"Edit"}),s&&s.type==="Level"&&!i&&C&&r.jsx("button",{className:"btn-small btn-danger",onClick:()=>C(s),children:"Delete"}),r.jsx("button",{className:"panel-close",onClick:()=>{F(!1),g&&g()},title:"Close (Ctrl+I)",children:""})]})]}),r.jsx("div",{className:"panel-content",children:i||(s?r.jsxs("div",{className:"inspector-default",children:[r.jsxs("div",{className:"inspector-item-header",children:[s.emoji?r.jsx("span",{className:"inspector-icon",children:s.emoji}):s.type==="Level"?r.jsx("span",{className:"inspector-icon",children:""}):s.category?r.jsxs("span",{className:"inspector-icon",children:[s.category==="textures"&&"",s.category==="models"&&"",s.category==="audio"&&"",s.category==="scripts"&&"",s.category==="templates"&&""]}):null,ie&&s.type==="Level"?r.jsx("input",{ref:Xe,type:"text",className:"inspector-name-input",value:ne,onChange:rt,onKeyDown:J,onBlur:$n,onClick:S=>S.stopPropagation()}):r.jsx("h4",{className:s.type==="Level"&&N?"editable-name":"",onClick:Ot,title:s.type==="Level"&&N?"Click to rename":void 0,children:s.name||"Selected Item"})]}),s.description&&r.jsx("p",{className:"inspector-desc",children:s.description}),r.jsx("div",{className:"inspector-meta",children:Object.entries(s).map(([S,R])=>["id","emoji","name","description","category","typeLabel","type"].includes(S)||typeof R=="object"?null:r.jsxs("div",{className:"meta-row",children:[r.jsxs("span",{className:"meta-key",children:[S,":"]}),r.jsx("span",{className:"meta-value",children:String(R)})]},S))})]}):r.jsxs("div",{className:"inspector-empty",children:[r.jsx("span",{className:"empty-icon",children:""}),r.jsx("p",{children:"Select an item to inspect"})]}))})]})]})]}),U&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"resize-handle-horizontal",onMouseDown:An}),r.jsxs("div",{className:"console-panel",style:{height:Be},children:[r.jsxs("div",{className:"console-header",children:[r.jsxs("div",{className:"console-tabs",children:[r.jsx("button",{className:`console-tab ${xe==="console"?"active":""}`,onClick:()=>$("console"),children:"Console"}),r.jsx("button",{className:`console-tab ${xe==="ai-output"?"active":""}`,onClick:()=>$("ai-output"),children:"AI Output"}),r.jsx("button",{className:`console-tab ${xe==="logs"?"active":""}`,onClick:()=>$("logs"),children:"Logs"})]}),r.jsxs("div",{className:"console-actions",children:[r.jsx("button",{onClick:c,title:"Clear",children:""}),r.jsx("button",{onClick:()=>{G(!1),h&&h()},title:"Close",children:""})]})]}),r.jsx("div",{className:"console-content",ref:M,children:(()=>{const S=a&&a.filter(R=>xe==="console"?["info","warning","error"].includes(R.type):xe==="ai-output"?["success","ai-progress","ai-response","generation"].includes(R.type):xe==="logs"?["system","debug","log"].includes(R.type)||!R.type:!0);return S&&S.length>0?S.map((R,me)=>r.jsxs("div",{className:`console-line ${R.type||"info"}`,children:[r.jsx("span",{className:"console-time",children:R.time}),r.jsx("span",{className:"console-message",children:R.message})]},me)):r.jsxs("div",{className:"console-empty",children:[xe==="console"&&r.jsx("p",{children:"No console output yet."}),xe==="ai-output"&&r.jsx("p",{children:"No AI output yet. Generate a level to see progress."}),xe==="logs"&&r.jsx("p",{children:"No system logs yet."})]})})()})]})]}),f&&r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal",onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"Open Project"}),r.jsx("button",{className:"modal-close",onClick:u,children:""})]}),r.jsx("div",{className:"modal-content",children:Y&&Y.length>0?r.jsx("div",{className:"project-list",children:Y.map(S=>r.jsxs("div",{className:"project-item",onClick:()=>{m(S),u()},children:[r.jsx("div",{className:"project-icon",children:""}),r.jsxs("div",{className:"project-info",children:[r.jsx("h3",{children:S.name}),r.jsxs("p",{className:"project-date",children:["Created: ",new Date(S.created_at).toLocaleDateString()]}),S.description&&r.jsx("p",{className:"project-desc",children:S.description})]})]},S.id))}):r.jsxs("div",{className:"modal-empty",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"No projects found"}),r.jsx("p",{className:"hint",children:"Create a new project from the Dashboard"})]})})]})})]})}function qp({projects:e,currentProject:t,onSelectProject:n,onCreateProject:l,onGenerateLevel:s}){const[i,a]=p.useState(null),c={totalProjects:e.length,totalLevels:0,aiRuns:0};return r.jsxs("div",{className:"dashboard",children:[r.jsxs("header",{className:"dashboard-header",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx("p",{children:"Welcome back! Here's your LevelForge overview."})]}),r.jsxs("div",{className:"stats-row",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("span",{className:"stat-value",children:c.totalProjects}),r.jsx("span",{className:"stat-label",children:"Projects"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("span",{className:"stat-value",children:c.totalLevels}),r.jsx("span",{className:"stat-label",children:"Levels"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("span",{className:"stat-value",children:c.aiRuns}),r.jsx("span",{className:"stat-label",children:"AI Runs"})]})]}),r.jsxs("section",{className:"quick-actions",children:[r.jsx("h2",{children:"Quick Actions"}),r.jsxs("div",{className:"action-buttons",children:[r.jsxs("button",{className:"action-btn primary",onClick:s,children:[r.jsx("span",{className:"action-icon",children:""}),r.jsx("span",{children:"Generate Level"})]}),r.jsxs("button",{className:"action-btn",onClick:l,children:[r.jsx("span",{className:"action-icon",children:""}),r.jsx("span",{children:"New Project"})]}),r.jsxs("button",{className:"action-btn",onClick:()=>a("import"),children:[r.jsx("span",{className:"action-icon",children:""}),r.jsx("span",{children:"Import"})]})]})]}),r.jsxs("section",{className:"recent-section",children:[r.jsx("h2",{children:"Recent Projects"}),e.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"No projects yet. Create one to get started!"}),r.jsx("button",{className:"action-btn primary",onClick:l,children:"+ Create Project"})]}):r.jsx("div",{className:"projects-grid",children:e.map(o=>r.jsxs("div",{className:`project-card ${(t==null?void 0:t.id)===o.id?"active":""}`,onClick:()=>n(o),children:[r.jsx("div",{className:"project-icon",children:""}),r.jsxs("div",{className:"project-info",children:[r.jsx("h3",{children:o.name}),r.jsxs("span",{className:"project-date",children:["Updated ",new Date(o.updated_at).toLocaleDateString()]})]})]},o.id))})]})]})}const em=[{id:"actors",label:"Actors",icon:""},{id:"items",label:"Items",icon:""},{id:"terrain",label:"Terrain",icon:""},{id:"behaviors",label:"AI Behaviors",icon:""},{id:"scripts",label:"Scripts",icon:""}];function tm({entityTypes:e,currentProject:t,onCreateEntityType:n,onUpdateEntityType:l,onDeleteEntityType:s,onSelectEntity:i,onEditEntity:a,selectedEntity:c}){const[o,d]=p.useState("actors"),[g,h]=p.useState(""),[v,N]=p.useState(180),C=p.useRef(!1),P=p.useRef(null),Y=e.filter(y=>y.name.toLowerCase().includes(g.toLowerCase())),f=p.useCallback(y=>{y.preventDefault(),C.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);p.useEffect(()=>{const y=E=>{if(!P.current)return;const w=P.current.getBoundingClientRect();if(C.current){const x=E.clientX-w.left;N(Math.max(140,Math.min(280,x)))}},_=()=>{C.current&&(C.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",_),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",_)}},[]);const u=()=>{n({name:"New Entity",emoji:"",color:"#6366f1",description:"",placement_rules:"",behavior:"",collision_type:"neutral",category:o,metadata_fields:"[]"})},m=y=>{a&&a(y)};return t?r.jsxs("div",{className:"entities-page",ref:P,children:[r.jsxs("aside",{className:"sub-nav",style:{width:v,minWidth:140,maxWidth:280},children:[r.jsx("div",{className:"sub-nav-header",children:r.jsx("h3",{children:"Categories"})}),r.jsx("nav",{className:"sub-nav-list",children:em.map(y=>r.jsxs("button",{className:`sub-nav-item ${o===y.id?"active":""}`,onClick:()=>d(y.id),children:[r.jsx("span",{className:"sub-nav-icon",children:y.icon}),r.jsx("span",{className:"sub-nav-label",children:y.label})]},y.id))})]}),r.jsx("div",{className:"resize-handle-vertical",onMouseDown:f}),r.jsxs("main",{className:"main-area",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("div",{className:"toolbar-left",children:r.jsx("input",{type:"text",placeholder:"Search entities...",value:g,onChange:y=>h(y.target.value),className:"search-input"})}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-secondary",children:"Import"}),r.jsx("button",{className:"btn-primary",onClick:u,children:"+ Create Entity"})]})]}),r.jsx("div",{className:"data-grid-container",children:Y.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No entities yet"}),r.jsx("p",{children:"Create custom entity types to use in your levels."}),r.jsx("button",{className:"btn-primary",onClick:u,children:"+ Create First Entity"})]}):r.jsxs("table",{className:"data-grid",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"col-icon"}),r.jsx("th",{className:"col-name",children:"Name"}),r.jsx("th",{className:"col-type",children:"Type"}),r.jsx("th",{className:"col-collision",children:"Collision"}),r.jsx("th",{className:"col-behavior",children:"Behavior"}),r.jsx("th",{className:"col-actions"})]})}),r.jsx("tbody",{children:Y.map(y=>r.jsxs("tr",{className:(c==null?void 0:c.id)===y.id?"selected":"",onClick:()=>{setSelectedEntity&&i(y)},children:[r.jsx("td",{className:"col-icon",children:r.jsx("span",{className:"entity-icon",style:{background:y.color+"20"},children:y.emoji})}),r.jsx("td",{className:"col-name",children:r.jsx("strong",{children:y.name})}),r.jsx("td",{className:"col-type",children:y.category||"actors"}),r.jsx("td",{className:"col-collision",children:r.jsx("span",{className:`badge badge-${y.collision_type}`,children:y.collision_type})}),r.jsx("td",{className:"col-behavior",children:r.jsx("span",{className:"truncate",children:y.behavior||"-"})}),r.jsxs("td",{className:"col-actions",children:[r.jsx("button",{className:"action-btn",onClick:_=>{_.stopPropagation(),m(y)},children:""}),r.jsx("button",{className:"action-btn danger",onClick:_=>{_.stopPropagation(),s(y.id)},children:""})]})]},y.id))})]})})]})]}):r.jsx("div",{className:"entities-page",children:r.jsxs("div",{className:"no-project-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"No Project Selected"}),r.jsx("p",{children:"Select or create a project from the Dashboard to manage entities."})]})})}const $r={platform:"",ground:"",player:"",player_spawn:"",spawn:"",enemy:"",enemy_basic:"",enemy_flying:"",enemy_patrol:"",boss:"",npc:"",coin:"",key:"",gem:"",star:"",heart:"",powerup:"",weapon:"",ammo:"",health:"",collectible:"",spike:"",spikes:"",lava:"",water:"",hazard:"",goal:"",door:"",portal:"",exit:"",switch:"",button:"",pressure_plate:"",cover:"",unknown:"?"},Al={platform:"#6b7280",ground:"#8b5a2b",player:"#3b82f6",player_spawn:"#3b82f6",spawn:"#3b82f6",enemy:"#ef4444",enemy_basic:"#ef4444",enemy_flying:"#a855f7",enemy_patrol:"#ef4444",boss:"#dc2626",npc:"#10b981",coin:"#fbbf24",key:"#fbbf24",gem:"#a855f7",star:"#fbbf24",heart:"#ef4444",health:"#ef4444",powerup:"#f59e0b",weapon:"#6b7280",ammo:"#9ca3af",spike:"#dc2626",spikes:"#dc2626",lava:"#f97316",water:"#3b82f6",hazard:"#dc2626",goal:"#22c55e",door:"#8b5a2b",portal:"#a855f7",exit:"#22c55e",switch:"#6366f1",button:"#6366f1",pressure_plate:"#6366f1",cover:"#6b7280",collectible:"#fbbf24",unknown:"#9ca3af"};function nm({level:e,mode:t="draft",onModeChange:n,entityTypes:l=[],onRename:s,selectedObject:i,onSelectObject:a,onUpdateObject:c,snapToGrid:o=!1,showGrid:d=!0,gridSize:g=50,interactive:h=!0}){var Re,yn;const v=p.useRef(null),[N,C]=p.useState(t),[P,Y]=p.useState(1),[f,u]=p.useState({x:0,y:0}),[m,y]=p.useState(!1),[_,E]=p.useState({x:0,y:0}),[w,x]=p.useState({x:16,y:16}),[D,A]=p.useState({x:null,y:16}),[re,Se]=p.useState(!1),[Q,De]=p.useState(!1),[$e,ut]=p.useState(null),[We,F]=p.useState({x:0,y:0}),[U,G]=p.useState(!1),[le,Z]=p.useState(""),Ae=p.useRef(null),[se,xe]=p.useState(null),[$,M]=p.useState(!1),[W,ce]=p.useState(null),[X,Be]=p.useState(null);let I=null;try{e!=null&&e.level_data&&(I=typeof e.level_data=="string"?JSON.parse(e.level_data):e.level_data)}catch{I=null}const ie=p.useMemo(()=>{const z={};return l&&l.length>0&&l.forEach(k=>{z[k.name.toLowerCase()]={symbol:k.emoji||"?",color:k.color||"#9ca3af"}}),z},[l]),K=p.useCallback(z=>{if(!z)return $r.unknown;const k=z.toLowerCase().replace(/[_\s]+/g,"_");if(ie[z.toLowerCase()])return ie[z.toLowerCase()].symbol;if(ie[k])return ie[k].symbol;const ae=z.toLowerCase();for(const[ue,fe]of Object.entries(ie))if(ae.includes(ue)||ue.includes(ae))return fe.symbol;return $r[z]||$r[k]||$r.unknown},[ie]),ne=p.useCallback(z=>{if(!z)return Al.unknown;const k=z.toLowerCase().replace(/[_\s]+/g,"_");if(ie[z.toLowerCase()])return ie[z.toLowerCase()].color;if(ie[k])return ie[k].color;const ae=z.toLowerCase();for(const[ue,fe]of Object.entries(ie))if(ae.includes(ue)||ue.includes(ae))return fe.color;return Al[z]||Al[k]||Al.unknown},[ie]),Pe=p.useCallback((z,k)=>{if(!I)return null;const ae=v.current;if(!ae)return null;const ue=[];I.platforms&&I.platforms.forEach(ee=>{ue.push({x:ee.x,y:ee.y}),ue.push({x:ee.x+ee.width,y:ee.y+ee.height})}),I.entities&&I.entities.forEach(ee=>{ue.push({x:ee.x,y:ee.y})}),I.player_spawn&&ue.push({x:I.player_spawn.x,y:I.player_spawn.y}),I.goal&&ue.push({x:I.goal.x,y:I.goal.y});let fe=0,Ne=800,qe=0,ft=600;if(ue.length>0){fe=Math.min(...ue.map(de=>de.x)),Ne=Math.max(...ue.map(de=>de.x)),qe=Math.min(...ue.map(de=>de.y)),ft=Math.max(...ue.map(de=>de.y));const ee=Math.max(50,(Ne-fe)*.1),he=Math.max(50,(ft-qe)*.1);fe-=ee,Ne+=ee,qe-=he,ft+=he}const gt=Ne-fe,rn=ft-qe,On=(ae.width-100)/gt,tl=(ae.height-100)/rn,pt=Math.min(On,tl,1)*P,Et=ae.width/2-(fe+gt/2)*pt+f.x,V=ae.height/2+(qe+rn/2)*pt+f.y,q=(z-Et)/pt,oe=(V-k)/pt,je=20/pt;if(I.entities)for(let ee=I.entities.length-1;ee>=0;ee--){const he=I.entities[ee],de=he.x-q,st=he.y-oe;if(de*de+st*st<je*je)return{type:"entity",entityType:he.type,data:he,index:ee}}if(I.platforms)for(let ee=I.platforms.length-1;ee>=0;ee--){const he=I.platforms[ee];if(q>=he.x&&q<=he.x+he.width&&oe<=he.y&&oe>=he.y-he.height)return{type:"platform",data:he,index:ee}}if(I.player_spawn){const ee=I.player_spawn,he=ee.x-q,de=ee.y-oe;if(he*he+de*de<je*je)return{type:"spawn",data:ee}}if(I.goal){const ee=I.goal,he=ee.x-q,de=ee.y-oe;if(he*he+de*de<je*je)return{type:"goal",data:ee}}return null},[I,P,f]),Xe=p.useCallback(z=>{if(z.button!==0)return;const k=v.current;if(!k)return;const ae=k.getBoundingClientRect(),ue=z.clientX-ae.left,fe=z.clientY-ae.top,Ne=Pe(ue,fe);Ne&&a?(a(Ne),M(!0),ce(Ne),Be({x:Ne.data.x,y:Ne.data.y,clientX:z.clientX,clientY:z.clientY})):Ne||(y(!0),E({x:z.clientX-f.x,y:z.clientY-f.y}),a&&a(null))},[f,Pe,a]),Ve=p.useCallback(z=>{if($&&W&&X){const k=z.clientX-X.clientX,ae=z.clientY-X.clientY,ue=v.current;if(!ue||!I)return;const fe=[];I.platforms&&I.platforms.forEach(de=>{fe.push({x:de.x,y:de.y}),fe.push({x:de.x+de.width,y:de.y+de.height})}),I.entities&&I.entities.forEach(de=>{fe.push({x:de.x,y:de.y})}),I.player_spawn&&fe.push({x:I.player_spawn.x,y:I.player_spawn.y}),I.goal&&fe.push({x:I.goal.x,y:I.goal.y});let Ne=0,qe=800,ft=0,gt=600;if(fe.length>0){Ne=Math.min(...fe.map(j=>j.x)),qe=Math.max(...fe.map(j=>j.x)),ft=Math.min(...fe.map(j=>j.y)),gt=Math.max(...fe.map(j=>j.y));const de=Math.max(50,(qe-Ne)*.1),st=Math.max(50,(gt-ft)*.1);Ne-=de,qe+=de,ft-=st,gt+=st}const rn=qe-Ne,On=gt-ft,tl=(ue.width-100)/rn,ye=(ue.height-100)/On,Et=Math.min(tl,ye,1)*P,V=k/Et,q=-ae/Et;let oe=X.x+V,je=X.y+q;o?(oe=Math.round(oe/g)*g,je=Math.round(je/g)*g):(oe=Math.round(oe),je=Math.round(je));const ee={...W.data,x:oe,y:je},he={...W,data:ee};a(he),ce(he)}else m&&u({x:z.clientX-_.x,y:z.clientY-_.y})},[$,W,X,m,_,P,I,a,o,g]),Qe=p.useCallback(()=>{$&&W&&c&&c(W),y(!1),M(!1),ce(null),Be(null)},[$,W,c]),dt=p.useCallback(()=>{y(!1),M(!1),ce(null),Be(null),xe(null)},[]),Kt=p.useCallback(z=>{z.preventDefault();const k=z.deltaY>0?-.1:.1;Y(ae=>Math.max(.25,Math.min(4,ae+k)))},[]),Ot=p.useCallback((z,k)=>{if(z.target.closest(".panel-minimize-btn"))return;z.preventDefault(),z.stopPropagation();const ae=z.currentTarget,ue=ae.getBoundingClientRect();if(ut(k),F({x:z.clientX-ue.left,y:z.clientY-ue.top}),k==="info"&&D.x===null){const fe=ae.parentElement.getBoundingClientRect();A({x:fe.width-ue.width-16,y:16})}},[D]),rt=p.useCallback(z=>{var Ne;if(!$e)return;const k=(Ne=v.current)==null?void 0:Ne.parentElement;if(!k)return;const ae=k.getBoundingClientRect(),ue=z.clientX-ae.left-We.x,fe=z.clientY-ae.top-We.y;$e==="legend"?x({x:Math.max(0,ue),y:Math.max(0,fe)}):$e==="info"&&A({x:Math.max(0,ue),y:Math.max(0,fe)})},[$e,We]),J=p.useCallback(()=>{ut(null)},[]),$n=p.useCallback(z=>{if(m||$e)return;const k=v.current;if(!k||!a)return;const ae=k.getBoundingClientRect(),ue=z.clientX-ae.left,fe=z.clientY-ae.top,Ne=Pe(ue,fe);xe(Ne)},[m,$e,a,Pe]),H=p.useCallback(z=>{z.stopPropagation(),s&&(Z(e.name),G(!0))},[e.name,s]),An=p.useCallback(z=>{Z(z.target.value)},[]),kt=p.useCallback(z=>{if(z.key==="Enter"){const k=le.trim();k&&k!==e.name&&s({...e,name:k}),G(!1)}else z.key==="Escape"&&G(!1);z.stopPropagation()},[le,e,s]),vn=p.useCallback(()=>{const z=le.trim();z&&z!==e.name&&s&&s({...e,name:z}),G(!1)},[le,e,s]);p.useEffect(()=>{U&&Ae.current&&(Ae.current.focus(),Ae.current.select())},[U]),p.useEffect(()=>{C(t)},[t]);const Ct=p.useCallback(()=>{const z=v.current;if(!z||!I)return;const k=z.getContext("2d");k.fillStyle="#f8f9fa",k.fillRect(0,0,z.width,z.height);const ae=[];I.platforms&&I.platforms.forEach(V=>{ae.push({x:V.x,y:V.y}),ae.push({x:V.x+V.width,y:V.y+V.height})}),I.entities&&I.entities.forEach(V=>{ae.push({x:V.x,y:V.y})}),I.player_spawn&&ae.push({x:I.player_spawn.x,y:I.player_spawn.y}),I.goal&&ae.push({x:I.goal.x,y:I.goal.y});let ue=0,fe=800,Ne=0,qe=600;if(ae.length>0){ue=Math.min(...ae.map(oe=>oe.x)),fe=Math.max(...ae.map(oe=>oe.x)),Ne=Math.min(...ae.map(oe=>oe.y)),qe=Math.max(...ae.map(oe=>oe.y));const V=Math.max(50,(fe-ue)*.1),q=Math.max(50,(qe-Ne)*.1);ue-=V,fe+=V,Ne-=q,qe+=q}const ft=fe-ue,gt=qe-Ne,rn=(z.width-100)/ft,On=(z.height-100)/gt,ye=Math.min(rn,On,1)*P,pt=z.width/2-(ue+ft/2)*ye+f.x,Et=z.height/2+(Ne+gt/2)*ye+f.y;if(d){k.strokeStyle="#e5e7eb",k.lineWidth=1;const V=g*ye;for(let q=0;q<z.width;q+=V)k.beginPath(),k.moveTo(q,0),k.lineTo(q,z.height),k.stroke();for(let q=0;q<z.height;q+=V)k.beginPath(),k.moveTo(0,q),k.lineTo(z.width,q),k.stroke()}if(I.platforms&&I.platforms.forEach((V,q)=>{const oe=(i==null?void 0:i.type)==="platform"&&(i==null?void 0:i.index)===q,je=oe?i.data:V,ee=je.x*ye+pt,he=Et-je.y*ye,de=je.width*ye,st=je.height*ye;k.fillStyle=Al.platform,k.fillRect(ee,he-st,de,st),(se==null?void 0:se.type)==="platform"&&(se==null?void 0:se.index)===q&&!oe&&(k.strokeStyle="#a5b4fc",k.lineWidth=2,k.strokeRect(ee-1,he-st-1,de+2,st+2)),oe&&(k.strokeStyle="#6366f1",k.lineWidth=3,k.strokeRect(ee-1.5,he-st-1.5,de+3,st+3))}),I.entities&&I.entities.forEach((V,q)=>{const oe=(i==null?void 0:i.type)==="entity"&&(i==null?void 0:i.index)===q,je=oe?i.data:V,ee=je.x*ye+pt,he=Et-je.y*ye,de=V.type||"unknown",st=K(de),j=ne(de);(se==null?void 0:se.type)==="entity"&&(se==null?void 0:se.index)===q&&!oe&&(k.beginPath(),k.arc(ee,he,Math.max(12,16*ye),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),oe&&(k.beginPath(),k.arc(ee,he,Math.max(14,18*ye),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(12,16*ye)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=j,k.fillText(st,ee,he),V.name&&(k.font=`${Math.max(8,10*ye)}px monospace`,k.fillStyle="#6b7280",k.fillText(V.name,ee,he+12*ye))}),I.player_spawn){const V=(i==null?void 0:i.type)==="spawn",q=V?i.data:I.player_spawn,oe=q.x*ye+pt,je=Et-q.y*ye;(se==null?void 0:se.type)==="spawn"&&!V&&(k.beginPath(),k.arc(oe,je,Math.max(14,20*ye),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),V&&(k.beginPath(),k.arc(oe,je,Math.max(16,22*ye),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(14,20*ye)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=ne("player_spawn"),k.fillText(K("player_spawn"),oe,je),k.font=`${Math.max(8,10*ye)}px monospace`,k.fillStyle="#6b7280",k.fillText("SPAWN",oe,je+16*ye)}if(I.goal){const V=(i==null?void 0:i.type)==="goal",q=V?i.data:I.goal,oe=q.x*ye+pt,je=Et-q.y*ye;(se==null?void 0:se.type)==="goal"&&!V&&(k.beginPath(),k.arc(oe,je,Math.max(14,20*ye),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),V&&(k.beginPath(),k.arc(oe,je,Math.max(16,22*ye),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(14,20*ye)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=ne("goal"),k.fillText(K("goal"),oe,je),k.font=`${Math.max(8,10*ye)}px monospace`,k.fillStyle="#6b7280",k.fillText("GOAL",oe,je+16*ye)}},[I,P,f,ie,i,se,K,ne,d,g]);p.useEffect(()=>{N==="draft"&&Ct()},[N,Ct]);const T=z=>{C(z),n&&n(z)},S=()=>Y(Math.min(P+.25,4)),R=()=>Y(Math.max(P-.25,.25)),me=()=>{Y(1),u({x:0,y:0})};return I?r.jsxs("div",{className:`level-view ${h?"":"non-interactive"}`,children:[r.jsxs("div",{className:"view-mode-bar",children:[r.jsxs("div",{className:"view-mode-tabs",children:[r.jsx("button",{className:`view-tab ${N==="draft"?"active":""}`,onClick:()=>T("draft"),children:" Draft"}),r.jsxs("button",{className:`view-tab ${N==="polish"?"active":""}`,onClick:()=>T("polish"),disabled:!0,children:[" Polish",r.jsx("span",{className:"badge-coming-soon",children:"Coming Soon"})]}),r.jsxs("button",{className:`view-tab ${N==="playable"?"active":""}`,onClick:()=>T("playable"),disabled:!0,children:[" Playable",r.jsx("span",{className:"badge-coming-soon",children:"Coming Soon"})]})]}),r.jsxs("div",{className:"view-controls",children:[r.jsx("button",{onClick:R,title:"Zoom Out",children:""}),r.jsxs("span",{className:"zoom-level",children:[Math.round(P*100),"%"]}),r.jsx("button",{onClick:S,title:"Zoom In",children:""}),r.jsx("button",{onClick:me,title:"Reset View",children:""})]})]}),r.jsxs("div",{className:"canvas-container",children:[N==="draft"&&r.jsxs(r.Fragment,{children:[r.jsx("canvas",{ref:v,width:1200,height:800,className:`level-canvas ${m?"panning":""}`,onMouseDown:Xe,onMouseMove:z=>{Ve(z),$n(z)},onMouseUp:Qe,onMouseLeave:()=>{dt(),xe(null)},onWheel:Kt,style:{cursor:$?"move":m?"grabbing":se?"pointer":"grab"}}),r.jsxs("div",{className:`draft-legend draggable-panel ${re?"minimized":""} ${$e==="legend"?"dragging":""}`,style:{left:w.x,top:w.y,right:"auto"},onMouseDown:z=>Ot(z,"legend"),onMouseMove:rt,onMouseUp:J,onMouseLeave:J,children:[r.jsxs("div",{className:"panel-header",children:[r.jsx("h4",{children:"Legend"}),r.jsx("button",{className:"panel-minimize-btn",onClick:()=>Se(!re),title:re?"Expand":"Minimize",children:re?"":""})]}),!re&&r.jsxs("div",{className:"legend-items",children:[r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Player"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Enemy"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Collectible"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Goal"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Hazard"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Platform"})]})]})]}),r.jsxs("div",{className:`level-info-panel draggable-panel ${Q?"minimized":""} ${$e==="info"?"dragging":""}`,style:D.x!==null?{left:D.x,top:D.y,right:"auto"}:{},onMouseDown:z=>Ot(z,"info"),onMouseMove:rt,onMouseUp:J,onMouseLeave:J,children:[r.jsxs("div",{className:"panel-header",children:[U?r.jsx("input",{ref:Ae,type:"text",className:"level-name-input",value:le,onChange:An,onKeyDown:kt,onBlur:vn,onClick:z=>z.stopPropagation(),autoFocus:!0}):r.jsx("h4",{className:s?"editable-name":"",onClick:H,title:s?"Click to rename":void 0,children:e.name}),r.jsx("button",{className:"panel-minimize-btn",onClick:()=>De(!Q),title:Q?"Expand":"Minimize",children:Q?"":""})]}),!Q&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Genre:"}),r.jsx("span",{className:"info-value",children:e.genre})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Difficulty:"}),r.jsx("span",{className:`diff-badge ${e.difficulty}`,children:e.difficulty})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Theme:"}),r.jsx("span",{className:"info-value",children:e.theme})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Platforms:"}),r.jsx("span",{className:"info-value",children:((Re=I.platforms)==null?void 0:Re.length)||0})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Entities:"}),r.jsx("span",{className:"info-value",children:((yn=I.entities)==null?void 0:yn.length)||0})]})]})]})]}),N==="polish"&&r.jsxs("div",{className:"view-stub",children:[r.jsx("div",{className:"stub-icon",children:""}),r.jsx("h3",{children:"Polish View"}),r.jsx("p",{children:"Apply custom textures, sprites, and visual effects."}),r.jsx("p",{className:"hint",children:"Upload your own assets or choose from the library."})]}),N==="playable"&&r.jsxs("div",{className:"view-stub",children:[r.jsx("div",{className:"stub-icon",children:""}),r.jsx("h3",{children:"Playable Preview"}),r.jsx("p",{children:"Test your level in real-time with basic gameplay mechanics."}),r.jsx("p",{className:"hint",children:"Coming soon: Player movement, collision detection, and win conditions."})]})]})]}):r.jsxs("div",{className:"level-view-empty",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No Level Data"}),r.jsx("p",{children:"This level has no data to display."})]})}const ic={beginner:{name:"Beginner Level",icon:"",description:"Easy level with basic challenges",entities:[{count:5,placement:"evenly distributed"},{count:3,placement:"on wide platforms"},{count:2,placement:"after checkpoints"}]},standard:{name:"Standard Level",icon:"",description:"Balanced difficulty with variety",entities:[{count:10,placement:"throughout level"},{count:5,placement:"on platforms"},{count:3,placement:"near gaps"},{count:2,placement:"after hard sections"}]},challenge:{name:"Challenge Level",icon:"",description:"High difficulty with many obstacles",entities:[{count:15,placement:"everywhere"},{count:8,placement:"guarding coins"},{count:6,placement:"in tricky spots"},{count:4,placement:"sparsely"}]},speedrun:{name:"Speedrun Level",icon:"",description:"Fast-paced with clear paths",entities:[{count:20,placement:"along optimal path"},{count:3,placement:"rarely"},{count:1,placement:"at start"}]},exploration:{name:"Exploration Level",icon:"",description:"Hidden secrets and rewards",entities:[{count:25,placement:"hidden in corners"},{count:5,placement:"in secret areas"},{count:3,placement:"rewarding exploration"}]}},lm=["evenly distributed","throughout level","near checkpoints","after difficult sections","on platforms","in corners","hidden areas","along main path","rewarding exploration","guarding objectives","sparsely placed","clustered together","alternating pattern"];function rm({entityTypes:e,requirements:t,onRequirementsChange:n}){const[l,s]=p.useState(""),[i,a]=p.useState(1),[c,o]=p.useState(""),[d,g]=p.useState(!1),[h,v]=p.useState(null),[N,C]=p.useState(()=>{const x=localStorage.getItem("levelforge-entity-presets");return x?JSON.parse(x):[]});p.useEffect(()=>{localStorage.setItem("levelforge-entity-presets",JSON.stringify(N))},[N]);const P=()=>{if(!l)return;const x=e.find(A=>A.id===parseInt(l));if(!x)return;const D={id:Date.now(),entityId:x.id,entityName:x.name,entityEmoji:x.emoji,count:i,placement:c||"distributed throughout level"};n([...t,D]),s(""),a(1),o("")},Y=x=>{n(t.filter(D=>D.id!==x))},f=(x,D,A)=>{n(t.map(re=>re.id===x?{...re,[D]:A}:re))},u=x=>{const D=ic[x];if(!D||e.length===0)return;const A=D.entities.map((re,Se)=>{const Q=e[Se%e.length];return{id:Date.now()+Se,entityId:Q.id,entityName:Q.name,entityEmoji:Q.emoji,count:re.count,placement:re.placement}});n(A),g(!1)},m=()=>{if(t.length===0)return;const x=prompt("Save preset as:","My Custom Preset");if(!x)return;const D={id:Date.now(),name:x,requirements:t.map(A=>({entityId:A.entityId,count:A.count,placement:A.placement}))};C([...N,D])},y=x=>{const D=x.requirements.map((A,re)=>{const Se=e.find(Q=>Q.id===A.entityId);return Se?{id:Date.now()+re,entityId:Se.id,entityName:Se.name,entityEmoji:Se.emoji,count:A.count,placement:A.placement}:null}).filter(Boolean);n(D),g(!1)},_=x=>{C(N.filter(D=>D.id!==x))},E=(x,D)=>{f(x,"placement",D),v(null)},w=()=>{n([])};return r.jsxs("div",{className:"entity-requirements",children:[r.jsxs("div",{className:"requirements-header",children:[r.jsxs("div",{className:"header-row",children:[r.jsx("h3",{children:"Entity Requirements"}),r.jsxs("div",{className:"header-actions",children:[r.jsx("button",{className:"btn-preset",onClick:()=>g(!d),children:" Presets"}),t.length>0&&r.jsx("button",{className:"btn-clear",onClick:w,children:" Clear All"})]})]}),r.jsx("span",{className:"hint",children:"Specify entities to include in the generated level"})]}),d&&r.jsxs("div",{className:"presets-panel",children:[r.jsxs("div",{className:"presets-section",children:[r.jsx("h4",{children:"Quick Templates"}),r.jsx("div",{className:"preset-grid",children:Object.entries(ic).map(([x,D])=>r.jsxs("button",{className:"preset-card",onClick:()=>u(x),children:[r.jsx("span",{className:"preset-icon",children:D.icon}),r.jsx("span",{className:"preset-name",children:D.name}),r.jsx("span",{className:"preset-desc",children:D.description})]},x))})]}),N.length>0&&r.jsxs("div",{className:"presets-section",children:[r.jsx("h4",{children:"Saved Presets"}),r.jsx("div",{className:"saved-presets-list",children:N.map(x=>r.jsxs("div",{className:"saved-preset-item",children:[r.jsx("span",{className:"preset-name",children:x.name}),r.jsx("button",{className:"btn-load",onClick:()=>y(x),children:"Load"}),r.jsx("button",{className:"btn-delete",onClick:()=>_(x.id),children:""})]},x.id))})]}),t.length>0&&r.jsx("div",{className:"presets-section",children:r.jsx("button",{className:"btn-save-preset",onClick:m,children:" Save Current as Preset"})})]}),t.length>0&&r.jsxs("div",{className:"visual-preview",children:[r.jsx("h4",{children:"Preview"}),r.jsx("div",{className:"entity-preview-grid",children:t.map(x=>r.jsxs("div",{className:"preview-entity",children:[r.jsx("span",{className:"preview-emoji",children:x.entityEmoji}),r.jsxs("span",{className:"preview-count",children:["",x.count]})]},x.id))}),r.jsxs("div",{className:"preview-summary",children:["Total: ",t.reduce((x,D)=>x+D.count,0)," entities"]})]}),t.length>0&&r.jsx("div",{className:"requirements-list",children:t.map(x=>r.jsxs("div",{className:"requirement-item",children:[r.jsxs("div",{className:"req-entity",children:[r.jsx("span",{className:"req-emoji",children:x.entityEmoji}),r.jsx("span",{className:"req-name",children:x.entityName})]}),r.jsx("div",{className:"req-count",children:r.jsx("input",{type:"number",min:"1",max:"100",value:x.count,onChange:D=>f(x.id,"count",parseInt(D.target.value)||1)})}),r.jsxs("div",{className:"req-placement",children:[r.jsx("input",{type:"text",placeholder:"Placement details...",value:x.placement,onChange:D=>f(x.id,"placement",D.target.value),onFocus:()=>v(x.id),onBlur:()=>setTimeout(()=>v(null),200)}),h===x.id&&r.jsx("div",{className:"placement-suggestions",children:lm.map(D=>r.jsx("button",{className:"suggestion-item",onClick:()=>E(x.id,D),children:D},D))})]}),r.jsx("button",{className:"req-remove",onClick:()=>Y(x.id),title:"Remove",children:""})]},x.id))}),r.jsx("div",{className:"add-requirement",children:r.jsxs("div",{className:"add-row",children:[r.jsxs("select",{value:l,onChange:x=>s(x.target.value),children:[r.jsx("option",{value:"",children:"Select entity type..."}),e.map(x=>r.jsxs("option",{value:x.id,children:[x.emoji," ",x.name]},x.id))]}),r.jsx("input",{type:"number",min:"1",max:"100",value:i,onChange:x=>a(parseInt(x.target.value)||1),placeholder:"Count"}),r.jsx("input",{type:"text",value:c,onChange:x=>o(x.target.value),placeholder:"Placement (optional)"}),r.jsx("button",{className:"btn-add",onClick:P,disabled:!l,children:"+ Add"})]})})]})}const Ke={PENCIL:"pencil",ERASER:"eraser",RECT:"rect",FILL:"fill",PAN:"pan"};function sm({tilemap:e,tileTypes:t=[],selectedTileId:n,tool:l=Ke.PENCIL,tileSize:s=32,showGrid:i=!0,snapToGrid:a=!1,onTileChange:c,interactive:o=!0}){const d=p.useRef(null),[g,h]=p.useState(1),[v,N]=p.useState({x:0,y:0}),[C,P]=p.useState(!1),[Y,f]=p.useState({x:0,y:0}),[u,m]=p.useState(!1),[y,_]=p.useState(null),[E,w]=p.useState(null),x=(e==null?void 0:e.width)||50,D=(e==null?void 0:e.height)||30,A=(e==null?void 0:e.data)||[],re=p.useMemo(()=>{const $={0:{id:0,name:"Empty",color:"transparent"}};return t.forEach(M=>{$[M.id]=M}),$},[t]),Se=p.useCallback(($,M)=>{if(!d.current)return null;const ce=Math.floor(($-v.x)/(s*g)),X=Math.floor((M-v.y)/(s*g));return ce<0||ce>=x||X<0||X>=D?null:{tileX:ce,tileY:X}},[v,s,g,x,D]),Q=p.useCallback(($,M)=>A[M]?A[M][$]:null,[A]),De=p.useCallback(($,M,W)=>{c&&c($,M,W)},[c]),$e=p.useCallback(($,M,W)=>{const ce=Q($,M);if(ce===W)return;const X=[],Be=new Set,I=[{x:$,y:M}];for(;I.length>0;){const{x:ie,y:K}=I.pop(),ne=`${ie},${K}`;Be.has(ne)||ie<0||ie>=x||K<0||K>=D||Q(ie,K)===ce&&(Be.add(ne),X.push({x:ie,y:K,tileId:W}),I.push({x:ie+1,y:K}),I.push({x:ie-1,y:K}),I.push({x:ie,y:K+1}),I.push({x:ie,y:K-1}))}X.forEach(({x:ie,y:K,tileId:ne})=>{De(ie,K,ne)})},[Q,De,x,D]),ut=p.useCallback(($,M,W,ce,X)=>{const Be=Math.min($,W),I=Math.max($,W),ie=Math.min(M,ce),K=Math.max(M,ce);for(let ne=ie;ne<=K;ne++)for(let Pe=Be;Pe<=I;Pe++)Pe>=0&&Pe<x&&ne>=0&&ne<D&&De(Pe,ne,X)},[De,x,D]),We=p.useCallback($=>{if($.button!==0)return;const M=d.current.getBoundingClientRect(),W=$.clientX-M.left,ce=$.clientY-M.top;if(l===Ke.PAN||$.shiftKey){P(!0),f({x:$.clientX-v.x,y:$.clientY-v.y});return}const X=Se(W,ce);X&&(m(!0),_(X),l===Ke.PENCIL?De(X.tileX,X.tileY,n):l===Ke.ERASER?De(X.tileX,X.tileY,null):l===Ke.FILL&&$e(X.tileX,X.tileY,n))},[l,v,Se,n,De,$e]),F=p.useCallback($=>{const M=d.current.getBoundingClientRect(),W=$.clientX-M.left,ce=$.clientY-M.top,X=Se(W,ce);if(w(X),C){N({x:$.clientX-Y.x,y:$.clientY-Y.y});return}!u||!X||(l===Ke.PENCIL?De(X.tileX,X.tileY,n):l===Ke.ERASER&&De(X.tileX,X.tileY,null))},[C,Y,u,l,Se,De,n]),U=p.useCallback($=>{if(C){P(!1);return}if(!u||!y){m(!1);return}const M=d.current.getBoundingClientRect(),W=$.clientX-M.left,ce=$.clientY-M.top,X=Se(W,ce);l===Ke.RECT&&X&&ut(y.tileX,y.tileY,X.tileX,X.tileY,n),m(!1),_(null)},[C,u,y,l,Se,ut,n]),G=p.useCallback($=>{$.preventDefault();const M=$.deltaY>0?-.1:.1;h(W=>Math.max(.25,Math.min(4,W+M)))},[]),le=p.useCallback(()=>{var ie;const $=d.current;if(!$)return;const M=$.getContext("2d");M.fillStyle="#1a1a2e",M.fillRect(0,0,$.width,$.height);const W=s*g,ce=Math.max(0,Math.floor(-v.x/W)),X=Math.max(0,Math.floor(-v.y/W)),Be=Math.min(x,Math.ceil(($.width-v.x)/W)),I=Math.min(D,Math.ceil(($.height-v.y)/W));for(let K=X;K<I;K++)for(let ne=ce;ne<Be;ne++){const Pe=(ie=A[K])==null?void 0:ie[ne],Xe=ne*W+v.x,Ve=K*W+v.y;if(Pe&&re[Pe]){const Qe=re[Pe];M.fillStyle=Qe.color,M.fillRect(Xe,Ve,W,W),M.strokeStyle="rgba(255,255,255,0.1)",M.lineWidth=1,M.strokeRect(Xe+.5,Ve+.5,W-1,W-1)}}if(i&&W>=8){M.strokeStyle="rgba(255,255,255,0.15)",M.lineWidth=1;for(let K=ce;K<=Be;K++){const ne=K*W+v.x;M.beginPath(),M.moveTo(ne,0),M.lineTo(ne,$.height),M.stroke()}for(let K=X;K<=I;K++){const ne=K*W+v.y;M.beginPath(),M.moveTo(0,ne),M.lineTo($.width,ne),M.stroke()}}if(E&&!C){const K=E.tileX*W+v.x,ne=E.tileY*W+v.y;if(M.strokeStyle="#6366f1",M.lineWidth=2,M.strokeRect(K,ne,W,W),l===Ke.RECT&&u&&y){const Pe=Math.min(y.tileX,E.tileX)*W+v.x,Xe=Math.min(y.tileY,E.tileY)*W+v.y,Ve=(Math.abs(E.tileX-y.tileX)+1)*W,Qe=(Math.abs(E.tileY-y.tileY)+1)*W,dt=re[n];dt&&(M.fillStyle=dt.color+"80",M.fillRect(Pe,Xe,Ve,Qe)),M.strokeStyle="#6366f1",M.lineWidth=2,M.setLineDash([5,5]),M.strokeRect(Pe,Xe,Ve,Qe),M.setLineDash([])}}M.fillStyle="rgba(0,0,0,0.7)",M.fillRect(8,8,120,24),M.fillStyle="#fff",M.font="12px monospace",M.fillText(`Size: ${x}x${D}`,14,24)},[A,re,s,g,v,i,E,C,l,u,y,n,x,D]);p.useEffect(()=>{le()},[le]),p.useEffect(()=>{const $=M=>{M.target.tagName==="INPUT"||M.target.tagName==="TEXTAREA"||M.code==="Space"&&!M.repeat&&M.preventDefault()};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[]);const Z=()=>h($=>Math.min(4,$+.25)),Ae=()=>h($=>Math.max(.25,$-.25)),se=()=>{h(1),N({x:0,y:0})},xe=()=>C?"grabbing":l===Ke.PAN?"grab":l===Ke.ERASER?"crosshair":l===Ke.FILL?"cell":"crosshair";return r.jsxs("div",{className:`tilemap-canvas-container ${o?"":"non-interactive"}`,children:[r.jsxs("div",{className:"canvas-controls",children:[r.jsx("button",{onClick:Ae,title:"Zoom Out",children:""}),r.jsxs("span",{className:"zoom-level",children:[Math.round(g*100),"%"]}),r.jsx("button",{onClick:Z,title:"Zoom In",children:""}),r.jsx("button",{onClick:se,title:"Reset View",children:""})]}),r.jsx("canvas",{ref:d,width:1200,height:800,className:"tilemap-canvas",onMouseDown:We,onMouseMove:F,onMouseUp:U,onMouseLeave:()=>{P(!1),m(!1),w(null)},onWheel:G,style:{cursor:xe()}}),E&&r.jsxs("div",{className:"tile-coords",children:["Tile: (",E.tileX,", ",E.tileY,")"]})]})}const im={[Ke.PENCIL]:{icon:"",label:"Pencil",shortcut:"B"},[Ke.ERASER]:{icon:"",label:"Eraser",shortcut:"E"},[Ke.RECT]:{icon:"",label:"Rectangle",shortcut:"R"},[Ke.FILL]:{icon:"",label:"Fill",shortcut:"G"},[Ke.PAN]:{icon:"",label:"Pan",shortcut:"Space"}};function am({tileTypes:e=[],selectedTileId:t,onSelectTile:n,selectedTool:l,onSelectTool:s}){const[i,a]=p.useState(!0),c=e.find(o=>o.id===t);return r.jsxs("div",{className:"tile-palette",children:[r.jsxs("div",{className:"palette-section",children:[r.jsxs("div",{className:"section-header",onClick:()=>a(!i),children:[r.jsx("span",{className:"section-title",children:" Tools"}),r.jsx("span",{className:"section-toggle",children:i?"":""})]}),i&&r.jsx("div",{className:"tool-grid",children:Object.entries(im).map(([o,d])=>r.jsxs("button",{className:`tool-btn ${l===o?"active":""}`,onClick:()=>s(o),title:`${d.label} (${d.shortcut})`,children:[r.jsx("span",{className:"tool-icon",children:d.icon}),r.jsx("span",{className:"tool-label",children:d.label})]},o))})]}),r.jsxs("div",{className:"palette-section tiles-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("span",{className:"section-title",children:" Tiles"}),r.jsx("span",{className:"tile-count",children:e.length})]}),r.jsxs("div",{className:"tile-grid",children:[r.jsx("button",{className:`tile-btn ${t===null?"selected":""}`,onClick:()=>n(null),title:"Eraser (Empty)",children:r.jsx("div",{className:"tile-swatch eraser",children:r.jsx("span",{className:"eraser-icon",children:""})})}),e.map(o=>r.jsx("button",{className:`tile-btn ${t===o.id?"selected":""}`,onClick:()=>n(o.id),title:`${o.name}
${o.collision_type}  ${o.category}`,children:r.jsx("div",{className:"tile-swatch",style:{backgroundColor:o.color}})},o.id))]}),c&&r.jsxs("div",{className:"selected-tile-info",children:[r.jsxs("div",{className:"selected-tile-header",children:[r.jsx("div",{className:"selected-tile-swatch",style:{backgroundColor:c.color}}),r.jsx("span",{className:"selected-tile-name",children:c.name})]}),r.jsxs("div",{className:"selected-tile-meta",children:[r.jsxs("span",{className:"meta-item",children:[r.jsx("span",{className:"meta-label",children:"Collision:"}),r.jsx("span",{className:"meta-value",children:c.collision_type})]}),r.jsxs("span",{className:"meta-item",children:[r.jsx("span",{className:"meta-label",children:"Category:"}),r.jsx("span",{className:"meta-value",children:c.category})]})]})]}),t===null&&r.jsxs("div",{className:"selected-tile-info",children:[r.jsxs("div",{className:"selected-tile-header",children:[r.jsx("div",{className:"selected-tile-swatch eraser",children:r.jsx("span",{children:""})}),r.jsx("span",{className:"selected-tile-name",children:"Eraser"})]}),r.jsx("div",{className:"selected-tile-meta",children:r.jsx("span",{className:"meta-item",children:"Clears tiles"})})]})]})]})}const om=[{id:"platformer",name:"Platformer",icon:""},{id:"puzzle",name:"Puzzle",icon:""},{id:"shooter",name:"Shooter",icon:""}],cm=[{id:"easy",name:"Easy",color:"#4ade80"},{id:"medium",name:"Medium",color:"#facc15"},{id:"hard",name:"Hard",color:"#f97316"},{id:"expert",name:"Expert",color:"#ef4444"}],Ce={ENTITIES:"entities",TILEMAP:"tilemap"};function um({currentProject:e,levels:t,currentLevel:n,onSelectLevel:l,onGenerateLevel:s,generating:i,progress:a,progressMessage:c,availableModels:o,selectedModel:d,onModelChange:g,showGenerator:h,onShowGeneratorChange:v,viewMode:N,onViewModeChange:C,onRenameLevel:P,selectedObject:Y,onSelectObject:f,onUpdateObject:u,snapToGrid:m=!1,showGrid:y=!0,gridSize:_=50}){var Ct;const[E,w]=p.useState(N??"canvas"),[x,D]=p.useState(320),A=p.useRef(!1),[re,Se]=p.useState(null),Q=Y??re,De=f||Se,[$e,ut]=p.useState("platformer"),[We,F]=p.useState("medium"),[U,G]=p.useState(""),[le,Z]=p.useState(""),[Ae,se]=p.useState([]),[xe,$]=p.useState("layers"),[M,W]=p.useState({[Ce.ENTITIES]:!0,[Ce.TILEMAP]:!0}),[ce,X]=p.useState(Ce.ENTITIES),[Be,I]=p.useState([]),[ie,K]=p.useState(null),[ne,Pe]=p.useState(Ke.PENCIL),[Xe,Ve]=p.useState(null),[Qe,dt]=p.useState([]);p.useEffect(()=>{e&&(fetch(`http://192.168.68.72:8000/api/projects/${e.id}/entity-types`).then(T=>T.json()).then(T=>dt(T)).catch(T=>console.error("Failed to load entity types:",T)),fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-types`).then(T=>T.json()).then(T=>{I(T),T.length>0&&ie===null&&K(T[0].id)}).catch(T=>console.error("Failed to load tile types:",T)))},[e]),p.useEffect(()=>{N!==void 0&&w(N)},[N]),p.useEffect(()=>{h&&(w("ai"),C&&C("ai"))},[h]);const Kt=p.useCallback(T=>{T.preventDefault(),A.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);p.useEffect(()=>{const T=R=>{A.current&&D(Math.max(220,Math.min(520,R.clientX)))},S=()=>{A.current&&(A.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",T),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",S)}},[]);const Ot=T=>{w(T),C&&C(T),v&&v(T==="ai")},rt=T=>{l(T),Ot("canvas")};let J=null;try{n!=null&&n.level_data&&(J=typeof n.level_data=="string"?JSON.parse(n.level_data):n.level_data)}catch{J=null}p.useEffect(()=>{J!=null&&J.tilemap?Ve(J.tilemap):n&&Ve({width:50,height:30,data:Array(30).fill(null).map(()=>Array(50).fill(null))})},[n,J==null?void 0:J.tilemap]);const $n=p.useMemo(()=>{if(!(J!=null&&J.entities))return{};const T={};return J.entities.forEach(S=>{const R=S.type||"unknown";T[R]||(T[R]=[]),T[R].push(S)}),T},[J]),H=p.useCallback(T=>{const S=Qe.find(me=>me.name.toLowerCase()===T.toLowerCase());return S?{emoji:S.emoji,color:S.color}:{player_spawn:{emoji:"",color:"#3b82f6"},goal:{emoji:"",color:"#22c55e"},enemy:{emoji:"",color:"#ef4444"},enemy_basic:{emoji:"",color:"#ef4444"},enemy_flying:{emoji:"",color:"#a855f7"},coin:{emoji:"",color:"#fbbf24"},key:{emoji:"",color:"#fbbf24"},spike:{emoji:"",color:"#dc2626"},hazard:{emoji:"",color:"#dc2626"}}[T.toLowerCase()]||{emoji:"",color:"#9ca3af"}},[Qe]),An=p.useCallback((T,S,R)=>{Ve(me=>{if(!me)return me;const Re=me.data.map(yn=>[...yn]);return Re[S]&&(Re[S][T]=R),{...me,data:Re}})},[]),kt=p.useCallback(T=>{De(T)},[]);p.useCallback(T=>{De(T),console.log("Update object:",T)},[]);const vn=()=>{let T="";Ae.length>0&&(T=`

Entity Requirements:
`,Ae.forEach(R=>{R.entityType&&R.count>0&&(T+=`- ${R.count}x ${R.entityType.name}`,R.placement&&(T+=`: ${R.placement}`),T+=`
`)}));const S=(le||"Create an engaging level")+T;s({genre:$e,difficulty:We,theme:U||"default",requirements:S})};return e?r.jsx("div",{className:"levels-page",children:r.jsxs("main",{className:"main-area",children:[r.jsxs("div",{className:"toolbar",children:[r.jsxs("div",{className:"toolbar-left",children:[r.jsx("h2",{children:" Levels"}),r.jsx("span",{className:"project-name",children:e.name})]}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-primary",onClick:()=>Ot("ai"),children:" Generate New Level"}),E==="ai"&&r.jsx("button",{className:"btn-secondary",onClick:()=>Ot("canvas"),children:" Back to Canvas"})]})]}),r.jsxs("div",{className:"levels-workspace",children:[r.jsxs("aside",{className:"levels-sidebar",style:{width:x},children:[r.jsxs("div",{className:"sidebar-tabs",children:[r.jsx("button",{className:`sidebar-tab ${xe==="layers"?"active":""}`,onClick:()=>$("layers"),children:" Layers"}),r.jsx("button",{className:`sidebar-tab ${xe==="levels"?"active":""}`,onClick:()=>$("levels"),children:" Levels"}),r.jsx("button",{className:`sidebar-tab ${xe==="objects"?"active":""}`,onClick:()=>$("objects"),children:" Objects"})]}),xe==="layers"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"levels-sidebar-header",children:[r.jsx("h3",{children:"Level Layers"}),!n&&r.jsx("span",{className:"hint-text",children:"Select a level"})]}),r.jsxs("div",{className:"layers-list",children:[r.jsxs("div",{className:`layer-item ${ce===Ce.ENTITIES?"active":""}`,onClick:()=>X(Ce.ENTITIES),children:[r.jsx("button",{className:"layer-visibility-btn",onClick:T=>{T.stopPropagation(),W(S=>({...S,[Ce.ENTITIES]:!S[Ce.ENTITIES]}))},title:M[Ce.ENTITIES]?"Hide layer":"Show layer",children:M[Ce.ENTITIES]?"":""}),r.jsx("span",{className:"layer-icon",children:""}),r.jsx("span",{className:"layer-name",children:"Entities"}),r.jsx("span",{className:"layer-count",children:((Ct=J==null?void 0:J.entities)==null?void 0:Ct.length)||0})]}),r.jsxs("div",{className:`layer-item ${ce===Ce.TILEMAP?"active":""}`,onClick:()=>X(Ce.TILEMAP),children:[r.jsx("button",{className:"layer-visibility-btn",onClick:T=>{T.stopPropagation(),W(S=>({...S,[Ce.TILEMAP]:!S[Ce.TILEMAP]}))},title:M[Ce.TILEMAP]?"Hide layer":"Show layer",children:M[Ce.TILEMAP]?"":""}),r.jsx("span",{className:"layer-icon",children:""}),r.jsx("span",{className:"layer-name",children:"Tilemap"}),r.jsx("span",{className:"layer-count",children:J!=null&&J.tilemap?`${J.tilemap.width}x${J.tilemap.height}`:""})]})]}),ce===Ce.TILEMAP&&n&&r.jsxs("div",{className:"tilemap-settings",children:[r.jsx("h4",{children:"Tilemap Settings"}),r.jsxs("div",{className:"setting-row",children:[r.jsx("span",{children:"Tile Size"}),r.jsxs("span",{children:[(e==null?void 0:e.tile_size)||32,"px"]})]}),r.jsxs("div",{className:"setting-row",children:[r.jsx("span",{children:"Tile Types"}),r.jsx("span",{children:Be.length})]}),r.jsx("p",{className:"tilemap-hint",children:"Select a tile type from the right palette and draw on the canvas."})]})]}),xe==="levels"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"levels-sidebar-header",children:[r.jsx("h3",{children:"Project Levels"}),r.jsx("span",{className:"count-badge",children:t.length})]}),r.jsx("div",{className:"levels-sidebar-list",children:t.length===0?r.jsxs("div",{className:"empty-levels small",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"No levels yet"})]}):t.map(T=>r.jsxs("button",{className:`level-list-item ${(n==null?void 0:n.id)===T.id?"active":""}`,onClick:()=>rt(T),children:[r.jsx("div",{className:"level-list-name",children:T.name}),r.jsxs("div",{className:"level-list-meta",children:[r.jsx("span",{children:T.genre}),r.jsx("span",{className:`diff-badge ${T.difficulty}`,children:T.difficulty})]})]},T.id))})]}),xe==="objects"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"levels-sidebar-header",children:[r.jsx("h3",{children:"Object Hierarchy"}),!n&&r.jsx("span",{className:"hint-text",children:"Select a level"})]}),r.jsx("div",{className:"levels-sidebar-list objects-list",children:n?J?r.jsxs(r.Fragment,{children:[J.platforms&&J.platforms.length>0&&r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:""}),r.jsx("span",{className:"group-name",children:"Platforms"}),r.jsx("span",{className:"count-badge",children:J.platforms.length})]}),r.jsx("div",{className:"object-items",children:J.platforms.map((T,S)=>r.jsxs("div",{className:`object-item ${(Q==null?void 0:Q.type)==="platform"&&(Q==null?void 0:Q.index)===S?"selected":""}`,onClick:()=>kt({type:"platform",data:T,index:S}),children:[r.jsx("span",{className:"item-icon",children:""}),r.jsxs("span",{className:"item-name",children:["Platform ",S+1]}),r.jsxs("span",{className:"item-coords",children:["@ ",T.x,", ",T.y]})]},S))})]}),Object.entries($n).map(([T,S])=>{const R=H(T);return r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:R.emoji}),r.jsx("span",{className:"group-name",children:T}),r.jsx("span",{className:"count-badge",children:S.length})]}),r.jsx("div",{className:"object-items",children:S.map((me,Re)=>r.jsxs("div",{className:`object-item ${(Q==null?void 0:Q.type)==="entity"&&(Q==null?void 0:Q.index)===Re&&(Q==null?void 0:Q.entityType)===T?"selected":""}`,onClick:()=>kt({type:"entity",entityType:T,data:me,index:Re}),children:[r.jsx("span",{className:"item-icon",children:R.emoji}),r.jsx("span",{className:"item-name",children:me.name||`${T} ${Re+1}`}),r.jsxs("span",{className:"item-coords",children:["@ ",me.x,", ",me.y]})]},Re))})]},T)}),J.player_spawn&&r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:""}),r.jsx("span",{className:"group-name",children:"Player Spawn"})]}),r.jsx("div",{className:"object-items",children:r.jsxs("div",{className:`object-item ${(Q==null?void 0:Q.type)==="spawn"?"selected":""}`,onClick:()=>kt({type:"spawn",data:J.player_spawn}),children:[r.jsx("span",{className:"item-icon",children:""}),r.jsx("span",{className:"item-name",children:"Spawn Point"}),r.jsxs("span",{className:"item-coords",children:["@ ",J.player_spawn.x,", ",J.player_spawn.y]})]})})]}),J.goal&&r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:""}),r.jsx("span",{className:"group-name",children:"Goal"})]}),r.jsx("div",{className:"object-items",children:r.jsxs("div",{className:`object-item ${(Q==null?void 0:Q.type)==="goal"?"selected":""}`,onClick:()=>kt({type:"goal",data:J.goal}),children:[r.jsx("span",{className:"item-icon",children:""}),r.jsx("span",{className:"item-name",children:"Goal Point"}),r.jsxs("span",{className:"item-coords",children:["@ ",J.goal.x,", ",J.goal.y]})]})})]})]}):r.jsxs("div",{className:"empty-levels small",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"No objects in this level"})]}):r.jsxs("div",{className:"empty-levels small",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"Select a level to view objects"})]})})]})]}),r.jsx("div",{className:"resize-handle-vertical",onMouseDown:Kt}),r.jsxs("section",{className:"levels-center",children:[E==="canvas"&&r.jsx("div",{className:"canvas-area",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"canvas-view layered-canvas",children:[M[Ce.TILEMAP]&&r.jsx("div",{className:`canvas-layer tilemap-layer ${ce===Ce.TILEMAP?"interactive":""}`,children:r.jsx(sm,{tilemap:Xe||{width:50,height:30,data:[]},tileTypes:Be,selectedTileId:ie,tool:ne,tileSize:(e==null?void 0:e.tile_size)||32,showGrid:y&&ce===Ce.TILEMAP,onTileChange:An,interactive:ce===Ce.TILEMAP})}),M[Ce.ENTITIES]&&r.jsx("div",{className:`canvas-layer entities-layer ${ce===Ce.ENTITIES?"interactive":""}`,children:r.jsx(nm,{level:n,mode:"draft",entityTypes:Qe||[],onRename:P,selectedObject:Q,onSelectObject:kt,onUpdateObject:u,snapToGrid:m,showGrid:y&&ce===Ce.ENTITIES,gridSize:_,interactive:ce===Ce.ENTITIES})})]}),ce===Ce.TILEMAP&&r.jsx(am,{tileTypes:Be,selectedTileId:ie,onSelectTile:K,selectedTool:ne,onSelectTool:Pe})]}):r.jsxs("div",{className:"no-selection",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No Level Selected"}),r.jsx("p",{children:"Select a level from the left panel or generate a new one."}),r.jsx("button",{className:"btn-primary",onClick:()=>Ot("ai"),children:" Generate New Level"})]})}),E==="ai"&&r.jsxs("div",{className:"ai-generation-view",children:[i&&r.jsxs("div",{className:"progress-section",children:[r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill",style:{width:`${a}%`}})}),r.jsxs("div",{className:"progress-info",children:[r.jsx("span",{children:c}),r.jsxs("span",{children:[a,"%"]})]})]}),r.jsxs("div",{className:"model-bar",children:[r.jsx("label",{children:"AI Model:"}),r.jsx("select",{value:d,onChange:T=>g(T.target.value),children:o&&Object.entries(o).map(([T,S])=>S.map(R=>r.jsxs("option",{value:R.name,children:[T.toUpperCase(),": ",R.display||R.name]},R.name)))})]}),r.jsxs("div",{className:"generation-form",children:[r.jsxs("div",{className:"form-header",children:[r.jsx("h2",{children:" Generate New Level"}),r.jsx("p",{children:"Configure your level settings and let AI create it for you."})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Genre"}),r.jsx("div",{className:"genre-grid",children:om.map(T=>r.jsxs("button",{className:`genre-card ${$e===T.id?"active":""}`,onClick:()=>ut(T.id),children:[r.jsx("span",{className:"icon",children:T.icon}),r.jsx("span",{className:"name",children:T.name})]},T.id))})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Difficulty"}),r.jsx("div",{className:"diff-grid",children:cm.map(T=>r.jsx("button",{className:`diff-card ${We===T.id?"active":""}`,style:{"--active-color":T.color},onClick:()=>F(T.id),children:T.name},T.id))})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group half",children:[r.jsx("label",{children:"Theme"}),r.jsx("input",{type:"text",placeholder:"e.g., forest, castle, space station...",value:U,onChange:T=>G(T.target.value)})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Additional Requirements"}),r.jsx("textarea",{placeholder:"e.g., Include 5 coins, add moving platforms, make it challenging...",value:le,onChange:T=>Z(T.target.value),rows:3})]})}),r.jsx(rm,{entityTypes:Qe||[],requirements:Ae,onRequirementsChange:se}),r.jsx("button",{className:"generate-btn",onClick:vn,disabled:i,children:i?" Generating...":" Generate Level"})]})]})]})]})]})}):r.jsx("div",{className:"levels-page",children:r.jsxs("div",{className:"no-project-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"No Project Selected"}),r.jsx("p",{children:"Select a project from the Dashboard to manage levels."})]})})}const ac=[{id:"textures",label:"Textures",icon:""},{id:"models",label:"Models",icon:""},{id:"audio",label:"Audio",icon:""},{id:"scripts",label:"Scripts",icon:""},{id:"templates",label:"AI Templates",icon:""}];function dm({currentProject:e,onSelectAsset:t,selectedAsset:n}){var g;const[l,s]=p.useState("textures"),[i,a]=p.useState(""),o={textures:[{id:1,name:"Grass Tile",type:"png",size:"64x64",category:"textures"},{id:2,name:"Stone Wall",type:"png",size:"64x64",category:"textures"},{id:3,name:"Water Surface",type:"png",size:"64x64",category:"textures"}],models:[{id:4,name:"Player Character",type:"glb",vertices:1200,category:"models"},{id:5,name:"Enemy Slime",type:"glb",vertices:300,category:"models"}],audio:[{id:6,name:"Jump Sound",type:"wav",duration:"0.5s",category:"audio"},{id:7,name:"Coin Collect",type:"wav",duration:"0.3s",category:"audio"}],scripts:[{id:8,name:"Player Controller",type:"js",lines:150,category:"scripts"},{id:9,name:"Enemy AI",type:"js",lines:80,category:"scripts"}],templates:[{id:10,name:"Forest Level",type:"prompt",tokens:120,category:"templates"},{id:11,name:"Dungeon Room",type:"prompt",tokens:85,category:"templates"}]}[l]||[],d=h=>{const v={...h,typeLabel:"Asset"};t&&t(v)};return e?r.jsxs("div",{className:"library-page",children:[r.jsxs("aside",{className:"sub-nav",children:[r.jsx("div",{className:"sub-nav-header",children:r.jsx("h3",{children:"Asset Types"})}),r.jsx("nav",{className:"sub-nav-list",children:ac.map(h=>r.jsxs("button",{className:`sub-nav-item ${l===h.id?"active":""}`,onClick:()=>s(h.id),children:[r.jsx("span",{className:"sub-nav-icon",children:h.icon}),r.jsx("span",{className:"sub-nav-label",children:h.label})]},h.id))})]}),r.jsxs("main",{className:"main-area",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("div",{className:"toolbar-left",children:r.jsx("input",{type:"text",placeholder:"Search assets...",value:i,onChange:h=>a(h.target.value),className:"search-input"})}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-secondary",children:"Import"}),r.jsx("button",{className:"btn-primary",children:"+ Upload Asset"})]})]}),r.jsx("div",{className:"data-grid-container",children:o.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:(g=ac.find(h=>h.id===l))==null?void 0:g.icon}),r.jsxs("h3",{children:["No ",l," yet"]}),r.jsx("p",{children:"Upload or import assets to use in your levels."})]}):r.jsxs("table",{className:"data-grid",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Type"}),r.jsx("th",{children:"Details"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:o.map(h=>r.jsxs("tr",{className:(n==null?void 0:n.id)===h.id?"selected":"",onClick:()=>d(h),children:[r.jsx("td",{children:r.jsx("strong",{children:h.name})}),r.jsx("td",{children:r.jsx("span",{className:"badge",children:h.type})}),r.jsx("td",{children:h.size||h.vertices||h.duration||h.lines||h.tokens}),r.jsxs("td",{className:"col-actions",children:[r.jsx("button",{className:"action-btn",children:""}),r.jsx("button",{className:"action-btn",children:""})]})]},h.id))})]})})]})]}):r.jsx("div",{className:"placeholder-page",children:r.jsxs("div",{className:"no-project-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"No Project Selected"}),r.jsx("p",{children:"Select a project from the Dashboard to manage assets."})]})})}const fm=[{id:"prompts",label:"Prompt Editor",icon:""},{id:"models",label:"Model Settings",icon:""},{id:"history",label:"Generation History",icon:""},{id:"feedback",label:"Quality Ratings",icon:""}];function pm({availableModels:e,selectedModel:t,onModelChange:n,consoleLogs:l}){const[s,i]=p.useState("prompts"),[a,c]=p.useState(""),o=[{id:1,time:"09:45",model:"gpt-4o",genre:"platformer",status:"success"},{id:2,time:"09:30",model:"llama3.2",genre:"puzzle",status:"success"},{id:3,time:"09:15",model:"gpt-4o",genre:"shooter",status:"failed"}];return r.jsxs("div",{className:"ai-tools-page",children:[r.jsxs("aside",{className:"sub-nav",children:[r.jsx("div",{className:"sub-nav-header",children:r.jsx("h3",{children:"AI Tools"})}),r.jsx("nav",{className:"sub-nav-list",children:fm.map(d=>r.jsxs("button",{className:`sub-nav-item ${s===d.id?"active":""}`,onClick:()=>i(d.id),children:[r.jsx("span",{className:"sub-nav-icon",children:d.icon}),r.jsx("span",{className:"sub-nav-label",children:d.label})]},d.id))})]}),r.jsxs("main",{className:"main-area",children:[s==="prompts"&&r.jsxs("div",{className:"prompt-editor",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("h2",{children:"Prompt Editor"}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-secondary",children:"Load Template"}),r.jsx("button",{className:"btn-primary",children:"Save Prompt"})]})]}),r.jsx("div",{className:"editor-area",children:r.jsx("textarea",{value:a,onChange:d=>c(d.target.value),placeholder:`Write your custom level generation prompt here...

Example:
Generate a medium-difficulty platformer level with:
- 10 platforms
- 5 enemies
- 3 collectible coins
- A checkpoint at the halfway point`,className:"prompt-textarea"})}),r.jsxs("div",{className:"prompt-suggestions",children:[r.jsx("h4",{children:"Suggestions"}),r.jsxs("div",{className:"suggestions-list",children:[r.jsx("button",{onClick:()=>c(d=>d+`
- Include moving platforms`),children:"+ Moving platforms"}),r.jsx("button",{onClick:()=>c(d=>d+`
- Add a boss fight area`),children:"+ Boss fight"}),r.jsx("button",{onClick:()=>c(d=>d+`
- Include secret areas`),children:"+ Secret areas"}),r.jsx("button",{onClick:()=>c(d=>d+`
- Add environmental hazards`),children:"+ Hazards"})]})]})]}),s==="models"&&r.jsxs("div",{className:"model-settings",children:[r.jsx("div",{className:"toolbar",children:r.jsx("h2",{children:"Model Settings"})}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Active Model"}),r.jsx("select",{value:t,onChange:d=>n(d.target.value),children:e&&Object.entries(e).map(([d,g])=>g.map(h=>r.jsxs("option",{value:h.name,children:[d.toUpperCase(),": ",h.display||h.name]},h.name)))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Temperature"}),r.jsx("input",{type:"range",min:"0",max:"100",defaultValue:"70"}),r.jsx("span",{className:"hint",children:"Higher = more creative, Lower = more consistent"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Max Tokens"}),r.jsx("input",{type:"number",defaultValue:"2000"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Auto-fallback to Ollama"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{className:"toggle-slider"})]}),r.jsx("span",{className:"hint",children:"Automatically switch to local Ollama on rate limits"})]})]})]}),s==="history"&&r.jsxs("div",{className:"generation-history",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("h2",{children:"Generation History"}),r.jsx("button",{className:"btn-secondary",children:"Clear History"})]}),r.jsxs("table",{className:"data-grid",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Time"}),r.jsx("th",{children:"Model"}),r.jsx("th",{children:"Genre"}),r.jsx("th",{children:"Status"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:o.map(d=>r.jsxs("tr",{children:[r.jsx("td",{children:d.time}),r.jsx("td",{children:d.model}),r.jsx("td",{children:d.genre}),r.jsx("td",{children:r.jsx("span",{className:`status-badge ${d.status}`,children:d.status==="success"?"":""})}),r.jsx("td",{children:r.jsx("button",{className:"action-btn",children:""})})]},d.id))})]})]}),s==="feedback"&&r.jsxs("div",{className:"feedback-page",children:[r.jsx("div",{className:"toolbar",children:r.jsx("h2",{children:"Quality Ratings"})}),r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No ratings yet"}),r.jsx("p",{children:"Rate generated levels to improve AI quality over time."})]})]})]}),r.jsxs("aside",{className:"inspector",children:[r.jsx("div",{className:"inspector-header",children:r.jsx("h3",{children:"AI Status"})}),r.jsxs("div",{className:"inspector-content",children:[r.jsxs("div",{className:"status-section",children:[r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-label",children:"Current Model"}),r.jsx("span",{className:"status-value",children:t||"None"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-label",children:"Generations Today"}),r.jsx("span",{className:"status-value",children:"12"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-label",children:"Success Rate"}),r.jsx("span",{className:"status-value success",children:"92%"})]})]}),r.jsxs("div",{className:"recent-activity",children:[r.jsx("h4",{children:"Recent Activity"}),l&&l.length>0?r.jsx("div",{className:"activity-list",children:l.slice(-5).map((d,g)=>r.jsxs("div",{className:`activity-item ${d.type}`,children:[r.jsx("span",{className:"activity-time",children:d.time}),r.jsx("span",{className:"activity-msg",children:d.message})]},g))}):r.jsx("p",{className:"hint",children:"No recent activity"})]})]})]})]})}const mm=[{id:"none",label:"None",description:"No collision"},{id:"solid",label:"Solid",description:"Blocks movement"},{id:"passthrough",label:"Passthrough",description:"Can jump through from below"},{id:"hazard",label:"Hazard",description:"Deals damage on contact"},{id:"water",label:"Water",description:"Swimmable fluid"}],oc=[{id:"terrain",label:"Terrain",icon:""},{id:"hazard",label:"Hazard",icon:""},{id:"decoration",label:"Decoration",icon:""},{id:"special",label:"Special",icon:""}],hm=["#808080","#6b7280","#4b5563","#374151","#22c55e","#16a34a","#15803d","#166534","#3b82f6","#2563eb","#1d4ed8","#1e40af","#f59e0b","#d97706","#b45309","#92400e","#ef4444","#dc2626","#b91c1c","#991b1b","#8b5cf6","#7c3aed","#6d28d9","#5b21b6"];function vm({projectId:e,tileTypes:t=[],onRefresh:n,onSelectTile:l,selectedTileId:s}){const[i,a]=p.useState(null),[c,o]=p.useState(!1),[d,g]=p.useState(h());function h(){return{name:"",color:"#808080",description:"",collision_type:"solid",friction:1,damage:0,category:"terrain"}}const v=async()=>{if(!d.name.trim()){alert("Please enter a tile name");return}try{if(!(await fetch(`http://192.168.68.72:8000/api/projects/${e}/tile-types`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name.trim(),color:d.color,description:d.description||null,collision_type:d.collision_type,friction:d.friction,damage:d.damage,category:d.category})})).ok)throw new Error("Failed to create tile type");o(!1),g(h()),n&&n()}catch(u){console.error("Create tile type failed:",u),alert("Failed to create tile type")}},N=async()=>{if(!i||!d.name.trim()){alert("Please enter a tile name");return}try{if(!(await fetch(`http://192.168.68.72:8000/api/tile-types/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name.trim(),color:d.color,description:d.description||null,collision_type:d.collision_type,friction:d.friction,damage:d.damage,category:d.category})})).ok)throw new Error("Failed to update tile type");a(null),g(h()),n&&n()}catch(u){console.error("Update tile type failed:",u),alert("Failed to update tile type")}},C=async u=>{if(confirm("Delete this tile type?"))try{if(!(await fetch(`http://192.168.68.72:8000/api/tile-types/${u}`,{method:"DELETE"})).ok)throw new Error("Failed to delete tile type");(i==null?void 0:i.id)===u&&(a(null),g(h())),n&&n()}catch(m){console.error("Delete tile type failed:",m),alert("Failed to delete tile type")}},P=u=>{a(u),g({name:u.name,color:u.color,description:u.description||"",collision_type:u.collision_type,friction:u.friction,damage:u.damage,category:u.category}),o(!1)},Y=()=>{a(null),o(!1),g(h())},f=t.reduce((u,m)=>{const y=m.category||"terrain";return u[y]||(u[y]=[]),u[y].push(m),u},{});return r.jsxs("div",{className:"tile-type-manager",children:[r.jsxs("div",{className:"tile-type-header",children:[r.jsx("h3",{children:"Tile Types"}),r.jsx("button",{className:"btn-small btn-primary",onClick:()=>{o(!0),a(null)},children:"+ New"})]}),r.jsx("div",{className:"tile-type-list",children:oc.map(u=>{const m=f[u.id]||[];return m.length===0&&u.id!=="terrain"?null:r.jsxs("div",{className:"tile-category",children:[r.jsxs("div",{className:"category-header",children:[r.jsx("span",{className:"category-icon",children:u.icon}),r.jsx("span",{className:"category-name",children:u.label}),r.jsx("span",{className:"category-count",children:m.length})]}),r.jsxs("div",{className:"category-tiles",children:[m.map(y=>r.jsxs("div",{className:`tile-type-item ${s===y.id?"selected":""}`,onClick:()=>l&&l(y),children:[r.jsx("div",{className:"tile-preview",style:{backgroundColor:y.color},title:y.name}),r.jsxs("div",{className:"tile-info",children:[r.jsx("span",{className:"tile-name",children:y.name}),r.jsx("span",{className:"tile-collision",children:y.collision_type})]}),r.jsxs("div",{className:"tile-actions",children:[r.jsx("button",{className:"btn-icon",onClick:_=>{_.stopPropagation(),P(y)},title:"Edit",children:""}),r.jsx("button",{className:"btn-icon danger",onClick:_=>{_.stopPropagation(),C(y.id)},title:"Delete",children:""})]})]},y.id)),m.length===0&&u.id==="terrain"&&r.jsxs("div",{className:"no-tiles",children:[r.jsx("p",{children:"No tiles yet"}),r.jsx("button",{className:"btn-primary empty-create-btn",onClick:()=>{o(!0),a(null)},children:"+ Create First Tile Type"})]})]})]},u.id)})}),(c||i)&&r.jsx("div",{className:"tile-type-form-overlay",onClick:Y,children:r.jsxs("div",{className:"tile-type-form",onClick:u=>u.stopPropagation(),children:[r.jsx("h4",{children:i?"Edit Tile Type":"Create Tile Type"}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsx("input",{type:"text",value:d.name,onChange:u=>g({...d,name:u.target.value}),placeholder:"e.g., Grass, Stone, Water...",autoFocus:!0})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Color"}),r.jsxs("div",{className:"color-picker",children:[r.jsx("input",{type:"color",value:d.color,onChange:u=>g({...d,color:u.target.value})}),r.jsx("div",{className:"color-presets",children:hm.map(u=>r.jsx("button",{type:"button",className:`color-preset ${d.color===u?"selected":""}`,style:{backgroundColor:u},onClick:()=>g({...d,color:u})},u))})]})]}),r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Category"}),r.jsx("select",{value:d.category,onChange:u=>g({...d,category:u.target.value}),children:oc.map(u=>r.jsxs("option",{value:u.id,children:[u.icon," ",u.label]},u.id))})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Collision Type"}),r.jsx("div",{className:"collision-grid",children:mm.map(u=>r.jsxs("button",{type:"button",className:`collision-option ${d.collision_type===u.id?"selected":""}`,onClick:()=>g({...d,collision_type:u.id}),children:[r.jsx("span",{className:"collision-label",children:u.label}),r.jsx("span",{className:"collision-desc",children:u.description})]},u.id))})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Friction (0.0 - 1.0)"}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",value:d.friction,onChange:u=>g({...d,friction:parseFloat(u.target.value)||0})})]}),r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Damage/Second"}),r.jsx("input",{type:"number",min:"0",value:d.damage,onChange:u=>g({...d,damage:parseInt(u.target.value)||0})})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Description"}),r.jsx("textarea",{value:d.description,onChange:u=>g({...d,description:u.target.value}),placeholder:"Description for AI generation...",rows:2})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:Y,children:"Cancel"}),r.jsx("button",{className:"btn-primary",onClick:i?N:v,children:i?"Update":"Create"})]})]})})]})}function ym({currentProject:e,availableModels:t,selectedModel:n,onModelChange:l,onUpdateProject:s,theme:i,accentColor:a,onThemeChange:c,onAccentChange:o}){const[d,g]=p.useState("project"),[h,v]=p.useState([]),[N,C]=p.useState(32),[P,Y]=p.useState(!1),f=[{id:"project",label:"Project",icon:""},{id:"tiles",label:"Tile Types",icon:""},{id:"ai",label:"AI Settings",icon:""},{id:"ui",label:"UI & Themes",icon:""},{id:"export",label:"Export",icon:""}];p.useEffect(()=>{e&&(u(),C(e.tile_size||32))},[e]);const u=async()=>{if(e)try{const x=await(await fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-types`)).json();v(x)}catch(w){console.error("Failed to load tile types:",w)}},m=async w=>{if(C(w),!!e){Y(!0);try{if(!(await fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-size`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tile_size:w})})).ok)throw new Error("Failed to update tile size")}catch(x){console.error("Failed to update tile size:",x)}finally{Y(!1)}}},y=[{id:"dark",label:"Dark",icon:""},{id:"light",label:"Light",icon:""},{id:"system",label:"System",icon:""}],_=[{id:"indigo",color:"#6366f1",label:"Indigo"},{id:"purple",color:"#a855f7",label:"Purple"},{id:"green",color:"#22c55e",label:"Green"},{id:"orange",color:"#f97316",label:"Orange"},{id:"red",color:"#ef4444",label:"Red"}],E=w=>{if(w==="system"){const x=window.matchMedia("(prefers-color-scheme: dark)").matches;c(x?"dark":"light")}else c(w)};return r.jsxs("div",{className:"settings-page",children:[r.jsx("header",{className:"page-header",children:r.jsx("h1",{children:"Settings"})}),r.jsxs("div",{className:"settings-layout",children:[r.jsx("nav",{className:"settings-nav",children:f.map(w=>r.jsxs("button",{className:`nav-item ${d===w.id?"active":""}`,onClick:()=>g(w.id),children:[r.jsx("span",{className:"nav-icon",children:w.icon}),r.jsx("span",{className:"nav-label",children:w.label})]},w.id))}),r.jsxs("div",{className:"settings-content",children:[d==="project"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Project Settings"}),e?r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Project Name"}),r.jsx("input",{type:"text",defaultValue:e.name})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Description"}),r.jsx("textarea",{defaultValue:e.description||"",rows:3})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Created"}),r.jsx("span",{className:"info",children:new Date(e.created_at).toLocaleString()})]}),r.jsx("button",{className:"save-btn",children:"Save Changes"})]}):r.jsx("p",{className:"no-project",children:"No project selected. Choose a project from the Dashboard."})]}),d==="tiles"&&r.jsxs("section",{className:"settings-section tile-settings",children:[r.jsx("h2",{children:"Tile Settings"}),e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"settings-form",children:r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Tile Size (pixels)"}),r.jsx("div",{className:"tile-size-options",children:[16,24,32,48,64].map(w=>r.jsxs("button",{className:`tile-size-btn ${N===w?"active":""}`,onClick:()=>m(w),disabled:P,children:[w,"px"]},w))}),r.jsx("span",{className:"hint",children:"Grid size for tilemaps in this project"})]})}),r.jsxs("div",{className:"tile-types-section",children:[r.jsx("h3",{children:"Tile Types"}),r.jsx("p",{className:"section-desc",children:"Define tile types for your project's tilemaps. Each tile type has properties like color, collision, and friction."}),r.jsx(vm,{projectId:e.id,tileTypes:h,onRefresh:u})]})]}):r.jsx("p",{className:"no-project",children:"No project selected. Choose a project from the Dashboard."})]}),d==="ai"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"AI Settings"}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Default AI Model"}),r.jsx("select",{value:n,onChange:w=>l(w.target.value),children:t&&Object.entries(t).map(([w,x])=>x.map(D=>r.jsxs("option",{value:D.name,children:[w.toUpperCase(),": ",D.display||D.name]},D.name)))})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Generation Timeout"}),r.jsx("input",{type:"number",defaultValue:90}),r.jsx("span",{className:"hint",children:"Seconds before generation times out"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Auto-save Levels"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{className:"toggle-slider"})]})]})]})]}),d==="ui"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"UI & Themes"}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Theme"}),r.jsx("div",{className:"theme-options",children:y.map(w=>r.jsxs("button",{className:`theme-btn ${i===w.id?"active":""}`,onClick:()=>E(w.id),children:[w.icon," ",w.label]},w.id))}),r.jsx("span",{className:"hint",children:"Choose your preferred color scheme"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Accent Color"}),r.jsx("div",{className:"color-options",children:_.map(w=>r.jsx("button",{className:`color-btn ${a===w.id?"active":""}`,style:{background:w.color},onClick:()=>o(w.id),title:w.label},w.id))}),r.jsx("span",{className:"hint",children:"Accent color for buttons, links, and highlights"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Font Size"}),r.jsxs("select",{defaultValue:"medium",children:[r.jsx("option",{value:"small",children:"Small"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"large",children:"Large"})]}),r.jsx("span",{className:"hint",children:"Adjust the base font size for better readability"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Compact Mode"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox"}),r.jsx("span",{className:"toggle-slider"})]}),r.jsx("span",{className:"hint",children:"Reduce spacing and padding for more content"})]})]})]}),d==="export"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Export Settings"}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Default Export Format"}),r.jsxs("select",{defaultValue:"json",children:[r.jsx("option",{value:"json",children:"JSON"}),r.jsx("option",{value:"yaml",children:"YAML"}),r.jsx("option",{value:"xml",children:"XML"})]})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Include Metadata"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{className:"toggle-slider"})]}),r.jsx("span",{className:"hint",children:"Include project and version info in exports"})]})]})]})]})]})]})}const gm=(e,t={})=>{const{maxHistorySize:n=50,debounceMs:l=100}=t,[s,i]=p.useState([e]),[a,c]=p.useState(0),o=p.useRef(null),d=s[a],g=a>0,h=a<s.length-1,v=p.useCallback((u,m=!1)=>{const y=()=>{i(_=>{const E=_.slice(0,a+1);return E.push(u),E.length>n?E.slice(-n):E}),c(_=>Math.min(_+1,n-1))};m?y():(o.current&&clearTimeout(o.current),o.current=setTimeout(y,l))},[a,n,l]),N=p.useCallback(()=>g?(c(u=>u-1),!0):!1,[g]),C=p.useCallback(()=>h?(c(u=>u+1),!0):!1,[h]),P=p.useCallback(u=>u>=0&&u<s.length?(c(u),!0):!1,[s.length]),Y=p.useCallback(()=>{i([e]),c(0)},[e]),f=p.useCallback(()=>({length:s.length,currentIndex:a,canUndo:g,canRedo:h}),[s.length,a,g,h]);return p.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),{state:d,setState:v,undo:N,redo:C,canUndo:g,canRedo:h,jumpTo:P,clearHistory:Y,getHistoryInfo:f}},Tt="http://192.168.68.72:8000";function xm(){const[e,t]=p.useState("dashboard"),[n,l]=p.useState(()=>localStorage.getItem("levelforge-theme")||"dark"),[s,i]=p.useState(()=>localStorage.getItem("levelforge-accent")||"indigo");p.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),document.documentElement.setAttribute("data-accent",s),localStorage.setItem("levelforge-theme",n),localStorage.setItem("levelforge-accent",s)},[n,s]);const[a,c]=p.useState([]),[o,d]=p.useState(null),[g,h]=p.useState([]),[v,N]=p.useState(!1),[C,P]=p.useState(!1),[Y,f]=p.useState("ai"),[u,m]=p.useState(()=>{const j=localStorage.getItem("levelforge-recent-projects");return j?JSON.parse(j):[]}),[y,_]=p.useState([]),[E,w]=p.useState(null),[x,D]=p.useState(null),[A,re]=p.useState(null),[Se,Q]=p.useState([]),[De,$e]=p.useState(!1),[ut,We]=p.useState(!1),[F,U]=p.useState(0),[G,le]=p.useState(""),[Z,Ae]=p.useState(null),[se,xe]=p.useState(!1),[$,M]=p.useState({}),[W,ce]=p.useState(""),[X,Be]=p.useState(()=>localStorage.getItem("levelforge-snap-to-grid")==="true"),[I,ie]=p.useState(()=>localStorage.getItem("levelforge-show-grid")!=="false"),[K,ne]=p.useState(()=>{const j=localStorage.getItem("levelforge-grid-size");return j?parseInt(j,10):50});p.useEffect(()=>{localStorage.setItem("levelforge-snap-to-grid",String(X))},[X]),p.useEffect(()=>{localStorage.setItem("levelforge-show-grid",String(I))},[I]),p.useEffect(()=>{localStorage.setItem("levelforge-grid-size",String(K))},[K]);const{state:Pe,setState:Xe,undo:Ve,redo:Qe,canUndo:dt,canRedo:Kt,getHistoryInfo:Ot}=gm(Z,{maxHistorySize:50,debounceMs:200}),rt=Pe||Z,J=j=>{Ae(j),j&&Xe(j,!0)},$n=p.useCallback(()=>{dt&&Ve()},[dt,Ve]);p.useEffect(()=>{rt&&(E==null?void 0:E.type)==="Level"&&(E==null?void 0:E.id)===(rt==null?void 0:rt.id)&&w({type:"Level",...rt})},[rt]);const H=(j,b="info")=>{const B=new Date().toLocaleTimeString("en-US",{hour12:!1});Q(et=>[...et,{message:j,type:b,time:B}]),(b==="error"||b==="ai-progress")&&$e(!0)},An=()=>{Q([])},kt=p.useCallback(async j=>{if(!j||!Z)return;const b=rt||Z;let B=null;try{B=typeof b.level_data=="string"?JSON.parse(b.level_data):b.level_data}catch{return}if(!B)return;const{type:et,data:Ut,index:te,entityType:Ie}=j;et==="entity"&&B.entities&&te!==void 0?B.entities[te]={...B.entities[te],...Ut}:et==="platform"&&B.platforms&&te!==void 0?B.platforms[te]={...B.platforms[te],...Ut}:et==="spawn"?B.player_spawn={...B.player_spawn,...Ut}:et==="goal"&&(B.goal={...B.goal,...Ut});const Le={...b,level_data:JSON.stringify(B)};Ae(Le),Xe(Le,!1),h(Ht=>Ht.map(Jt=>Jt.id===Le.id?Le:Jt));try{if(!(await fetch(`${Tt}/api/levels/${Z.id}?level_data=${encodeURIComponent(JSON.stringify(B))}`,{method:"PUT"})).ok)throw new Error("Failed to update level");H(`Updated ${et} ${te!==void 0?`#${te+1}`:""}`,"info")}catch(Ht){console.error("Update object failed:",Ht),H("Failed to update object","error")}},[Z,rt,Xe,H]);p.useEffect(()=>{vn(),S(),H("LevelForge initialized","system")},[]),p.useEffect(()=>{o&&(Ct(o.id),T(o.id),H(`Loaded project: ${o.name}`,"info"))},[o]),p.useEffect(()=>{w(null),D(null)},[e]),p.useEffect(()=>{!o&&e!=="dashboard"&&e!=="settings"&&t("dashboard")},[o,e]);const vn=async()=>{try{const b=await(await fetch(`${Tt}/api/projects`)).json();c(b)}catch(j){console.error("Failed to load projects:",j),H("Failed to load projects","error")}},Ct=async j=>{try{const B=await(await fetch(`${Tt}/api/projects/${j}/levels`)).json();h(B)}catch(b){console.error("Failed to load levels:",b)}},T=async j=>{try{const B=await(await fetch(`${Tt}/api/projects/${j}/entity-types`)).json();_(B)}catch(b){console.error("Failed to load entity types:",b)}},S=async()=>{try{const b=await(await fetch(`${Tt}/api/models`)).json();b.providers&&(M(b.providers),ce(b.current||""),H(`AI model: ${b.current} (${b.current_provider})`,"info"))}catch(j){console.error("Failed to load models:",j)}},R=async j=>{try{await fetch(`${Tt}/api/models`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:j})}),ce(j),H(`Switched to model: ${j}`,"info")}catch(b){console.error("Failed to switch model:",b),H("Failed to switch model","error")}},me=async()=>{const j=prompt("Project name:");if(j)try{const B=await(await fetch(`${Tt}/api/projects?name=${encodeURIComponent(j)}`,{method:"POST"})).json();await vn(),d({id:B.id,name:B.name}),t("levels"),H(`Created project: ${j}`,"success")}catch(b){console.error("Failed to create project:",b),H("Failed to create project","error")}},Re=j=>{d(j),w({type:"Project",name:j.name,...j}),Ct(j.id),T(j.id);const b=[{id:j.id,name:j.name,timestamp:Date.now()},...u.filter(B=>B.id!==j.id)].slice(0,4);m(b),localStorage.setItem("levelforge-recent-projects",JSON.stringify(b)),H(`Loaded project: ${j.name}`,"info"),t("levels")},yn=()=>{N(!0)},z=j=>{const b=a.find(B=>B.id===j);b&&Re(b)},k=()=>{N(!1)},ae=async j=>{if(!o){const b="Please select a project first";H(b,"error"),alert(b);return}H("=== Level Generation Started ===","ai-progress"),H(`Project: ${o.name}`,"system"),H(`Genre: ${j.genre}`,"system"),H(`Difficulty: ${j.difficulty}`,"system"),H(`Theme: ${j.theme}`,"system"),We(!0),U(0),le("Starting...");try{H("Sending request to backend...","ai-progress");const b={...j,model:W||void 0,project_id:o.id};H(`Request: ${JSON.stringify(b,null,2)}`,"debug");const B=await fetch(`${Tt}/api/generate/stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!B.ok){const Ie=await B.text();throw H(`Server error (${B.status}): ${Ie}`,"error"),new Error(`Server returned ${B.status}: ${Ie}`)}H(" Connected to backend, streaming response...","success");const et=B.body.getReader(),Ut=new TextDecoder;let te=0;for(;;){const{done:Ie,value:Le}=await et.read();if(Ie){H("Stream ended","system");break}const Jt=Ut.decode(Le).split(`
`);for(const ve of Jt)if(ve.startsWith("data: ")){te++;try{const Oe=JSON.parse(ve.slice(6));if(H(`Event: ${Oe.event}`,"debug"),Oe.event==="progress")U(Oe.progress),le(Oe.message),H(`   ${Oe.message} (${Oe.progress}%)`,"ai-progress");else if(Oe.event==="result"){const Zt=Oe.level;J(Zt),U(100),le("Done!"),await Ct(o.id),H(" Level generated successfully!","success"),H(`Level ID: ${Zt.id}`,"system"),f("canvas"),xe(!1)}else Oe.event==="error"&&(H(` Generation error: ${Oe.message}`,"error"),alert(`Generation failed: ${Oe.message}`))}catch{H(`Parse error for line: ${ve}`,"warning")}}}te===0&&H(" No events received from stream","warning")}catch(b){console.error("Generation error:",b),H(` Generation failed: ${b.message}`,"error"),H(`Stack trace: ${b.stack}`,"debug"),alert(`Failed to generate level: ${b.message}`)}finally{We(!1),H("Generation process completed","system")}},ue=async j=>{try{await fetch(`${Tt}/api/projects/${o.id}/entity-types`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),T(o.id),H(`Created entity: ${j.name}`,"success")}catch(b){console.error("Failed to create entity type:",b),H("Failed to create entity","error")}},fe=async(j,b)=>{try{await fetch(`${Tt}/api/entity-types/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),T(o.id),H(`Updated entity: ${b.name}`,"success")}catch(B){console.error("Failed to update entity type:",B),H("Failed to update entity","error")}},Ne=async j=>{if(confirm("Delete this entity type?"))try{await fetch(`${Tt}/api/entity-types/${j}`,{method:"DELETE"}),T(o.id),w(null),H("Entity deleted","info")}catch(b){console.error("Failed to delete entity type:",b),H("Failed to delete entity","error")}},qe=j=>{J(j),w({type:"Level",...j})},ft=async j=>{const b=prompt("Rename level:",(j==null?void 0:j.name)||"");if(!(!b||!b.trim()||b.trim()===j.name))try{if(!(await fetch(`${Tt}/api/levels/${j.id}/rename`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.trim()})})).ok)throw new Error("Failed to rename level");await Ct(o.id);const et={...j,name:b.trim()};J(et),w({type:"Level",...et}),H(`Renamed level to "${b.trim()}"`,"info")}catch(B){console.error("Rename level failed:",B),H("Failed to rename level","error"),alert("Failed to rename level")}},gt=async j=>{if(confirm(`Delete level "${j==null?void 0:j.name}"? This cannot be undone.`))try{if(!(await fetch(`${Tt}/api/levels/${j.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete level");await Ct(o.id),(Z==null?void 0:Z.id)===j.id&&Ae(null),(E==null?void 0:E.id)===j.id&&(E==null?void 0:E.type)==="Level"&&w(null),re(null),H(`Deleted level "${j.name}"`,"info")}catch(b){console.error("Delete level failed:",b),H("Failed to delete level","error"),alert("Failed to delete level")}},rn=p.useRef(A);p.useEffect(()=>{rn.current=A},[A]);const On=p.useCallback(j=>{if(!j||!j.data)return null;const{type:b,data:B,index:et}=j,Ut=(ve,Oe)=>{const Zt={...B,[ve]:Oe},Nd={...j,data:Zt};re(Nd)},te=(ve,Oe)=>{const Zt=parseFloat(Oe);isNaN(Zt)||Ut(ve,Zt)},Ie=()=>{const ve=rn.current;ve&&kt(ve)},Le=ve=>{ve.key==="Enter"&&(ve.preventDefault(),Ie(),ve.target.blur())},Jt=(()=>{if(b==="entity"){const ve=y.find(Oe=>{var Zt;return Oe.name.toLowerCase()===((Zt=j.entityType)==null?void 0:Zt.toLowerCase())});if(ve)return{emoji:ve.emoji,name:ve.name}}return b==="platform"?{emoji:"",name:"Platform"}:b==="spawn"?{emoji:"",name:"Player Spawn"}:b==="goal"?{emoji:"",name:"Goal"}:{emoji:"",name:b}})();return r.jsxs("div",{className:"object-inspector",children:[r.jsxs("div",{className:"object-inspector-header",children:[r.jsx("span",{className:"object-icon",children:Jt.emoji}),r.jsxs("span",{className:"object-title",children:[Jt.name," ",b==="platform"||b==="entity"?`#${(et??0)+1}`:""]})]}),r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Position"}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"X"}),r.jsx("input",{type:"number",value:B.x??0,onChange:ve=>te("x",ve.target.value),onBlur:Ie,onKeyDown:Le})]}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Y"}),r.jsx("input",{type:"number",value:B.y??0,onChange:ve=>te("y",ve.target.value),onBlur:Ie,onKeyDown:Le})]})]}),b==="platform"&&r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Size"}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Width"}),r.jsx("input",{type:"number",value:B.width??100,onChange:ve=>te("width",ve.target.value),onBlur:Ie,onKeyDown:Le})]}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Height"}),r.jsx("input",{type:"number",value:B.height??30,onChange:ve=>te("height",ve.target.value),onBlur:Ie,onKeyDown:Le})]})]}),b==="entity"&&r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Entity Properties"}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Name"}),r.jsx("input",{type:"text",value:B.name??"",onChange:ve=>Ut("name",ve.target.value),onBlur:Ie,onKeyDown:Le,placeholder:"Optional name"})]}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Type"}),r.jsx("input",{type:"text",value:j.entityType??B.type??"",disabled:!0,className:"disabled"})]})]}),Object.entries(B).map(([ve,Oe])=>["x","y","width","height","type","name"].includes(ve)?null:typeof Oe=="object"?r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:ve}),r.jsx("pre",{className:"object-metadata",children:JSON.stringify(Oe,null,2)})]},ve):null),r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Level Actions"}),r.jsx("div",{className:"object-actions",children:r.jsx("button",{className:"btn-small btn-danger",onClick:()=>{confirm(`Delete level "${Z==null?void 0:Z.name}"? This cannot be undone.`)&&(gt(Z),re(null))},children:" Delete Level"})})]})]})},[y,kt,Z,gt,A]),tl=j=>{w({type:"Entity",...j}),D(null)},ye=j=>{w({type:"Asset",...j}),D(null)},[pt,Et]=p.useState(null),[V,q]=p.useState({}),oe=j=>{Et(j),q({name:j.name,emoji:j.emoji,color:j.color,description:j.description||"",placement_rules:j.placement_rules||"",behavior:j.behavior||"",collision_type:j.collision_type,category:j.category||"actors",metadata_fields:JSON.parse(j.metadata_fields||"[]")}),w({type:"Entity",...j})},je=async()=>{const j={...V,metadata_fields:JSON.stringify(V.metadata_fields)};await fe(pt.id,j),Et(null),D(null),w(null)},ee=()=>{Et(null),D(null)},he=()=>{if(!pt)return null;const j=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=["text","number","boolean","select"],B=()=>{q(te=>({...te,metadata_fields:[...te.metadata_fields,{name:"",type:"text",description:"",default:""}]}))},et=(te,Ie,Le)=>{q(Ht=>({...Ht,metadata_fields:Ht.metadata_fields.map((Jt,ve)=>ve===te?{...Jt,[Ie]:Le}:Jt)}))},Ut=te=>{q(Ie=>({...Ie,metadata_fields:Ie.metadata_fields.filter((Le,Ht)=>Ht!==te)}))};return r.jsxs("div",{className:"inspector-edit-form",children:[r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsx("input",{type:"text",value:V.name,onChange:te=>q({...V,name:te.target.value}),placeholder:"Entity name..."})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Color"}),r.jsx("input",{type:"color",value:V.color,onChange:te=>q({...V,color:te.target.value})})]}),r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Collision"}),r.jsxs("select",{value:V.collision_type,onChange:te=>q({...V,collision_type:te.target.value}),children:[r.jsx("option",{value:"neutral",children:"Neutral"}),r.jsx("option",{value:"harmful",children:"Harmful"}),r.jsx("option",{value:"helpful",children:"Helpful"})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Emoji"}),r.jsx("div",{className:"emoji-grid",children:j.slice(0,18).map(te=>r.jsx("button",{type:"button",className:`emoji-btn ${V.emoji===te?"selected":""}`,onClick:()=>q({...V,emoji:te}),children:te},te))}),r.jsx("input",{type:"text",value:V.emoji,onChange:te=>q({...V,emoji:te.target.value}),placeholder:"Or type custom...",className:"mt-2"})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Description"}),r.jsx("textarea",{value:V.description,onChange:te=>q({...V,description:te.target.value}),placeholder:"Description for AI...",rows:2})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Placement Rules"}),r.jsx("input",{type:"text",value:V.placement_rules,onChange:te=>q({...V,placement_rules:te.target.value}),placeholder:"e.g., Place on platforms"})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Behavior"}),r.jsx("input",{type:"text",value:V.behavior,onChange:te=>q({...V,behavior:te.target.value}),placeholder:"e.g., Patrols left/right"})]}),r.jsxs("div",{className:"form-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("label",{children:"Metadata Fields"}),r.jsx("button",{type:"button",className:"btn-link",onClick:B,children:"+ Add"})]}),V.metadata_fields.length===0?r.jsx("p",{className:"hint",children:"Add fields like hit_points, speed, etc."}):r.jsx("div",{className:"metadata-list",children:V.metadata_fields.map((te,Ie)=>r.jsxs("div",{className:"metadata-item",children:[r.jsx("input",{type:"text",value:te.name,onChange:Le=>et(Ie,"name",Le.target.value),placeholder:"Field name"}),r.jsx("select",{value:te.type,onChange:Le=>et(Ie,"type",Le.target.value),children:b.map(Le=>r.jsx("option",{value:Le,children:Le},Le))}),r.jsx("button",{type:"button",className:"btn-icon danger",onClick:()=>Ut(Ie),children:""})]},Ie))})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:ee,children:"Cancel"}),r.jsx("button",{className:"btn-primary",onClick:je,children:"Update"})]})]})},de=(j,b)=>{if(H(`Menu: ${b} > ${j}`,"info"),b==="file")switch(j){case"new-project":me();break;case"open-project":yn();break;case"save":H("Project saved","success");break;case"project-settings":t("settings");break;case"exit":confirm("Exit LevelForge?")&&window.close();break;default:if(j.startsWith("recent-")){const B=parseInt(j.replace("recent-",""));isNaN(B)||z(B)}}if(b==="edit")switch(j){case"snap-to-grid":Be(B=>!B),H(`Snap to Grid ${X?"disabled":"enabled"}`,"info");break;case"toggle-grid":ie(B=>!B),H(`Grid ${I?"hidden":"shown"}`,"info");break;case"grid-size-10":ne(10),H("Grid size: 10px","info");break;case"grid-size-25":ne(25),H("Grid size: 25px","info");break;case"grid-size-50":ne(50),H("Grid size: 50px","info");break;case"grid-size-100":ne(100),H("Grid size: 100px","info");break;case"preferences":t("settings");break}if(b==="view")switch(j){case"toggle-inspector":break;case"toggle-console":break;case"fullscreen":document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen();break}if(b==="entities")switch(j){case"create-actor":case"create-item":case"create-terrain":case"create-behavior":case"create-script":t("entities");break;case"schema-editor":t("settings");break}if(b==="levels")switch(j){case"new-level":t("levels"),xe(!0);break;case"generate-ai":t("levels"),xe(!0);break;case"level-settings":t("settings");break}if(b==="ai")switch(j){case"gen-level":t("levels"),xe(!0);break;case"model-settings":case"api-config":t("ai-tools");break;case"history":t("ai-tools");break}if(b==="tools")switch(j){case"json-viewer":H("JSON Viewer coming soon...","info");break;case"plugin-manager":H("Plugin Manager coming soon...","info");break}if(b==="help")switch(j){case"documentation":window.open("https://docs.openclaw.ai/levelforge","_blank");break;case"shortcuts":alert(`Keyboard Shortcuts:
          
Ctrl+1-6: Switch tabs
Ctrl+I: Toggle Inspector
Ctrl+\`: Toggle Console
Ctrl+G: Generate Level
Ctrl+S: Save
F11: Fullscreen
Escape: Close menus`);break;case"report-issue":window.open("https://github.com/kire256/levelforge/issues","_blank");break;case"about":alert(`LevelForge AI
          
AI-powered level generator for game developers.

Version: 1.0.0
Built with  by OpenClaw`);break}},st=()=>{switch(e){case"dashboard":return r.jsx(qp,{projects:a,currentProject:o,onSelectProject:Re,onCreateProject:me,onGenerateLevel:()=>{if(!o){alert("Please select a project first");return}t("levels")}});case"entities":return r.jsx(tm,{entityTypes:y,currentProject:o,onCreateEntityType:ue,onUpdateEntityType:fe,onDeleteEntityType:Ne,onSelectEntity:tl,onEditEntity:oe,selectedEntity:E});case"levels":return r.jsx(um,{currentProject:o,levels:g,currentLevel:rt,onSelectLevel:qe,onGenerateLevel:ae,generating:ut,progress:F,progressMessage:G,availableModels:$,selectedModel:W,onModelChange:R,showGenerator:se,onShowGeneratorChange:xe,viewMode:Y,onViewModeChange:f,onRenameLevel:ft,selectedObject:A,onSelectObject:re,onUpdateObject:kt,snapToGrid:X,showGrid:I,gridSize:K});case"library":return r.jsx(dm,{currentProject:o,onSelectAsset:ye,selectedAsset:E});case"ai-tools":return r.jsx(pm,{availableModels:$,selectedModel:W,onModelChange:R,consoleLogs:Se});case"settings":return r.jsx(ym,{currentProject:o,availableModels:$,selectedModel:W,onModelChange:R,theme:n,accentColor:s,onThemeChange:l,onAccentChange:i});default:return null}};return r.jsx(Zp,{activeTab:e,onTabChange:t,onMenuAction:de,selectedItem:E,inspectorContent:pt?he():e==="levels"&&A?On(A):x,consoleLogs:Se,onClearConsole:An,onEditItem:oe,onRenameLevel:ft,onDeleteLevel:gt,recentProjects:u,projects:a,showProjectModal:v,onCloseProjectModal:k,onSelectProject:Re,forceShowConsole:De,onConsoleShown:()=>$e(!1),canUndo:dt,canRedo:Kt,onUndo:$n,onRedo:Qe,historyInfo:Ot(),currentProject:o,showAboutModal:C,onCloseAboutModal:()=>P(!1),snapToGrid:X,showGrid:I,gridSize:K,children:st()})}ci.createRoot(document.getElementById("root")).render(r.jsx($d.StrictMode,{children:r.jsx(xm,{})}));
