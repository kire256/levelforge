(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Cd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dc={exports:{}},ws={},fc={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=Symbol.for("react.element"),Ed=Symbol.for("react.portal"),Td=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),Pd=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Md=Symbol.for("react.context"),zd=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Id=Symbol.for("react.memo"),Dd=Symbol.for("react.lazy"),Ja=Symbol.iterator;function bd(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mc=Object.assign,hc={};function _l(e,t,n){this.props=e,this.context=t,this.refs=hc,this.updater=n||pc}_l.prototype.isReactComponent={};_l.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vc(){}vc.prototype=_l.prototype;function la(e,t,n){this.props=e,this.context=t,this.refs=hc,this.updater=n||pc}var ra=la.prototype=new vc;ra.constructor=la;mc(ra,_l.prototype);ra.isPureReactComponent=!0;var qa=Array.isArray,yc=Object.prototype.hasOwnProperty,sa={current:null},gc={key:!0,ref:!0,__self:!0,__source:!0};function xc(e,t,n){var l,r={},i=null,a=null;if(t!=null)for(l in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)yc.call(t,l)&&!gc.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)r[l]===void 0&&(r[l]=o[l]);return{$$typeof:vr,type:e,key:i,ref:a,props:r,_owner:sa.current}}function Fd(e,t){return{$$typeof:vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ia(e){return typeof e=="object"&&e!==null&&e.$$typeof===vr}function $d(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eo=/\/+/g;function $s(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$d(""+e.key):t.toString(36)}function Or(e,t,n,l,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vr:case Ed:a=!0}}if(a)return a=e,r=r(a),e=l===""?"."+$s(a,0):l,qa(r)?(n="",e!=null&&(n=e.replace(eo,"$&/")+"/"),Or(r,t,n,"",function(d){return d})):r!=null&&(ia(r)&&(r=Fd(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(eo,"$&/")+"/")+e)),t.push(r)),1;if(a=0,l=l===""?".":l+":",qa(e))for(var o=0;o<e.length;o++){i=e[o];var c=l+$s(i,o);a+=Or(i,t,n,c,r)}else if(c=bd(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=l+$s(i,o++),a+=Or(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Nr(e,t,n){if(e==null)return e;var l=[],r=0;return Or(e,l,"","",function(i){return t.call(n,i,r++)}),l}function Ad(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},Ur={transition:null},Od={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Ur,ReactCurrentOwner:sa};function jc(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Nr,forEach:function(e,t,n){Nr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nr(e,function(){t++}),t},toArray:function(e){return Nr(e,function(t){return t})||[]},only:function(e){if(!ia(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=_l;ce.Fragment=Td;ce.Profiler=Pd;ce.PureComponent=la;ce.StrictMode=_d;ce.Suspense=Rd;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Od;ce.act=jc;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=mc({},e.props),r=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=sa.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)yc.call(t,c)&&!gc.hasOwnProperty(c)&&(l[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];l.children=o}return{$$typeof:vr,type:e.type,key:r,ref:i,props:l,_owner:a}};ce.createContext=function(e){return e={$$typeof:Md,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ld,_context:e},e.Consumer=e};ce.createElement=xc;ce.createFactory=function(e){var t=xc.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:zd,render:e}};ce.isValidElement=ia;ce.lazy=function(e){return{$$typeof:Dd,_payload:{_status:-1,_result:e},_init:Ad}};ce.memo=function(e,t){return{$$typeof:Id,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Ur.transition;Ur.transition={};try{e()}finally{Ur.transition=t}};ce.unstable_act=jc;ce.useCallback=function(e,t){return Nt.current.useCallback(e,t)};ce.useContext=function(e){return Nt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Nt.current.useEffect(e,t)};ce.useId=function(){return Nt.current.useId()};ce.useImperativeHandle=function(e,t,n){return Nt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Nt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Nt.current.useReducer(e,t,n)};ce.useRef=function(e){return Nt.current.useRef(e)};ce.useState=function(e){return Nt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Nt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Nt.current.useTransition()};ce.version="18.3.1";fc.exports=ce;var f=fc.exports;const Ud=Cd(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=f,Wd=Symbol.for("react.element"),Bd=Symbol.for("react.fragment"),Vd=Object.prototype.hasOwnProperty,Yd=Hd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gd={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var l,r={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(l in t)Vd.call(t,l)&&!Gd.hasOwnProperty(l)&&(r[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:Wd,type:e,key:i,ref:a,props:r,_owner:Yd.current}}ws.Fragment=Bd;ws.jsx=Nc;ws.jsxs=Nc;dc.exports=ws;var s=dc.exports,ui={},wc={exports:{}},Ft={},Sc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,U){var Y=b.length;b.push(U);e:for(;0<Y;){var re=Y-1>>>1,Z=b[re];if(0<r(Z,U))b[re]=U,b[Y]=Z,Y=re;else break e}}function n(b){return b.length===0?null:b[0]}function l(b){if(b.length===0)return null;var U=b[0],Y=b.pop();if(Y!==U){b[0]=Y;e:for(var re=0,Z=b.length,Ne=Z>>>1;re<Ne;){var Pe=2*(re+1)-1,se=b[Pe],Re=Pe+1,Le=b[Re];if(0>r(se,Y))Re<Z&&0>r(Le,se)?(b[re]=Le,b[Re]=Y,re=Re):(b[re]=se,b[Pe]=Y,re=Pe);else if(Re<Z&&0>r(Le,Y))b[re]=Le,b[Re]=Y,re=Re;else break e}}return U}function r(b,U){var Y=b.sortIndex-U.sortIndex;return Y!==0?Y:b.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],y=1,v=null,g=3,S=!1,C=!1,L=!1,X=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(b){for(var U=n(d);U!==null;){if(U.callback===null)l(d);else if(U.startTime<=b)l(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(d)}}function h(b){if(L=!1,m(b),!C)if(n(c)!==null)C=!0,St(E);else{var U=n(d);U!==null&&je(h,U.startTime-b)}}function E(b,U){C=!1,L&&(L=!1,p(j),j=-1),S=!0;var Y=g;try{for(m(U),v=n(c);v!==null&&(!(v.expirationTime>U)||b&&!le());){var re=v.callback;if(typeof re=="function"){v.callback=null,g=v.priorityLevel;var Z=re(v.expirationTime<=U);U=e.unstable_now(),typeof Z=="function"?v.callback=Z:v===n(c)&&l(c),m(U)}else l(c);v=n(c)}if(v!==null)var Ne=!0;else{var Pe=n(d);Pe!==null&&je(h,Pe.startTime-U),Ne=!1}return Ne}finally{v=null,g=Y,S=!1}}var _=!1,w=null,j=-1,F=5,A=-1;function le(){return!(e.unstable_now()-A<F)}function ke(){if(w!==null){var b=e.unstable_now();A=b;var U=!0;try{U=w(!0,b)}finally{U?J():(_=!1,w=null)}}else _=!1}var J;if(typeof u=="function")J=function(){u(ke)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,We=ct.port2;ct.port1.onmessage=ke,J=function(){We.postMessage(null)}}else J=function(){X(ke,0)};function St(b){w=b,_||(_=!0,J())}function je(b,U){j=X(function(){b(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,St(E))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(b){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var Y=g;g=U;try{return b()}finally{g=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,U){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Y=g;g=b;try{return U()}finally{g=Y}},e.unstable_scheduleCallback=function(b,U,Y){var re=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,b){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,b={id:y++,callback:U,priorityLevel:b,startTime:Y,expirationTime:Z,sortIndex:-1},Y>re?(b.sortIndex=Y,t(d,b),n(c)===null&&b===n(d)&&(L?(p(j),j=-1):L=!0,je(h,Y-re))):(b.sortIndex=Z,t(c,b),C||S||(C=!0,St(E))),b},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(b){var U=g;return function(){var Y=g;g=U;try{return b.apply(this,arguments)}finally{g=Y}}}})(kc);Sc.exports=kc;var Xd=Sc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=f,bt=Xd;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cc=new Set,ql={};function qn(e,t){Nl(e,t),Nl(e+"Capture",t)}function Nl(e,t){for(ql[e]=t,e=0;e<t.length;e++)Cc.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=Object.prototype.hasOwnProperty,Kd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,to={},no={};function Zd(e){return di.call(no,e)?!0:di.call(to,e)?!1:Kd.test(e)?no[e]=!0:(to[e]=!0,!1)}function Jd(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qd(e,t,n,l){if(t===null||typeof t>"u"||Jd(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,n,l,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var aa=/[\-:]([a-z])/g;function oa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aa,oa);ot[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aa,oa);ot[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aa,oa);ot[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ca(e,t,n,l){var r=ot.hasOwnProperty(t)?ot[t]:null;(r!==null?r.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qd(t,n,r,l)&&(n=null),l||r===null?Zd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,l=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var gn=Qd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wr=Symbol.for("react.element"),ll=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),ua=Symbol.for("react.strict_mode"),fi=Symbol.for("react.profiler"),Ec=Symbol.for("react.provider"),Tc=Symbol.for("react.context"),da=Symbol.for("react.forward_ref"),pi=Symbol.for("react.suspense"),mi=Symbol.for("react.suspense_list"),fa=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),_c=Symbol.for("react.offscreen"),lo=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=lo&&e[lo]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,As;function Ol(e){if(As===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);As=t&&t[1]||""}return`
`+As+e}var Os=!1;function Us(e,t){if(!e||Os)return"";Os=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var l=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){l=d}e.call(t.prototype)}else{try{throw Error()}catch(d){l=d}e()}}catch(d){if(d&&l&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=l.stack.split(`
`),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==i[o]){var c=`
`+r[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Os=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ol(e):""}function ef(e){switch(e.tag){case 5:return Ol(e.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return e=Us(e.type,!1),e;case 11:return e=Us(e.type.render,!1),e;case 1:return e=Us(e.type,!0),e;default:return""}}function hi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rl:return"Fragment";case ll:return"Portal";case fi:return"Profiler";case ua:return"StrictMode";case pi:return"Suspense";case mi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tc:return(e.displayName||"Context")+".Consumer";case Ec:return(e._context.displayName||"Context")+".Provider";case da:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fa:return t=e.displayName||null,t!==null?t:hi(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return hi(e(t))}catch{}}return null}function tf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hi(t);case 8:return t===ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nf(e){var t=Pc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){l=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(a){l=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sr(e){e._valueTracker||(e._valueTracker=nf(e))}function Lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Pc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vi(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ro(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mc(e,t){t=t.checked,t!=null&&ca(e,"checked",t,!1)}function yi(e,t){Mc(e,t);var n=bn(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gi(e,t.type,n):t.hasOwnProperty("defaultValue")&&gi(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function so(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gi(e,t,n){(t!=="number"||Jr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ul=Array.isArray;function hl(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function xi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function io(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Ul(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function zc(e,t){var n=bn(t.value),l=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function ao(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ji(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kr,Ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lf=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){lf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function Dc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function bc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,r=Dc(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,r):e[n]=r}}var rf=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ni(e,t){if(t){if(rf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function wi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,vl=null,yl=null;function oo(e){if(e=xr(e)){if(typeof ki!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Ts(t),ki(e.stateNode,e.type,t))}}function Fc(e){vl?yl?yl.push(e):yl=[e]:vl=e}function $c(){if(vl){var e=vl,t=yl;if(yl=vl=null,oo(e),t)for(e=0;e<t.length;e++)oo(t[e])}}function Ac(e,t){return e(t)}function Oc(){}var Hs=!1;function Uc(e,t,n){if(Hs)return e(t,n);Hs=!0;try{return Ac(e,t,n)}finally{Hs=!1,(vl!==null||yl!==null)&&(Oc(),$c())}}function tr(e,t){var n=e.stateNode;if(n===null)return null;var l=Ts(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Ci=!1;if(mn)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{Ci=!1}function sf(e,t,n,l,r,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(y){this.onError(y)}}var Vl=!1,qr=null,es=!1,Ei=null,af={onError:function(e){Vl=!0,qr=e}};function of(e,t,n,l,r,i,a,o,c){Vl=!1,qr=null,sf.apply(af,arguments)}function cf(e,t,n,l,r,i,a,o,c){if(of.apply(this,arguments),Vl){if(Vl){var d=qr;Vl=!1,qr=null}else throw Error(P(198));es||(es=!0,Ei=d)}}function el(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function co(e){if(el(e)!==e)throw Error(P(188))}function uf(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return co(r),e;if(i===l)return co(r),t;i=i.sibling}throw Error(P(188))}if(n.return!==l.return)n=r,l=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,l=i;break}if(o===l){a=!0,l=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,l=r;break}if(o===l){a=!0,l=i,n=r;break}o=o.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==l)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Wc(e){return e=uf(e),e!==null?Bc(e):null}function Bc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bc(e);if(t!==null)return t;e=e.sibling}return null}var Vc=bt.unstable_scheduleCallback,uo=bt.unstable_cancelCallback,df=bt.unstable_shouldYield,ff=bt.unstable_requestPaint,Ye=bt.unstable_now,pf=bt.unstable_getCurrentPriorityLevel,ma=bt.unstable_ImmediatePriority,Yc=bt.unstable_UserBlockingPriority,ts=bt.unstable_NormalPriority,mf=bt.unstable_LowPriority,Gc=bt.unstable_IdlePriority,Ss=null,an=null;function hf(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ss,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:gf,vf=Math.log,yf=Math.LN2;function gf(e){return e>>>=0,e===0?32:31-(vf(e)/yf|0)|0}var Cr=64,Er=4194304;function Hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ns(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,r=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?l=Hl(o):(i&=a,i!==0&&(l=Hl(i)))}else a=n&~r,a!==0?l=Hl(a):i!==0&&(l=Hl(i));if(l===0)return 0;if(t!==0&&t!==l&&!(t&r)&&(r=l&-l,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Jt(t),r=1<<n,l|=e[n],t&=~r;return l}function xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Jt(i),o=1<<a,c=r[a];c===-1?(!(o&n)||o&l)&&(r[a]=xf(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Ti(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xc(){var e=Cr;return Cr<<=1,!(Cr&4194240)&&(Cr=64),e}function Ws(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function Nf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Jt(n),i=1<<r;t[r]=0,l[r]=-1,e[r]=-1,n&=~i}}function ha(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Jt(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}var xe=0;function Qc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kc,va,Zc,Jc,qc,_i=!1,Tr=[],_n=null,Pn=null,Ln=null,nr=new Map,lr=new Map,kn=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fo(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(t.pointerId)}}function Rl(e,t,n,l,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:i,targetContainers:[r]},t!==null&&(t=xr(t),t!==null&&va(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Sf(e,t,n,l,r){switch(t){case"focusin":return _n=Rl(_n,e,t,n,l,r),!0;case"dragenter":return Pn=Rl(Pn,e,t,n,l,r),!0;case"mouseover":return Ln=Rl(Ln,e,t,n,l,r),!0;case"pointerover":var i=r.pointerId;return nr.set(i,Rl(nr.get(i)||null,e,t,n,l,r)),!0;case"gotpointercapture":return i=r.pointerId,lr.set(i,Rl(lr.get(i)||null,e,t,n,l,r)),!0}return!1}function eu(e){var t=Wn(e.target);if(t!==null){var n=el(t);if(n!==null){if(t=n.tag,t===13){if(t=Hc(n),t!==null){e.blockedOn=t,qc(e.priority,function(){Zc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Si=l,n.target.dispatchEvent(l),Si=null}else return t=xr(n),t!==null&&va(t),e.blockedOn=n,!1;t.shift()}return!0}function po(e,t,n){Hr(e)&&n.delete(t)}function kf(){_i=!1,_n!==null&&Hr(_n)&&(_n=null),Pn!==null&&Hr(Pn)&&(Pn=null),Ln!==null&&Hr(Ln)&&(Ln=null),nr.forEach(po),lr.forEach(po)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,_i||(_i=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,kf)))}function rr(e){function t(r){return Il(r,e)}if(0<Tr.length){Il(Tr[0],e);for(var n=1;n<Tr.length;n++){var l=Tr[n];l.blockedOn===e&&(l.blockedOn=null)}}for(_n!==null&&Il(_n,e),Pn!==null&&Il(Pn,e),Ln!==null&&Il(Ln,e),nr.forEach(t),lr.forEach(t),n=0;n<kn.length;n++)l=kn[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)eu(n),n.blockedOn===null&&kn.shift()}var gl=gn.ReactCurrentBatchConfig,ls=!0;function Cf(e,t,n,l){var r=xe,i=gl.transition;gl.transition=null;try{xe=1,ya(e,t,n,l)}finally{xe=r,gl.transition=i}}function Ef(e,t,n,l){var r=xe,i=gl.transition;gl.transition=null;try{xe=4,ya(e,t,n,l)}finally{xe=r,gl.transition=i}}function ya(e,t,n,l){if(ls){var r=Pi(e,t,n,l);if(r===null)qs(e,t,l,rs,n),fo(e,l);else if(Sf(r,e,t,n,l))l.stopPropagation();else if(fo(e,l),t&4&&-1<wf.indexOf(e)){for(;r!==null;){var i=xr(r);if(i!==null&&Kc(i),i=Pi(e,t,n,l),i===null&&qs(e,t,l,rs,n),i===r)break;r=i}r!==null&&l.stopPropagation()}else qs(e,t,l,null,n)}}var rs=null;function Pi(e,t,n,l){if(rs=null,e=pa(l),e=Wn(e),e!==null)if(t=el(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function tu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pf()){case ma:return 1;case Yc:return 4;case ts:case mf:return 16;case Gc:return 536870912;default:return 16}default:return 16}}var En=null,ga=null,Wr=null;function nu(){if(Wr)return Wr;var e,t=ga,n=t.length,l,r="value"in En?En.value:En.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(l=1;l<=a&&t[n-l]===r[i-l];l++);return Wr=r.slice(e,1<l?1-l:void 0)}function Br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function mo(){return!1}function $t(e){function t(n,l,r,i,a){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_r:mo,this.isPropagationStopped=mo,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=$t(Pl),gr=Fe({},Pl,{view:0,detail:0}),Tf=$t(gr),Bs,Vs,Dl,ks=Fe({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(Bs=e.screenX-Dl.screenX,Vs=e.screenY-Dl.screenY):Vs=Bs=0,Dl=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:Vs}}),ho=$t(ks),_f=Fe({},ks,{dataTransfer:0}),Pf=$t(_f),Lf=Fe({},gr,{relatedTarget:0}),Ys=$t(Lf),Mf=Fe({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=$t(Mf),Rf=Fe({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),If=$t(Rf),Df=Fe({},Pl,{data:0}),vo=$t(Df),bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Af(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$f[e])?!!t[e]:!1}function ja(){return Af}var Of=Fe({},gr,{key:function(e){if(e.key){var t=bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ff[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uf=$t(Of),Hf=Fe({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yo=$t(Hf),Wf=Fe({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),Bf=$t(Wf),Vf=Fe({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=$t(Vf),Gf=Fe({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=$t(Gf),Qf=[9,13,27,32],Na=mn&&"CompositionEvent"in window,Yl=null;mn&&"documentMode"in document&&(Yl=document.documentMode);var Kf=mn&&"TextEvent"in window&&!Yl,lu=mn&&(!Na||Yl&&8<Yl&&11>=Yl),go=" ",xo=!1;function ru(e,t){switch(e){case"keyup":return Qf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sl=!1;function Zf(e,t){switch(e){case"compositionend":return su(t);case"keypress":return t.which!==32?null:(xo=!0,go);case"textInput":return e=t.data,e===go&&xo?null:e;default:return null}}function Jf(e,t){if(sl)return e==="compositionend"||!Na&&ru(e,t)?(e=nu(),Wr=ga=En=null,sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lu&&t.locale!=="ko"?null:t.data;default:return null}}var qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qf[e.type]:t==="textarea"}function iu(e,t,n,l){Fc(l),t=ss(t,"onChange"),0<t.length&&(n=new xa("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Gl=null,sr=null;function ep(e){yu(e,0)}function Cs(e){var t=ol(e);if(Lc(t))return e}function tp(e,t){if(e==="change")return t}var au=!1;if(mn){var Gs;if(mn){var Xs="oninput"in document;if(!Xs){var No=document.createElement("div");No.setAttribute("oninput","return;"),Xs=typeof No.oninput=="function"}Gs=Xs}else Gs=!1;au=Gs&&(!document.documentMode||9<document.documentMode)}function wo(){Gl&&(Gl.detachEvent("onpropertychange",ou),sr=Gl=null)}function ou(e){if(e.propertyName==="value"&&Cs(sr)){var t=[];iu(t,sr,e,pa(e)),Uc(ep,t)}}function np(e,t,n){e==="focusin"?(wo(),Gl=t,sr=n,Gl.attachEvent("onpropertychange",ou)):e==="focusout"&&wo()}function lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cs(sr)}function rp(e,t){if(e==="click")return Cs(t)}function sp(e,t){if(e==="input"||e==="change")return Cs(t)}function ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:ip;function ir(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!di.call(t,r)||!en(e[r],t[r]))return!1}return!0}function So(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ko(e,t){var n=So(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=So(n)}}function cu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uu(){for(var e=window,t=Jr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jr(e.document)}return t}function wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ap(e){var t=uu(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cu(n.ownerDocument.documentElement,n)){if(l!==null&&wa(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(l.start,r);l=l.end===void 0?i:Math.min(l.end,r),!e.extend&&i>l&&(r=l,l=i,i=r),r=ko(n,i);var a=ko(n,l);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>l?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var op=mn&&"documentMode"in document&&11>=document.documentMode,il=null,Li=null,Xl=null,Mi=!1;function Co(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mi||il==null||il!==Jr(l)||(l=il,"selectionStart"in l&&wa(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&ir(Xl,l)||(Xl=l,l=ss(Li,"onSelect"),0<l.length&&(t=new xa("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=il)))}function Pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var al={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionend:Pr("Transition","TransitionEnd")},Qs={},du={};mn&&(du=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Es(e){if(Qs[e])return Qs[e];if(!al[e])return e;var t=al[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in du)return Qs[e]=t[n];return e}var fu=Es("animationend"),pu=Es("animationiteration"),mu=Es("animationstart"),hu=Es("transitionend"),vu=new Map,Eo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){vu.set(e,t),qn(t,[e])}for(var Ks=0;Ks<Eo.length;Ks++){var Zs=Eo[Ks],cp=Zs.toLowerCase(),up=Zs[0].toUpperCase()+Zs.slice(1);$n(cp,"on"+up)}$n(fu,"onAnimationEnd");$n(pu,"onAnimationIteration");$n(mu,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(hu,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function To(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,cf(l,t,void 0,e),e.currentTarget=null}function yu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var a=l.length-1;0<=a;a--){var o=l[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;To(r,o,d),i=c}else for(a=0;a<l.length;a++){if(o=l[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;To(r,o,d),i=c}}}if(es)throw e=Ei,es=!1,Ei=null,e}function Te(e,t){var n=t[bi];n===void 0&&(n=t[bi]=new Set);var l=e+"__bubble";n.has(l)||(gu(t,e,2,!1),n.add(l))}function Js(e,t,n){var l=0;t&&(l|=4),gu(n,e,l,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function ar(e){if(!e[Lr]){e[Lr]=!0,Cc.forEach(function(n){n!=="selectionchange"&&(dp.has(n)||Js(n,!1,e),Js(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,Js("selectionchange",!1,t))}}function gu(e,t,n,l){switch(tu(t)){case 1:var r=Cf;break;case 4:r=Ef;break;default:r=ya}n=r.bind(null,t,n,e),r=void 0,!Ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qs(e,t,n,l,r){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var a=l.tag;if(a===3||a===4){var o=l.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=l.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Wn(o),a===null)return;if(c=a.tag,c===5||c===6){l=i=a;continue e}o=o.parentNode}}l=l.return}Uc(function(){var d=i,y=pa(n),v=[];e:{var g=vu.get(e);if(g!==void 0){var S=xa,C=e;switch(e){case"keypress":if(Br(n)===0)break e;case"keydown":case"keyup":S=Uf;break;case"focusin":C="focus",S=Ys;break;case"focusout":C="blur",S=Ys;break;case"beforeblur":case"afterblur":S=Ys;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Bf;break;case fu:case pu:case mu:S=zf;break;case hu:S=Yf;break;case"scroll":S=Tf;break;case"wheel":S=Xf;break;case"copy":case"cut":case"paste":S=If;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=yo}var L=(t&4)!==0,X=!L&&e==="scroll",p=L?g!==null?g+"Capture":null:g;L=[];for(var u=d,m;u!==null;){m=u;var h=m.stateNode;if(m.tag===5&&h!==null&&(m=h,p!==null&&(h=tr(u,p),h!=null&&L.push(or(u,h,m)))),X)break;u=u.return}0<L.length&&(g=new S(g,C,null,n,y),v.push({event:g,listeners:L}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==Si&&(C=n.relatedTarget||n.fromElement)&&(Wn(C)||C[hn]))break e;if((S||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,S?(C=n.relatedTarget||n.toElement,S=d,C=C?Wn(C):null,C!==null&&(X=el(C),C!==X||C.tag!==5&&C.tag!==6)&&(C=null)):(S=null,C=d),S!==C)){if(L=ho,h="onMouseLeave",p="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(L=yo,h="onPointerLeave",p="onPointerEnter",u="pointer"),X=S==null?g:ol(S),m=C==null?g:ol(C),g=new L(h,u+"leave",S,n,y),g.target=X,g.relatedTarget=m,h=null,Wn(y)===d&&(L=new L(p,u+"enter",C,n,y),L.target=m,L.relatedTarget=X,h=L),X=h,S&&C)t:{for(L=S,p=C,u=0,m=L;m;m=nl(m))u++;for(m=0,h=p;h;h=nl(h))m++;for(;0<u-m;)L=nl(L),u--;for(;0<m-u;)p=nl(p),m--;for(;u--;){if(L===p||p!==null&&L===p.alternate)break t;L=nl(L),p=nl(p)}L=null}else L=null;S!==null&&_o(v,g,S,L,!1),C!==null&&X!==null&&_o(v,X,C,L,!0)}}e:{if(g=d?ol(d):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var E=tp;else if(jo(g))if(au)E=sp;else{E=lp;var _=np}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=rp);if(E&&(E=E(e,d))){iu(v,E,n,y);break e}_&&_(e,g,d),e==="focusout"&&(_=g._wrapperState)&&_.controlled&&g.type==="number"&&gi(g,"number",g.value)}switch(_=d?ol(d):window,e){case"focusin":(jo(_)||_.contentEditable==="true")&&(il=_,Li=d,Xl=null);break;case"focusout":Xl=Li=il=null;break;case"mousedown":Mi=!0;break;case"contextmenu":case"mouseup":case"dragend":Mi=!1,Co(v,n,y);break;case"selectionchange":if(op)break;case"keydown":case"keyup":Co(v,n,y)}var w;if(Na)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else sl?ru(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(lu&&n.locale!=="ko"&&(sl||j!=="onCompositionStart"?j==="onCompositionEnd"&&sl&&(w=nu()):(En=y,ga="value"in En?En.value:En.textContent,sl=!0)),_=ss(d,j),0<_.length&&(j=new vo(j,e,null,n,y),v.push({event:j,listeners:_}),w?j.data=w:(w=su(n),w!==null&&(j.data=w)))),(w=Kf?Zf(e,n):Jf(e,n))&&(d=ss(d,"onBeforeInput"),0<d.length&&(y=new vo("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:d}),y.data=w))}yu(v,t)})}function or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ss(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=tr(e,n),i!=null&&l.unshift(or(e,i,r)),i=tr(e,t),i!=null&&l.push(or(e,i,r))),e=e.return}return l}function nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _o(e,t,n,l,r){for(var i=t._reactName,a=[];n!==null&&n!==l;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===l)break;o.tag===5&&d!==null&&(o=d,r?(c=tr(n,i),c!=null&&a.unshift(or(n,c,o))):r||(c=tr(n,i),c!=null&&a.push(or(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var fp=/\r\n?/g,pp=/\u0000|\uFFFD/g;function Po(e){return(typeof e=="string"?e:""+e).replace(fp,`
`).replace(pp,"")}function Mr(e,t,n){if(t=Po(t),Po(e)!==t&&n)throw Error(P(425))}function is(){}var zi=null,Ri=null;function Ii(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Di=typeof setTimeout=="function"?setTimeout:void 0,mp=typeof clearTimeout=="function"?clearTimeout:void 0,Lo=typeof Promise=="function"?Promise:void 0,hp=typeof queueMicrotask=="function"?queueMicrotask:typeof Lo<"u"?function(e){return Lo.resolve(null).then(e).catch(vp)}:Di;function vp(e){setTimeout(function(){throw e})}function ei(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(l===0){e.removeChild(r),rr(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=r}while(n);rr(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ll,cr="__reactProps$"+Ll,hn="__reactContainer$"+Ll,bi="__reactEvents$"+Ll,yp="__reactListeners$"+Ll,gp="__reactHandles$"+Ll;function Wn(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mo(e);e!==null;){if(n=e[sn])return n;e=Mo(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[sn]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ol(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Ts(e){return e[cr]||null}var Fi=[],cl=-1;function An(e){return{current:e}}function _e(e){0>cl||(e.current=Fi[cl],Fi[cl]=null,cl--)}function Ce(e,t){cl++,Fi[cl]=e.current,e.current=t}var Fn={},ht=An(Fn),Tt=An(!1),Xn=Fn;function wl(e,t){var n=e.type.contextTypes;if(!n)return Fn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function _t(e){return e=e.childContextTypes,e!=null}function as(){_e(Tt),_e(ht)}function zo(e,t,n){if(ht.current!==Fn)throw Error(P(168));Ce(ht,t),Ce(Tt,n)}function xu(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var r in l)if(!(r in t))throw Error(P(108,tf(e)||"Unknown",r));return Fe({},n,l)}function os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,Xn=ht.current,Ce(ht,e),Ce(Tt,Tt.current),!0}function Ro(e,t,n){var l=e.stateNode;if(!l)throw Error(P(169));n?(e=xu(e,t,Xn),l.__reactInternalMemoizedMergedChildContext=e,_e(Tt),_e(ht),Ce(ht,e)):_e(Tt),Ce(Tt,n)}var un=null,_s=!1,ti=!1;function ju(e){un===null?un=[e]:un.push(e)}function xp(e){_s=!0,ju(e)}function On(){if(!ti&&un!==null){ti=!0;var e=0,t=xe;try{var n=un;for(xe=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}un=null,_s=!1}catch(r){throw un!==null&&(un=un.slice(e+1)),Vc(ma,On),r}finally{xe=t,ti=!1}}return null}var ul=[],dl=0,cs=null,us=0,Ot=[],Ut=0,Qn=null,dn=1,fn="";function Un(e,t){ul[dl++]=us,ul[dl++]=cs,cs=e,us=t}function Nu(e,t,n){Ot[Ut++]=dn,Ot[Ut++]=fn,Ot[Ut++]=Qn,Qn=e;var l=dn;e=fn;var r=32-Jt(l)-1;l&=~(1<<r),n+=1;var i=32-Jt(t)+r;if(30<i){var a=r-r%5;i=(l&(1<<a)-1).toString(32),l>>=a,r-=a,dn=1<<32-Jt(t)+r|n<<r|l,fn=i+e}else dn=1<<i|n<<r|l,fn=e}function Sa(e){e.return!==null&&(Un(e,1),Nu(e,1,0))}function ka(e){for(;e===cs;)cs=ul[--dl],ul[dl]=null,us=ul[--dl],ul[dl]=null;for(;e===Qn;)Qn=Ot[--Ut],Ot[Ut]=null,fn=Ot[--Ut],Ot[Ut]=null,dn=Ot[--Ut],Ot[Ut]=null}var Dt=null,It=null,ze=!1,Zt=null;function wu(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Io(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,It=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:dn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dt=e,It=null,!0):!1;default:return!1}}function $i(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ai(e){if(ze){var t=It;if(t){var n=t;if(!Io(e,t)){if($i(e))throw Error(P(418));t=Mn(n.nextSibling);var l=Dt;t&&Io(e,t)?wu(l,n):(e.flags=e.flags&-4097|2,ze=!1,Dt=e)}}else{if($i(e))throw Error(P(418));e.flags=e.flags&-4097|2,ze=!1,Dt=e}}}function Do(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function zr(e){if(e!==Dt)return!1;if(!ze)return Do(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ii(e.type,e.memoizedProps)),t&&(t=It)){if($i(e))throw Su(),Error(P(418));for(;t;)wu(e,t),t=Mn(t.nextSibling)}if(Do(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Dt?Mn(e.stateNode.nextSibling):null;return!0}function Su(){for(var e=It;e;)e=Mn(e.nextSibling)}function Sl(){It=Dt=null,ze=!1}function Ca(e){Zt===null?Zt=[e]:Zt.push(e)}var jp=gn.ReactCurrentBatchConfig;function bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var l=n.stateNode}if(!l)throw Error(P(147,e));var r=l,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=r.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Rr(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){var t=e._init;return t(e._payload)}function ku(e){function t(p,u){if(e){var m=p.deletions;m===null?(p.deletions=[u],p.flags|=16):m.push(u)}}function n(p,u){if(!e)return null;for(;u!==null;)t(p,u),u=u.sibling;return null}function l(p,u){for(p=new Map;u!==null;)u.key!==null?p.set(u.key,u):p.set(u.index,u),u=u.sibling;return p}function r(p,u){return p=Dn(p,u),p.index=0,p.sibling=null,p}function i(p,u,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<u?(p.flags|=2,u):m):(p.flags|=2,u)):(p.flags|=1048576,u)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,u,m,h){return u===null||u.tag!==6?(u=oi(m,p.mode,h),u.return=p,u):(u=r(u,m),u.return=p,u)}function c(p,u,m,h){var E=m.type;return E===rl?y(p,u,m.props.children,h,m.key):u!==null&&(u.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wn&&bo(E)===u.type)?(h=r(u,m.props),h.ref=bl(p,u,m),h.return=p,h):(h=Zr(m.type,m.key,m.props,null,p.mode,h),h.ref=bl(p,u,m),h.return=p,h)}function d(p,u,m,h){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=ci(m,p.mode,h),u.return=p,u):(u=r(u,m.children||[]),u.return=p,u)}function y(p,u,m,h,E){return u===null||u.tag!==7?(u=Gn(m,p.mode,h,E),u.return=p,u):(u=r(u,m),u.return=p,u)}function v(p,u,m){if(typeof u=="string"&&u!==""||typeof u=="number")return u=oi(""+u,p.mode,m),u.return=p,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case wr:return m=Zr(u.type,u.key,u.props,null,p.mode,m),m.ref=bl(p,null,u),m.return=p,m;case ll:return u=ci(u,p.mode,m),u.return=p,u;case wn:var h=u._init;return v(p,h(u._payload),m)}if(Ul(u)||Ml(u))return u=Gn(u,p.mode,m,null),u.return=p,u;Rr(p,u)}return null}function g(p,u,m,h){var E=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:o(p,u,""+m,h);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wr:return m.key===E?c(p,u,m,h):null;case ll:return m.key===E?d(p,u,m,h):null;case wn:return E=m._init,g(p,u,E(m._payload),h)}if(Ul(m)||Ml(m))return E!==null?null:y(p,u,m,h,null);Rr(p,m)}return null}function S(p,u,m,h,E){if(typeof h=="string"&&h!==""||typeof h=="number")return p=p.get(m)||null,o(u,p,""+h,E);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case wr:return p=p.get(h.key===null?m:h.key)||null,c(u,p,h,E);case ll:return p=p.get(h.key===null?m:h.key)||null,d(u,p,h,E);case wn:var _=h._init;return S(p,u,m,_(h._payload),E)}if(Ul(h)||Ml(h))return p=p.get(m)||null,y(u,p,h,E,null);Rr(u,h)}return null}function C(p,u,m,h){for(var E=null,_=null,w=u,j=u=0,F=null;w!==null&&j<m.length;j++){w.index>j?(F=w,w=null):F=w.sibling;var A=g(p,w,m[j],h);if(A===null){w===null&&(w=F);break}e&&w&&A.alternate===null&&t(p,w),u=i(A,u,j),_===null?E=A:_.sibling=A,_=A,w=F}if(j===m.length)return n(p,w),ze&&Un(p,j),E;if(w===null){for(;j<m.length;j++)w=v(p,m[j],h),w!==null&&(u=i(w,u,j),_===null?E=w:_.sibling=w,_=w);return ze&&Un(p,j),E}for(w=l(p,w);j<m.length;j++)F=S(w,p,j,m[j],h),F!==null&&(e&&F.alternate!==null&&w.delete(F.key===null?j:F.key),u=i(F,u,j),_===null?E=F:_.sibling=F,_=F);return e&&w.forEach(function(le){return t(p,le)}),ze&&Un(p,j),E}function L(p,u,m,h){var E=Ml(m);if(typeof E!="function")throw Error(P(150));if(m=E.call(m),m==null)throw Error(P(151));for(var _=E=null,w=u,j=u=0,F=null,A=m.next();w!==null&&!A.done;j++,A=m.next()){w.index>j?(F=w,w=null):F=w.sibling;var le=g(p,w,A.value,h);if(le===null){w===null&&(w=F);break}e&&w&&le.alternate===null&&t(p,w),u=i(le,u,j),_===null?E=le:_.sibling=le,_=le,w=F}if(A.done)return n(p,w),ze&&Un(p,j),E;if(w===null){for(;!A.done;j++,A=m.next())A=v(p,A.value,h),A!==null&&(u=i(A,u,j),_===null?E=A:_.sibling=A,_=A);return ze&&Un(p,j),E}for(w=l(p,w);!A.done;j++,A=m.next())A=S(w,p,j,A.value,h),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?j:A.key),u=i(A,u,j),_===null?E=A:_.sibling=A,_=A);return e&&w.forEach(function(ke){return t(p,ke)}),ze&&Un(p,j),E}function X(p,u,m,h){if(typeof m=="object"&&m!==null&&m.type===rl&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case wr:e:{for(var E=m.key,_=u;_!==null;){if(_.key===E){if(E=m.type,E===rl){if(_.tag===7){n(p,_.sibling),u=r(_,m.props.children),u.return=p,p=u;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wn&&bo(E)===_.type){n(p,_.sibling),u=r(_,m.props),u.ref=bl(p,_,m),u.return=p,p=u;break e}n(p,_);break}else t(p,_);_=_.sibling}m.type===rl?(u=Gn(m.props.children,p.mode,h,m.key),u.return=p,p=u):(h=Zr(m.type,m.key,m.props,null,p.mode,h),h.ref=bl(p,u,m),h.return=p,p=h)}return a(p);case ll:e:{for(_=m.key;u!==null;){if(u.key===_)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){n(p,u.sibling),u=r(u,m.children||[]),u.return=p,p=u;break e}else{n(p,u);break}else t(p,u);u=u.sibling}u=ci(m,p.mode,h),u.return=p,p=u}return a(p);case wn:return _=m._init,X(p,u,_(m._payload),h)}if(Ul(m))return C(p,u,m,h);if(Ml(m))return L(p,u,m,h);Rr(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,u!==null&&u.tag===6?(n(p,u.sibling),u=r(u,m),u.return=p,p=u):(n(p,u),u=oi(m,p.mode,h),u.return=p,p=u),a(p)):n(p,u)}return X}var kl=ku(!0),Cu=ku(!1),ds=An(null),fs=null,fl=null,Ea=null;function Ta(){Ea=fl=fs=null}function _a(e){var t=ds.current;_e(ds),e._currentValue=t}function Oi(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function xl(e,t){fs=e,Ea=fl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},fl===null){if(fs===null)throw Error(P(308));fl=e,fs.dependencies={lanes:0,firstContext:e}}else fl=fl.next=e;return t}var Bn=null;function Pa(e){Bn===null?Bn=[e]:Bn.push(e)}function Eu(e,t,n,l){var r=t.interleaved;return r===null?(n.next=n,Pa(t)):(n.next=r.next,r.next=n),t.interleaved=n,vn(e,l)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,he&2){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,vn(e,n)}return r=l.interleaved,r===null?(t.next=t,Pa(l)):(t.next=r.next,r.next=t),l.interleaved=t,vn(e,n)}function Vr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ha(e,n)}}function Fo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ps(e,t,n,l){var r=e.updateQueue;Sn=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var y=e.alternate;y!==null&&(y=y.updateQueue,o=y.lastBaseUpdate,o!==a&&(o===null?y.firstBaseUpdate=d:o.next=d,y.lastBaseUpdate=c))}if(i!==null){var v=r.baseState;a=0,y=d=c=null,o=i;do{var g=o.lane,S=o.eventTime;if((l&g)===g){y!==null&&(y=y.next={eventTime:S,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=e,L=o;switch(g=t,S=n,L.tag){case 1:if(C=L.payload,typeof C=="function"){v=C.call(S,v,g);break e}v=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=L.payload,g=typeof C=="function"?C.call(S,v,g):C,g==null)break e;v=Fe({},v,g);break e;case 2:Sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=r.effects,g===null?r.effects=[o]:g.push(o))}else S={eventTime:S,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},y===null?(d=y=S,c=v):y=y.next=S,a|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;g=o,o=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(y===null&&(c=v),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=y,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Zn|=a,e.lanes=a,e.memoizedState=v}}function $o(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],r=l.callback;if(r!==null){if(l.callback=null,l=n,typeof r!="function")throw Error(P(191,r));r.call(l)}}}var jr={},on=An(jr),ur=An(jr),dr=An(jr);function Vn(e){if(e===jr)throw Error(P(174));return e}function Ma(e,t){switch(Ce(dr,t),Ce(ur,e),Ce(on,jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ji(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ji(t,e)}_e(on),Ce(on,t)}function Cl(){_e(on),_e(ur),_e(dr)}function _u(e){Vn(dr.current);var t=Vn(on.current),n=ji(t,e.type);t!==n&&(Ce(ur,e),Ce(on,n))}function za(e){ur.current===e&&(_e(on),_e(ur))}var De=An(0);function ms(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function Ra(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var Yr=gn.ReactCurrentDispatcher,li=gn.ReactCurrentBatchConfig,Kn=0,be=null,qe=null,lt=null,hs=!1,Ql=!1,fr=0,Np=0;function ft(){throw Error(P(321))}function Ia(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Da(e,t,n,l,r,i){if(Kn=i,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yr.current=e===null||e.memoizedState===null?Cp:Ep,e=n(l,r),Ql){i=0;do{if(Ql=!1,fr=0,25<=i)throw Error(P(301));i+=1,lt=qe=null,t.updateQueue=null,Yr.current=Tp,e=n(l,r)}while(Ql)}if(Yr.current=vs,t=qe!==null&&qe.next!==null,Kn=0,lt=qe=be=null,hs=!1,t)throw Error(P(300));return e}function ba(){var e=fr!==0;return fr=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?be.memoizedState=lt=e:lt=lt.next=e,lt}function Vt(){if(qe===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=lt===null?be.memoizedState:lt.next;if(t!==null)lt=t,qe=e;else{if(e===null)throw Error(P(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},lt===null?be.memoizedState=lt=e:lt=lt.next=e}return lt}function pr(e,t){return typeof t=="function"?t(e):t}function ri(e){var t=Vt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=qe,r=l.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}l.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,l=l.baseState;var o=a=null,c=null,d=i;do{var y=d.lane;if((Kn&y)===y)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),l=d.hasEagerState?d.eagerState:e(l,d.action);else{var v={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=v,a=l):c=c.next=v,be.lanes|=y,Zn|=y}d=d.next}while(d!==null&&d!==i);c===null?a=l:c.next=o,en(l,t.memoizedState)||(Et=!0),t.memoizedState=l,t.baseState=a,t.baseQueue=c,n.lastRenderedState=l}if(e=n.interleaved,e!==null){r=e;do i=r.lane,be.lanes|=i,Zn|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function si(e){var t=Vt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=e(i,a.action),a=a.next;while(a!==r);en(i,t.memoizedState)||(Et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,l]}function Pu(){}function Lu(e,t){var n=be,l=Vt(),r=t(),i=!en(l.memoizedState,r);if(i&&(l.memoizedState=r,Et=!0),l=l.queue,Fa(Ru.bind(null,n,l,e),[e]),l.getSnapshot!==t||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,mr(9,zu.bind(null,n,l,r,t),void 0,null),rt===null)throw Error(P(349));Kn&30||Mu(n,t,r)}return r}function Mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zu(e,t,n,l){t.value=n,t.getSnapshot=l,Iu(t)&&Du(e)}function Ru(e,t,n){return n(function(){Iu(t)&&Du(e)})}function Iu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function Du(e){var t=vn(e,1);t!==null&&qt(t,e,1,-1)}function Ao(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t.queue=e,e=e.dispatch=kp.bind(null,be,e),[t.memoizedState,e]}function mr(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function bu(){return Vt().memoizedState}function Gr(e,t,n,l){var r=rn();be.flags|=e,r.memoizedState=mr(1|t,n,void 0,l===void 0?null:l)}function Ps(e,t,n,l){var r=Vt();l=l===void 0?null:l;var i=void 0;if(qe!==null){var a=qe.memoizedState;if(i=a.destroy,l!==null&&Ia(l,a.deps)){r.memoizedState=mr(t,n,i,l);return}}be.flags|=e,r.memoizedState=mr(1|t,n,i,l)}function Oo(e,t){return Gr(8390656,8,e,t)}function Fa(e,t){return Ps(2048,8,e,t)}function Fu(e,t){return Ps(4,2,e,t)}function $u(e,t){return Ps(4,4,e,t)}function Au(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ou(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4,4,Au.bind(null,t,e),n)}function $a(){}function Uu(e,t){var n=Vt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ia(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Hu(e,t){var n=Vt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ia(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function Wu(e,t,n){return Kn&21?(en(n,t)||(n=Xc(),be.lanes|=n,Zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=n)}function wp(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var l=li.transition;li.transition={};try{e(!1),t()}finally{xe=n,li.transition=l}}function Bu(){return Vt().memoizedState}function Sp(e,t,n){var l=In(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},Vu(e))Yu(t,n);else if(n=Eu(e,t,n,l),n!==null){var r=jt();qt(n,e,l,r),Gu(n,t,l)}}function kp(e,t,n){var l=In(e),r={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))Yu(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,en(o,a)){var c=t.interleaved;c===null?(r.next=r,Pa(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Eu(e,t,r,l),n!==null&&(r=jt(),qt(n,e,l,r),Gu(n,t,l))}}function Vu(e){var t=e.alternate;return e===be||t!==null&&t===be}function Yu(e,t){Ql=hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gu(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ha(e,n)}}var vs={readContext:Bt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Cp={readContext:Bt,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gr(4194308,4,Au.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gr(4,2,e,t)},useMemo:function(e,t){var n=rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=rn();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Sp.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Ao,useDebugValue:$a,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=wp.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=be,r=rn();if(ze){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),rt===null)throw Error(P(349));Kn&30||Mu(l,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Oo(Ru.bind(null,l,i,e),[e]),l.flags|=2048,mr(9,zu.bind(null,l,i,n,t),void 0,null),n},useId:function(){var e=rn(),t=rt.identifierPrefix;if(ze){var n=fn,l=dn;n=(l&~(1<<32-Jt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Np++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ep={readContext:Bt,useCallback:Uu,useContext:Bt,useEffect:Fa,useImperativeHandle:Ou,useInsertionEffect:Fu,useLayoutEffect:$u,useMemo:Hu,useReducer:ri,useRef:bu,useState:function(){return ri(pr)},useDebugValue:$a,useDeferredValue:function(e){var t=Vt();return Wu(t,qe.memoizedState,e)},useTransition:function(){var e=ri(pr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Lu,useId:Bu,unstable_isNewReconciler:!1},Tp={readContext:Bt,useCallback:Uu,useContext:Bt,useEffect:Fa,useImperativeHandle:Ou,useInsertionEffect:Fu,useLayoutEffect:$u,useMemo:Hu,useReducer:si,useRef:bu,useState:function(){return si(pr)},useDebugValue:$a,useDeferredValue:function(e){var t=Vt();return qe===null?t.memoizedState=e:Wu(t,qe.memoizedState,e)},useTransition:function(){var e=si(pr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Lu,useId:Bu,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ui(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ls={isMounted:function(e){return(e=e._reactInternals)?el(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=jt(),r=In(e),i=pn(l,r);i.payload=t,n!=null&&(i.callback=n),t=zn(e,i,r),t!==null&&(qt(t,e,r,l),Vr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=jt(),r=In(e),i=pn(l,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zn(e,i,r),t!==null&&(qt(t,e,r,l),Vr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),l=In(e),r=pn(n,l);r.tag=2,t!=null&&(r.callback=t),t=zn(e,r,l),t!==null&&(qt(t,e,l,n),Vr(t,e,l))}};function Uo(e,t,n,l,r,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,a):t.prototype&&t.prototype.isPureReactComponent?!ir(n,l)||!ir(r,i):!0}function Xu(e,t,n){var l=!1,r=Fn,i=t.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(r=_t(t)?Xn:ht.current,l=t.contextTypes,i=(l=l!=null)?wl(e,r):Fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ls,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ho(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Ls.enqueueReplaceState(t,t.state,null)}function Hi(e,t,n,l){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},La(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Bt(i):(i=_t(t)?Xn:ht.current,r.context=wl(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ui(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ls.enqueueReplaceState(r,r.state,null),ps(e,n,r,l),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function El(e,t){try{var n="",l=t;do n+=ef(l),l=l.return;while(l);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function ii(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _p=typeof WeakMap=="function"?WeakMap:Map;function Qu(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){gs||(gs=!0,qi=l),Wi(e,t)},n}function Ku(e,t,n){n=pn(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var r=t.value;n.payload=function(){return l(r)},n.callback=function(){Wi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wi(e,t),typeof l!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Wo(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new _p;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(r.add(n),e=Hp.bind(null,e,t,n),t.then(e,e))}function Bo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vo(e,t,n,l,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,zn(n,t,1))),n.lanes|=1),e)}var Pp=gn.ReactCurrentOwner,Et=!1;function xt(e,t,n,l){t.child=e===null?Cu(t,null,n,l):kl(t,e.child,n,l)}function Yo(e,t,n,l,r){n=n.render;var i=t.ref;return xl(t,r),l=Da(e,t,n,l,i,r),n=ba(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,yn(e,t,r)):(ze&&n&&Sa(t),t.flags|=1,xt(e,t,l,r),t.child)}function Go(e,t,n,l,r){if(e===null){var i=n.type;return typeof i=="function"&&!Ya(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Zu(e,t,i,l,r)):(e=Zr(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ir,n(a,l)&&e.ref===t.ref)return yn(e,t,r)}return t.flags|=1,e=Dn(i,l),e.ref=t.ref,e.return=t,t.child=e}function Zu(e,t,n,l,r){if(e!==null){var i=e.memoizedProps;if(ir(i,l)&&e.ref===t.ref)if(Et=!1,t.pendingProps=l=i,(e.lanes&r)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,yn(e,t,r)}return Bi(e,t,n,l,r)}function Ju(e,t,n){var l=t.pendingProps,r=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ml,Rt),Rt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(ml,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=i!==null?i.baseLanes:n,Ce(ml,Rt),Rt|=l}else i!==null?(l=i.baseLanes|n,t.memoizedState=null):l=n,Ce(ml,Rt),Rt|=l;return xt(e,t,r,n),t.child}function qu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bi(e,t,n,l,r){var i=_t(n)?Xn:ht.current;return i=wl(t,i),xl(t,r),n=Da(e,t,n,l,i,r),l=ba(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,yn(e,t,r)):(ze&&l&&Sa(t),t.flags|=1,xt(e,t,n,r),t.child)}function Xo(e,t,n,l,r){if(_t(n)){var i=!0;os(t)}else i=!1;if(xl(t,r),t.stateNode===null)Xr(e,t),Xu(t,n,l),Hi(t,n,l,r),l=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=_t(n)?Xn:ht.current,d=wl(t,d));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==l||c!==d)&&Ho(t,a,l,d),Sn=!1;var g=t.memoizedState;a.state=g,ps(t,l,a,r),c=t.memoizedState,o!==l||g!==c||Tt.current||Sn?(typeof y=="function"&&(Ui(t,n,y,l),c=t.memoizedState),(o=Sn||Uo(t,n,o,l,g,c,d))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=c),a.props=l,a.state=c,a.context=d,l=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{a=t.stateNode,Tu(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Qt(t.type,o),a.props=d,v=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=_t(n)?Xn:ht.current,c=wl(t,c));var S=n.getDerivedStateFromProps;(y=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==v||g!==c)&&Ho(t,a,l,c),Sn=!1,g=t.memoizedState,a.state=g,ps(t,l,a,r);var C=t.memoizedState;o!==v||g!==C||Tt.current||Sn?(typeof S=="function"&&(Ui(t,n,S,l),C=t.memoizedState),(d=Sn||Uo(t,n,d,l,g,C,c)||!1)?(y||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(l,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(l,C,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=C),a.props=l,a.state=C,a.context=c,l=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),l=!1)}return Vi(e,t,n,l,i,r)}function Vi(e,t,n,l,r,i){qu(e,t);var a=(t.flags&128)!==0;if(!l&&!a)return r&&Ro(t,n,!1),yn(e,t,i);l=t.stateNode,Pp.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&a?(t.child=kl(t,e.child,null,i),t.child=kl(t,null,o,i)):xt(e,t,o,i),t.memoizedState=l.state,r&&Ro(t,n,!0),t.child}function ed(e){var t=e.stateNode;t.pendingContext?zo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zo(e,t.context,!1),Ma(e,t.containerInfo)}function Qo(e,t,n,l,r){return Sl(),Ca(r),t.flags|=256,xt(e,t,n,l),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Gi(e){return{baseLanes:e,cachePool:null,transitions:null}}function td(e,t,n){var l=t.pendingProps,r=De.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Ce(De,r&1),e===null)return Ai(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=l.children,e=l.fallback,i?(l=t.mode,i=t.child,a={mode:"hidden",children:a},!(l&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Rs(a,l,0,null),e=Gn(e,l,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gi(n),t.memoizedState=Yi,e):Aa(t,a));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return Lp(e,t,a,l,o,r,n);if(i){i=l.fallback,a=t.mode,r=e.child,o=r.sibling;var c={mode:"hidden",children:l.children};return!(a&1)&&t.child!==r?(l=t.child,l.childLanes=0,l.pendingProps=c,t.deletions=null):(l=Dn(r,c),l.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=Dn(o,i):(i=Gn(i,a,n,null),i.flags|=2),i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,a=e.child.memoizedState,a=a===null?Gi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Yi,l}return i=e.child,e=i.sibling,l=Dn(i,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Aa(e,t){return t=Rs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ir(e,t,n,l){return l!==null&&Ca(l),kl(t,e.child,null,n),e=Aa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lp(e,t,n,l,r,i,a){if(n)return t.flags&256?(t.flags&=-257,l=ii(Error(P(422))),Ir(e,t,a,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=l.fallback,r=t.mode,l=Rs({mode:"visible",children:l.children},r,0,null),i=Gn(i,r,a,null),i.flags|=2,l.return=t,i.return=t,l.sibling=i,t.child=l,t.mode&1&&kl(t,e.child,null,a),t.child.memoizedState=Gi(a),t.memoizedState=Yi,i);if(!(t.mode&1))return Ir(e,t,a,null);if(r.data==="$!"){if(l=r.nextSibling&&r.nextSibling.dataset,l)var o=l.dgst;return l=o,i=Error(P(419)),l=ii(i,l,void 0),Ir(e,t,a,l)}if(o=(a&e.childLanes)!==0,Et||o){if(l=rt,l!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(l.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,vn(e,r),qt(l,e,r,-1))}return Va(),l=ii(Error(P(421))),Ir(e,t,a,l)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Wp.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,It=Mn(r.nextSibling),Dt=t,ze=!0,Zt=null,e!==null&&(Ot[Ut++]=dn,Ot[Ut++]=fn,Ot[Ut++]=Qn,dn=e.id,fn=e.overflow,Qn=t),t=Aa(t,l.children),t.flags|=4096,t)}function Ko(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Oi(e.return,t,n)}function ai(e,t,n,l,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=n,i.tailMode=r)}function nd(e,t,n){var l=t.pendingProps,r=l.revealOrder,i=l.tail;if(xt(e,t,l.children,n),l=De.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ko(e,n,t);else if(e.tag===19)Ko(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ce(De,l),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ms(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ai(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ms(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ai(t,!0,n,null,i);break;case"together":ai(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mp(e,t,n){switch(t.tag){case 3:ed(t),Sl();break;case 5:_u(t);break;case 1:_t(t.type)&&os(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,r=t.memoizedProps.value;Ce(ds,l._currentValue),l._currentValue=r;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Ce(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?td(e,t,n):(Ce(De,De.current&1),e=yn(e,t,n),e!==null?e.sibling:null);Ce(De,De.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return nd(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ce(De,De.current),l)break;return null;case 22:case 23:return t.lanes=0,Ju(e,t,n)}return yn(e,t,n)}var ld,Xi,rd,sd;ld=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xi=function(){};rd=function(e,t,n,l){var r=e.memoizedProps;if(r!==l){e=t.stateNode,Vn(on.current);var i=null;switch(n){case"input":r=vi(e,r),l=vi(e,l),i=[];break;case"select":r=Fe({},r,{value:void 0}),l=Fe({},l,{value:void 0}),i=[];break;case"textarea":r=xi(e,r),l=xi(e,l),i=[];break;default:typeof r.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=is)}Ni(n,l);var a;n=null;for(d in r)if(!l.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var o=r[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ql.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in l){var c=l[d];if(o=r!=null?r[d]:void 0,l.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ql.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Te("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};sd=function(e,t,n,l){n!==l&&(t.flags|=4)};function Fl(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&14680064,l|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function zp(e,t,n){var l=t.pendingProps;switch(ka(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return _t(t.type)&&as(),pt(t),null;case 3:return l=t.stateNode,Cl(),_e(Tt),_e(ht),Ra(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(na(Zt),Zt=null))),Xi(e,t),pt(t),null;case 5:za(t);var r=Vn(dr.current);if(n=t.type,e!==null&&t.stateNode!=null)rd(e,t,n,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(P(166));return pt(t),null}if(e=Vn(on.current),zr(t)){l=t.stateNode,n=t.type;var i=t.memoizedProps;switch(l[sn]=t,l[cr]=i,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",l),Te("close",l);break;case"iframe":case"object":case"embed":Te("load",l);break;case"video":case"audio":for(r=0;r<Wl.length;r++)Te(Wl[r],l);break;case"source":Te("error",l);break;case"img":case"image":case"link":Te("error",l),Te("load",l);break;case"details":Te("toggle",l);break;case"input":ro(l,i),Te("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!i.multiple},Te("invalid",l);break;case"textarea":io(l,i),Te("invalid",l)}Ni(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?l.textContent!==o&&(i.suppressHydrationWarning!==!0&&Mr(l.textContent,o,e),r=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Mr(l.textContent,o,e),r=["children",""+o]):ql.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Te("scroll",l)}switch(n){case"input":Sr(l),so(l,i,!0);break;case"textarea":Sr(l),ao(l);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(l.onclick=is)}l=r,t.updateQueue=l,l!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=a.createElement(n,{is:l.is}):(e=a.createElement(n),n==="select"&&(a=e,l.multiple?a.multiple=!0:l.size&&(a.size=l.size))):e=a.createElementNS(e,n),e[sn]=t,e[cr]=l,ld(e,t,!1,!1),t.stateNode=e;e:{switch(a=wi(n,l),n){case"dialog":Te("cancel",e),Te("close",e),r=l;break;case"iframe":case"object":case"embed":Te("load",e),r=l;break;case"video":case"audio":for(r=0;r<Wl.length;r++)Te(Wl[r],e);r=l;break;case"source":Te("error",e),r=l;break;case"img":case"image":case"link":Te("error",e),Te("load",e),r=l;break;case"details":Te("toggle",e),r=l;break;case"input":ro(e,l),r=vi(e,l),Te("invalid",e);break;case"option":r=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},r=Fe({},l,{value:void 0}),Te("invalid",e);break;case"textarea":io(e,l),r=xi(e,l),Te("invalid",e);break;default:r=l}Ni(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?bc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ic(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&er(e,c):typeof c=="number"&&er(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ql.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Te("scroll",e):c!=null&&ca(e,i,c,a))}switch(n){case"input":Sr(e),so(e,l,!1);break;case"textarea":Sr(e),ao(e);break;case"option":l.value!=null&&e.setAttribute("value",""+bn(l.value));break;case"select":e.multiple=!!l.multiple,i=l.value,i!=null?hl(e,!!l.multiple,i,!1):l.defaultValue!=null&&hl(e,!!l.multiple,l.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=is)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)sd(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(P(166));if(n=Vn(dr.current),Vn(on.current),zr(t)){if(l=t.stateNode,n=t.memoizedProps,l[sn]=t,(i=l.nodeValue!==n)&&(e=Dt,e!==null))switch(e.tag){case 3:Mr(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mr(l.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[sn]=t,t.stateNode=l}return pt(t),null;case 13:if(_e(De),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&It!==null&&t.mode&1&&!(t.flags&128))Su(),Sl(),t.flags|=98560,i=!1;else if(i=zr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[sn]=t}else Sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),i=!1}else Zt!==null&&(na(Zt),Zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?et===0&&(et=3):Va())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Cl(),Xi(e,t),e===null&&ar(t.stateNode.containerInfo),pt(t),null;case 10:return _a(t.type._context),pt(t),null;case 17:return _t(t.type)&&as(),pt(t),null;case 19:if(_e(De),i=t.memoizedState,i===null)return pt(t),null;if(l=(t.flags&128)!==0,a=i.rendering,a===null)if(l)Fl(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ms(e),a!==null){for(t.flags|=128,Fl(i,!1),l=a.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)i=n,e=l,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(De,De.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ye()>Tl&&(t.flags|=128,l=!0,Fl(i,!1),t.lanes=4194304)}else{if(!l)if(e=ms(a),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ze)return pt(t),null}else 2*Ye()-i.renderingStartTime>Tl&&n!==1073741824&&(t.flags|=128,l=!0,Fl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=De.current,Ce(De,l?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return Ba(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Rt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Rp(e,t){switch(ka(t),t.tag){case 1:return _t(t.type)&&as(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cl(),_e(Tt),_e(ht),Ra(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return za(t),null;case 13:if(_e(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(De),null;case 4:return Cl(),null;case 10:return _a(t.type._context),null;case 22:case 23:return Ba(),null;case 24:return null;default:return null}}var Dr=!1,mt=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,H=null;function pl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){He(e,t,l)}else n.current=null}function Qi(e,t,n){try{n()}catch(l){He(e,t,l)}}var Zo=!1;function Dp(e,t){if(zi=ls,e=uu(),wa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,y=0,v=e,g=null;t:for(;;){for(var S;v!==n||r!==0&&v.nodeType!==3||(o=a+r),v!==i||l!==0&&v.nodeType!==3||(c=a+l),v.nodeType===3&&(a+=v.nodeValue.length),(S=v.firstChild)!==null;)g=v,v=S;for(;;){if(v===e)break t;if(g===n&&++d===r&&(o=a),g===i&&++y===l&&(c=a),(S=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=S}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ri={focusedElem:e,selectionRange:n},ls=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var L=C.memoizedProps,X=C.memoizedState,p=t.stateNode,u=p.getSnapshotBeforeUpdate(t.elementType===t.type?L:Qt(t.type,L),X);p.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(h){He(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return C=Zo,Zo=!1,C}function Kl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var r=l=l.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Qi(t,n,i)}r=r.next}while(r!==l)}}function Ms(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Ki(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function id(e){var t=e.alternate;t!==null&&(e.alternate=null,id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[cr],delete t[bi],delete t[yp],delete t[gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ad(e){return e.tag===5||e.tag===3||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=is));else if(l!==4&&(e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}function Ji(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ji(e,t,n),e=e.sibling;e!==null;)Ji(e,t,n),e=e.sibling}var it=null,Kt=!1;function Nn(e,t,n){for(n=n.child;n!==null;)od(e,t,n),n=n.sibling}function od(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ss,n)}catch{}switch(n.tag){case 5:mt||pl(n,t);case 6:var l=it,r=Kt;it=null,Nn(e,t,n),it=l,Kt=r,it!==null&&(Kt?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(Kt?(e=it,n=n.stateNode,e.nodeType===8?ei(e.parentNode,n):e.nodeType===1&&ei(e,n),rr(e)):ei(it,n.stateNode));break;case 4:l=it,r=Kt,it=n.stateNode.containerInfo,Kt=!0,Nn(e,t,n),it=l,Kt=r;break;case 0:case 11:case 14:case 15:if(!mt&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){r=l=l.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Qi(n,t,a),r=r.next}while(r!==l)}Nn(e,t,n);break;case 1:if(!mt&&(pl(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){He(n,t,o)}Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:n.mode&1?(mt=(l=mt)||n.memoizedState!==null,Nn(e,t,n),mt=l):Nn(e,t,n);break;default:Nn(e,t,n)}}function qo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ip),t.forEach(function(l){var r=Bp.bind(null,e,l);n.has(l)||(n.add(l),l.then(r,r))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:it=o.stateNode,Kt=!1;break e;case 3:it=o.stateNode.containerInfo,Kt=!0;break e;case 4:it=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if(it===null)throw Error(P(160));od(i,a,r),it=null,Kt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){He(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),ln(e),l&4){try{Kl(3,e,e.return),Ms(3,e)}catch(L){He(e,e.return,L)}try{Kl(5,e,e.return)}catch(L){He(e,e.return,L)}}break;case 1:Xt(t,e),ln(e),l&512&&n!==null&&pl(n,n.return);break;case 5:if(Xt(t,e),ln(e),l&512&&n!==null&&pl(n,n.return),e.flags&32){var r=e.stateNode;try{er(r,"")}catch(L){He(e,e.return,L)}}if(l&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Mc(r,i),wi(o,a);var d=wi(o,i);for(a=0;a<c.length;a+=2){var y=c[a],v=c[a+1];y==="style"?bc(r,v):y==="dangerouslySetInnerHTML"?Ic(r,v):y==="children"?er(r,v):ca(r,y,v,d)}switch(o){case"input":yi(r,i);break;case"textarea":zc(r,i);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?hl(r,!!i.multiple,S,!1):g!==!!i.multiple&&(i.defaultValue!=null?hl(r,!!i.multiple,i.defaultValue,!0):hl(r,!!i.multiple,i.multiple?[]:"",!1))}r[cr]=i}catch(L){He(e,e.return,L)}}break;case 6:if(Xt(t,e),ln(e),l&4){if(e.stateNode===null)throw Error(P(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(L){He(e,e.return,L)}}break;case 3:if(Xt(t,e),ln(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{rr(t.containerInfo)}catch(L){He(e,e.return,L)}break;case 4:Xt(t,e),ln(e);break;case 13:Xt(t,e),ln(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Ha=Ye())),l&4&&qo(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(mt=(d=mt)||y,Xt(t,e),mt=d):Xt(t,e),ln(e),l&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!y&&e.mode&1)for(H=e,y=e.child;y!==null;){for(v=H=y;H!==null;){switch(g=H,S=g.child,g.tag){case 0:case 11:case 14:case 15:Kl(4,g,g.return);break;case 1:pl(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){l=g,n=g.return;try{t=l,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(L){He(l,n,L)}}break;case 5:pl(g,g.return);break;case 22:if(g.memoizedState!==null){tc(v);continue}}S!==null?(S.return=g,H=S):tc(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{r=v.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Dc("display",a))}catch(L){He(e,e.return,L)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(L){He(e,e.return,L)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Xt(t,e),ln(e),l&4&&qo(e);break;case 21:break;default:Xt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ad(n)){var l=n;break e}n=n.return}throw Error(P(160))}switch(l.tag){case 5:var r=l.stateNode;l.flags&32&&(er(r,""),l.flags&=-33);var i=Jo(e);Ji(e,i,r);break;case 3:case 4:var a=l.stateNode.containerInfo,o=Jo(e);Zi(e,o,a);break;default:throw Error(P(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bp(e,t,n){H=e,ud(e)}function ud(e,t,n){for(var l=(e.mode&1)!==0;H!==null;){var r=H,i=r.child;if(r.tag===22&&l){var a=r.memoizedState!==null||Dr;if(!a){var o=r.alternate,c=o!==null&&o.memoizedState!==null||mt;o=Dr;var d=mt;if(Dr=a,(mt=c)&&!d)for(H=r;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?nc(r):c!==null?(c.return=a,H=c):nc(r);for(;i!==null;)H=i,ud(i),i=i.sibling;H=r,Dr=o,mt=d}ec(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,H=i):ec(e)}}function ec(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||Ms(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!mt)if(n===null)l.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);l.componentDidUpdate(r,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$o(t,i,l);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$o(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&rr(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}mt||t.flags&512&&Ki(t)}catch(g){He(t,t.return,g)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function tc(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function nc(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ms(4,t)}catch(c){He(t,n,c)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var r=t.return;try{l.componentDidMount()}catch(c){He(t,r,c)}}var i=t.return;try{Ki(t)}catch(c){He(t,i,c)}break;case 5:var a=t.return;try{Ki(t)}catch(c){He(t,a,c)}}}catch(c){He(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var Fp=Math.ceil,ys=gn.ReactCurrentDispatcher,Oa=gn.ReactCurrentOwner,Wt=gn.ReactCurrentBatchConfig,he=0,rt=null,Ke=null,at=0,Rt=0,ml=An(0),et=0,hr=null,Zn=0,zs=0,Ua=0,Zl=null,Ct=null,Ha=0,Tl=1/0,cn=null,gs=!1,qi=null,Rn=null,br=!1,Tn=null,xs=0,Jl=0,ea=null,Qr=-1,Kr=0;function jt(){return he&6?Ye():Qr!==-1?Qr:Qr=Ye()}function In(e){return e.mode&1?he&2&&at!==0?at&-at:jp.transition!==null?(Kr===0&&(Kr=Xc()),Kr):(e=xe,e!==0||(e=window.event,e=e===void 0?16:tu(e.type)),e):1}function qt(e,t,n,l){if(50<Jl)throw Jl=0,ea=null,Error(P(185));yr(e,n,l),(!(he&2)||e!==rt)&&(e===rt&&(!(he&2)&&(zs|=n),et===4&&Cn(e,at)),Pt(e,l),n===1&&he===0&&!(t.mode&1)&&(Tl=Ye()+500,_s&&On()))}function Pt(e,t){var n=e.callbackNode;jf(e,t);var l=ns(e,e===rt?at:0);if(l===0)n!==null&&uo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&uo(n),t===1)e.tag===0?xp(lc.bind(null,e)):ju(lc.bind(null,e)),hp(function(){!(he&6)&&On()}),n=null;else{switch(Qc(l)){case 1:n=ma;break;case 4:n=Yc;break;case 16:n=ts;break;case 536870912:n=Gc;break;default:n=ts}n=gd(n,dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dd(e,t){if(Qr=-1,Kr=0,he&6)throw Error(P(327));var n=e.callbackNode;if(jl()&&e.callbackNode!==n)return null;var l=ns(e,e===rt?at:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=js(e,l);else{t=l;var r=he;he|=2;var i=pd();(rt!==e||at!==t)&&(cn=null,Tl=Ye()+500,Yn(e,t));do try{Op();break}catch(o){fd(e,o)}while(!0);Ta(),ys.current=i,he=r,Ke!==null?t=0:(rt=null,at=0,t=et)}if(t!==0){if(t===2&&(r=Ti(e),r!==0&&(l=r,t=ta(e,r))),t===1)throw n=hr,Yn(e,0),Cn(e,l),Pt(e,Ye()),n;if(t===6)Cn(e,l);else{if(r=e.current.alternate,!(l&30)&&!$p(r)&&(t=js(e,l),t===2&&(i=Ti(e),i!==0&&(l=i,t=ta(e,i))),t===1))throw n=hr,Yn(e,0),Cn(e,l),Pt(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=l,t){case 0:case 1:throw Error(P(345));case 2:Hn(e,Ct,cn);break;case 3:if(Cn(e,l),(l&130023424)===l&&(t=Ha+500-Ye(),10<t)){if(ns(e,0)!==0)break;if(r=e.suspendedLanes,(r&l)!==l){jt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Di(Hn.bind(null,e,Ct,cn),t);break}Hn(e,Ct,cn);break;case 4:if(Cn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,r=-1;0<l;){var a=31-Jt(l);i=1<<a,a=t[a],a>r&&(r=a),l&=~i}if(l=r,l=Ye()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Fp(l/1960))-l,10<l){e.timeoutHandle=Di(Hn.bind(null,e,Ct,cn),l);break}Hn(e,Ct,cn);break;case 5:Hn(e,Ct,cn);break;default:throw Error(P(329))}}}return Pt(e,Ye()),e.callbackNode===n?dd.bind(null,e):null}function ta(e,t){var n=Zl;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=js(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&na(t)),e}function na(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function $p(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var r=n[l],i=r.getSnapshot;r=r.value;try{if(!en(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~Ua,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),l=1<<n;e[n]=-1,t&=~l}}function lc(e){if(he&6)throw Error(P(327));jl();var t=ns(e,0);if(!(t&1))return Pt(e,Ye()),null;var n=js(e,t);if(e.tag!==0&&n===2){var l=Ti(e);l!==0&&(t=l,n=ta(e,l))}if(n===1)throw n=hr,Yn(e,0),Cn(e,t),Pt(e,Ye()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,Ct,cn),Pt(e,Ye()),null}function Wa(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(Tl=Ye()+500,_s&&On())}}function Jn(e){Tn!==null&&Tn.tag===0&&!(he&6)&&jl();var t=he;he|=1;var n=Wt.transition,l=xe;try{if(Wt.transition=null,xe=1,e)return e()}finally{xe=l,Wt.transition=n,he=t,!(he&6)&&On()}}function Ba(){Rt=ml.current,_e(ml)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mp(n)),Ke!==null)for(n=Ke.return;n!==null;){var l=n;switch(ka(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&as();break;case 3:Cl(),_e(Tt),_e(ht),Ra();break;case 5:za(l);break;case 4:Cl();break;case 13:_e(De);break;case 19:_e(De);break;case 10:_a(l.type._context);break;case 22:case 23:Ba()}n=n.return}if(rt=e,Ke=e=Dn(e.current,null),at=Rt=t,et=0,hr=null,Ua=zs=Zn=0,Ct=Zl=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],l=n.interleaved,l!==null){n.interleaved=null;var r=l.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,l.next=a}n.pending=l}Bn=null}return e}function fd(e,t){do{var n=Ke;try{if(Ta(),Yr.current=vs,hs){for(var l=be.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}hs=!1}if(Kn=0,lt=qe=be=null,Ql=!1,fr=0,Oa.current=null,n===null||n.return===null){et=1,hr=t,Ke=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=at,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,y=o,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var S=Bo(a);if(S!==null){S.flags&=-257,Vo(S,a,o,i,t),S.mode&1&&Wo(i,d,t),t=S,c=d;var C=t.updateQueue;if(C===null){var L=new Set;L.add(c),t.updateQueue=L}else C.add(c);break e}else{if(!(t&1)){Wo(i,d,t),Va();break e}c=Error(P(426))}}else if(ze&&o.mode&1){var X=Bo(a);if(X!==null){!(X.flags&65536)&&(X.flags|=256),Vo(X,a,o,i,t),Ca(El(c,o));break e}}i=c=El(c,o),et!==4&&(et=2),Zl===null?Zl=[i]:Zl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Qu(i,c,t);Fo(i,p);break e;case 1:o=c;var u=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rn===null||!Rn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var h=Ku(i,o,t);Fo(i,h);break e}}i=i.return}while(i!==null)}hd(n)}catch(E){t=E,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function pd(){var e=ys.current;return ys.current=vs,e===null?vs:e}function Va(){(et===0||et===3||et===2)&&(et=4),rt===null||!(Zn&268435455)&&!(zs&268435455)||Cn(rt,at)}function js(e,t){var n=he;he|=2;var l=pd();(rt!==e||at!==t)&&(cn=null,Yn(e,t));do try{Ap();break}catch(r){fd(e,r)}while(!0);if(Ta(),he=n,ys.current=l,Ke!==null)throw Error(P(261));return rt=null,at=0,et}function Ap(){for(;Ke!==null;)md(Ke)}function Op(){for(;Ke!==null&&!df();)md(Ke)}function md(e){var t=yd(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?hd(e):Ke=t,Oa.current=null}function hd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rp(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ke=null;return}}else if(n=zp(n,t,Rt),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);et===0&&(et=5)}function Hn(e,t,n){var l=xe,r=Wt.transition;try{Wt.transition=null,xe=1,Up(e,t,n,l)}finally{Wt.transition=r,xe=l}return null}function Up(e,t,n,l){do jl();while(Tn!==null);if(he&6)throw Error(P(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nf(e,i),e===rt&&(Ke=rt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||br||(br=!0,gd(ts,function(){return jl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wt.transition,Wt.transition=null;var a=xe;xe=1;var o=he;he|=4,Oa.current=null,Dp(e,n),cd(n,e),ap(Ri),ls=!!zi,Ri=zi=null,e.current=n,bp(n),ff(),he=o,xe=a,Wt.transition=i}else e.current=n;if(br&&(br=!1,Tn=e,xs=r),i=e.pendingLanes,i===0&&(Rn=null),hf(n.stateNode),Pt(e,Ye()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],l(r.value,{componentStack:r.stack,digest:r.digest});if(gs)throw gs=!1,e=qi,qi=null,e;return xs&1&&e.tag!==0&&jl(),i=e.pendingLanes,i&1?e===ea?Jl++:(Jl=0,ea=e):Jl=0,On(),null}function jl(){if(Tn!==null){var e=Qc(xs),t=Wt.transition,n=xe;try{if(Wt.transition=null,xe=16>e?16:e,Tn===null)var l=!1;else{if(e=Tn,Tn=null,xs=0,he&6)throw Error(P(331));var r=he;for(he|=4,H=e.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(H=d;H!==null;){var y=H;switch(y.tag){case 0:case 11:case 15:Kl(8,y,i)}var v=y.child;if(v!==null)v.return=y,H=v;else for(;H!==null;){y=H;var g=y.sibling,S=y.return;if(id(y),y===d){H=null;break}if(g!==null){g.return=S,H=g;break}H=S}}}var C=i.alternate;if(C!==null){var L=C.child;if(L!==null){C.child=null;do{var X=L.sibling;L.sibling=null,L=X}while(L!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kl(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,H=p;break e}H=i.return}}var u=e.current;for(H=u;H!==null;){a=H;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,H=m;else e:for(a=u;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ms(9,o)}}catch(E){He(o,o.return,E)}if(o===a){H=null;break e}var h=o.sibling;if(h!==null){h.return=o.return,H=h;break e}H=o.return}}if(he=r,On(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ss,e)}catch{}l=!0}return l}finally{xe=n,Wt.transition=t}}return!1}function rc(e,t,n){t=El(n,t),t=Qu(e,t,1),e=zn(e,t,1),t=jt(),e!==null&&(yr(e,1,t),Pt(e,t))}function He(e,t,n){if(e.tag===3)rc(e,e,n);else for(;t!==null;){if(t.tag===3){rc(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rn===null||!Rn.has(l))){e=El(n,e),e=Ku(t,e,1),t=zn(t,e,1),e=jt(),t!==null&&(yr(t,1,e),Pt(t,e));break}}t=t.return}}function Hp(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(at&n)===n&&(et===4||et===3&&(at&130023424)===at&&500>Ye()-Ha?Yn(e,0):Ua|=n),Pt(e,t)}function vd(e,t){t===0&&(e.mode&1?(t=Er,Er<<=1,!(Er&130023424)&&(Er=4194304)):t=1);var n=jt();e=vn(e,t),e!==null&&(yr(e,t,n),Pt(e,n))}function Wp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vd(e,n)}function Bp(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(P(314))}l!==null&&l.delete(t),vd(e,n)}var yd;yd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)Et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Et=!1,Mp(e,t,n);Et=!!(e.flags&131072)}else Et=!1,ze&&t.flags&1048576&&Nu(t,us,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Xr(e,t),e=t.pendingProps;var r=wl(t,ht.current);xl(t,n),r=Da(null,t,l,e,r,n);var i=ba();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(l)?(i=!0,os(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,La(t),r.updater=Ls,t.stateNode=r,r._reactInternals=t,Hi(t,l,e,n),t=Vi(null,t,l,!0,i,n)):(t.tag=0,ze&&i&&Sa(t),xt(null,t,r,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Xr(e,t),e=t.pendingProps,r=l._init,l=r(l._payload),t.type=l,r=t.tag=Yp(l),e=Qt(l,e),r){case 0:t=Bi(null,t,l,e,n);break e;case 1:t=Xo(null,t,l,e,n);break e;case 11:t=Yo(null,t,l,e,n);break e;case 14:t=Go(null,t,l,Qt(l.type,e),n);break e}throw Error(P(306,l,""))}return t;case 0:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Qt(l,r),Bi(e,t,l,r,n);case 1:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Qt(l,r),Xo(e,t,l,r,n);case 3:e:{if(ed(t),e===null)throw Error(P(387));l=t.pendingProps,i=t.memoizedState,r=i.element,Tu(e,t),ps(t,l,null,n);var a=t.memoizedState;if(l=a.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=El(Error(P(423)),t),t=Qo(e,t,l,n,r);break e}else if(l!==r){r=El(Error(P(424)),t),t=Qo(e,t,l,n,r);break e}else for(It=Mn(t.stateNode.containerInfo.firstChild),Dt=t,ze=!0,Zt=null,n=Cu(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),l===r){t=yn(e,t,n);break e}xt(e,t,l,n)}t=t.child}return t;case 5:return _u(t),e===null&&Ai(t),l=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,a=r.children,Ii(l,r)?a=null:i!==null&&Ii(l,i)&&(t.flags|=32),qu(e,t),xt(e,t,a,n),t.child;case 6:return e===null&&Ai(t),null;case 13:return td(e,t,n);case 4:return Ma(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=kl(t,null,l,n):xt(e,t,l,n),t.child;case 11:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Qt(l,r),Yo(e,t,l,r,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,r=t.pendingProps,i=t.memoizedProps,a=r.value,Ce(ds,l._currentValue),l._currentValue=a,i!==null)if(en(i.value,a)){if(i.children===r.children&&!Tt.current){t=yn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===l){if(i.tag===1){c=pn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?c.next=c:(c.next=y.next,y.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Oi(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(P(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Oi(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}xt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,l=t.pendingProps.children,xl(t,n),r=Bt(r),l=l(r),t.flags|=1,xt(e,t,l,n),t.child;case 14:return l=t.type,r=Qt(l,t.pendingProps),r=Qt(l.type,r),Go(e,t,l,r,n);case 15:return Zu(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Qt(l,r),Xr(e,t),t.tag=1,_t(l)?(e=!0,os(t)):e=!1,xl(t,n),Xu(t,l,r),Hi(t,l,r,n),Vi(null,t,l,!0,e,n);case 19:return nd(e,t,n);case 22:return Ju(e,t,n)}throw Error(P(156,t.tag))};function gd(e,t){return Vc(e,t)}function Vp(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,l){return new Vp(e,t,n,l)}function Ya(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yp(e){if(typeof e=="function")return Ya(e)?1:0;if(e!=null){if(e=e.$$typeof,e===da)return 11;if(e===fa)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zr(e,t,n,l,r,i){var a=2;if(l=e,typeof e=="function")Ya(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rl:return Gn(n.children,r,i,t);case ua:a=8,r|=8;break;case fi:return e=Ht(12,n,t,r|2),e.elementType=fi,e.lanes=i,e;case pi:return e=Ht(13,n,t,r),e.elementType=pi,e.lanes=i,e;case mi:return e=Ht(19,n,t,r),e.elementType=mi,e.lanes=i,e;case _c:return Rs(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ec:a=10;break e;case Tc:a=9;break e;case da:a=11;break e;case fa:a=14;break e;case wn:a=16,l=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ht(a,n,t,r),t.elementType=e,t.type=l,t.lanes=i,t}function Gn(e,t,n,l){return e=Ht(7,e,l,t),e.lanes=n,e}function Rs(e,t,n,l){return e=Ht(22,e,l,t),e.elementType=_c,e.lanes=n,e.stateNode={isHidden:!1},e}function oi(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function ci(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gp(e,t,n,l,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ws(0),this.expirationTimes=Ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ga(e,t,n,l,r,i,a,o,c){return e=new Gp(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(i),e}function Xp(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function xd(e){if(!e)return Fn;e=e._reactInternals;e:{if(el(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(_t(n))return xu(e,n,t)}return t}function jd(e,t,n,l,r,i,a,o,c){return e=Ga(n,l,!0,e,r,i,a,o,c),e.context=xd(null),n=e.current,l=jt(),r=In(n),i=pn(l,r),i.callback=t??null,zn(n,i,r),e.current.lanes=r,yr(e,r,l),Pt(e,l),e}function Is(e,t,n,l){var r=t.current,i=jt(),a=In(r);return n=xd(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,a),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=zn(r,t,a),e!==null&&(qt(e,r,a,i),Vr(e,r,a)),a}function Ns(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xa(e,t){sc(e,t),(e=e.alternate)&&sc(e,t)}function Qp(){return null}var Nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qa(e){this._internalRoot=e}Ds.prototype.render=Qa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Is(e,t,null,null)};Ds.prototype.unmount=Qa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Is(null,e,null,null)}),t[hn]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&eu(e)}};function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function Kp(e,t,n,l,r){if(r){if(typeof l=="function"){var i=l;l=function(){var d=Ns(a);i.call(d)}}var a=jd(t,l,e,0,null,!1,!1,"",ic);return e._reactRootContainer=a,e[hn]=a.current,ar(e.nodeType===8?e.parentNode:e),Jn(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof l=="function"){var o=l;l=function(){var d=Ns(c);o.call(d)}}var c=Ga(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=c,e[hn]=c.current,ar(e.nodeType===8?e.parentNode:e),Jn(function(){Is(t,c,n,l)}),c}function Fs(e,t,n,l,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var o=r;r=function(){var c=Ns(a);o.call(c)}}Is(t,a,e,r)}else a=Kp(n,t,e,r,l);return Ns(a)}Kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hl(t.pendingLanes);n!==0&&(ha(t,n|1),Pt(t,Ye()),!(he&6)&&(Tl=Ye()+500,On()))}break;case 13:Jn(function(){var l=vn(e,1);if(l!==null){var r=jt();qt(l,e,1,r)}}),Xa(e,1)}};va=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=jt();qt(t,e,134217728,n)}Xa(e,134217728)}};Zc=function(e){if(e.tag===13){var t=In(e),n=vn(e,t);if(n!==null){var l=jt();qt(n,e,t,l)}Xa(e,t)}};Jc=function(){return xe};qc=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};ki=function(e,t,n){switch(t){case"input":if(yi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=Ts(l);if(!r)throw Error(P(90));Lc(l),yi(l,r)}}}break;case"textarea":zc(e,n);break;case"select":t=n.value,t!=null&&hl(e,!!n.multiple,t,!1)}};Ac=Wa;Oc=Jn;var Zp={usingClientEntryPoint:!1,Events:[xr,ol,Ts,Fc,$c,Wa]},$l={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jp={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wc(e),e===null?null:e.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||Qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fr.isDisabled&&Fr.supportsFiber)try{Ss=Fr.inject(Jp),an=Fr}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zp;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka(t))throw Error(P(200));return Xp(e,t,null,n)};Ft.createRoot=function(e,t){if(!Ka(e))throw Error(P(299));var n=!1,l="",r=Nd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ga(e,1,!1,null,null,n,!1,l,r),e[hn]=t.current,ar(e.nodeType===8?e.parentNode:e),new Qa(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Wc(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return Jn(e)};Ft.hydrate=function(e,t,n){if(!bs(t))throw Error(P(200));return Fs(null,e,t,!0,n)};Ft.hydrateRoot=function(e,t,n){if(!Ka(e))throw Error(P(405));var l=n!=null&&n.hydratedSources||null,r=!1,i="",a=Nd;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=jd(t,null,e,1,n??null,r,!1,i,a),e[hn]=t.current,ar(e),l)for(e=0;e<l.length;e++)n=l[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ds(t)};Ft.render=function(e,t,n){if(!bs(t))throw Error(P(200));return Fs(null,e,t,!1,n)};Ft.unmountComponentAtNode=function(e){if(!bs(e))throw Error(P(40));return e._reactRootContainer?(Jn(function(){Fs(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};Ft.unstable_batchedUpdates=Wa;Ft.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!bs(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Fs(e,t,n,!1,l)};Ft.version="18.3.1-next-f1338f8080-20240426";function wd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wd)}catch(e){console.error(e)}}wd(),wc.exports=Ft;var qp=wc.exports,ac=qp;ui.createRoot=ac.createRoot,ui.hydrateRoot=ac.hydrateRoot;const $r={major:0,minor:2,patch:0,build:70};new Date().toISOString().split("T")[0];const Sd=()=>`v${$r.major}.${$r.minor}.${$r.patch} (build ${$r.build})`,em=(e=[],t={})=>{const{snapToGrid:n=!1,showGrid:l=!0,gridSize:r=50}=t,i=e.length>0?[...e.map((a,o)=>({id:`recent-${a.id}`,label:a.name})),{id:"divider-recent",type:"divider"},{id:"clear-recent",label:"Clear List"}]:[{id:"no-recent",label:"No recent projects",disabled:!0}];return{file:{label:"File",items:[{id:"new-project",label:"New Project...",shortcut:"Ctrl+N"},{id:"open-project",label:"Open Project..."},{id:"divider-1",type:"divider"},{id:"open-recent",label:"Open Recent",submenu:i},{id:"divider-2",type:"divider"},{id:"save",label:"Save",shortcut:"Ctrl+S"},{id:"save-as",label:"Save As..."},{id:"divider-3",type:"divider"},{id:"import",label:"Import",submenu:[{id:"import-level",label:"Level (.json)"},{id:"import-entity",label:"Entity Pack"},{id:"import-asset",label:"Asset Bundle"},{id:"import-template",label:"AI Template"}]},{id:"export",label:"Export",submenu:[{id:"export-level",label:"Level"},{id:"export-project",label:"Full Project"},{id:"divider-e1",type:"divider"},{id:"export-unity",label:"Unity Package"},{id:"export-godot",label:"Godot Package"},{id:"export-unreal",label:"Unreal Package"}]},{id:"divider-4",type:"divider"},{id:"project-settings",label:"Project Settings..."},{id:"divider-5",type:"divider"},{id:"exit",label:"Exit"}]},edit:{label:"Edit",items:[{id:"undo",label:"Undo",shortcut:"Ctrl+Z"},{id:"redo",label:"Redo",shortcut:"Ctrl+Y"},{id:"divider-1",type:"divider"},{id:"cut",label:"Cut",shortcut:"Ctrl+X"},{id:"copy",label:"Copy",shortcut:"Ctrl+C"},{id:"paste",label:"Paste",shortcut:"Ctrl+V"},{id:"duplicate",label:"Duplicate",shortcut:"Ctrl+D"},{id:"delete",label:"Delete",shortcut:"Del"},{id:"divider-2",type:"divider"},{id:"snap-to-grid",label:"Snap to Grid",toggle:n},{id:"grid-options",label:"Grid Options",submenu:[{id:"toggle-grid",label:"Show Grid",toggle:l},{id:"divider-g1",type:"divider"},{id:"grid-size-10",label:"Small (10px)",toggle:r===10},{id:"grid-size-25",label:"Medium (25px)",toggle:r===25},{id:"grid-size-50",label:"Large (50px)",toggle:r===50},{id:"grid-size-100",label:"Extra Large (100px)",toggle:r===100}]},{id:"divider-3",type:"divider"},{id:"find",label:"Find...",shortcut:"Ctrl+F"},{id:"replace",label:"Replace...",shortcut:"Ctrl+H"},{id:"divider-4",type:"divider"},{id:"preferences",label:"Preferences..."}]},view:{label:"View",items:[{id:"panels",label:"Panels",submenu:[{id:"toggle-inspector",label:"Inspector",shortcut:"Ctrl+I",toggle:!0},{id:"toggle-console",label:"Console",shortcut:"Ctrl+`",toggle:!0},{id:"toggle-suggestions",label:"AI Suggestions"},{id:"toggle-assets",label:"Asset Browser"},{id:"toggle-history",label:"History"}]},{id:"layout",label:"Layout",submenu:[{id:"layout-default",label:"Default"},{id:"layout-level-design",label:"Level Design"},{id:"layout-ai-tuning",label:"AI Tuning"},{id:"divider-l1",type:"divider"},{id:"layout-custom",label:"Custom..."},{id:"layout-save",label:"Save Current Layout"}]},{id:"divider-1",type:"divider"},{id:"zoom-in",label:"Zoom In",shortcut:"Ctrl++"},{id:"zoom-out",label:"Zoom Out",shortcut:"Ctrl+-"},{id:"reset-zoom",label:"Reset Zoom",shortcut:"Ctrl+0"},{id:"divider-2",type:"divider"},{id:"fullscreen",label:"Toggle Fullscreen",shortcut:"F11"}]},entities:{label:"Entities",items:[{id:"create",label:"Create",submenu:[{id:"create-actor",label:"Actor"},{id:"create-item",label:"Item"},{id:"create-terrain",label:"Terrain"},{id:"create-behavior",label:"AI Behavior"},{id:"create-script",label:"Script"}]},{id:"convert-type",label:"Convert Type..."},{id:"divider-1",type:"divider"},{id:"validate",label:"Validate Entities"},{id:"bulk-edit",label:"Bulk Edit..."},{id:"divider-2",type:"divider"},{id:"schema-editor",label:"Entity Schema Editor..."}]},levels:{label:"Levels",items:[{id:"new-level",label:"New Level..."},{id:"duplicate-level",label:"Duplicate Level"},{id:"divider-1",type:"divider"},{id:"validate-level",label:"Validate Level"},{id:"generate-ai",label:"Generate With AI...",shortcut:"Ctrl+G"},{id:"divider-2",type:"divider"},{id:"analyze-difficulty",label:"Analyze Difficulty"},{id:"playtest",label:"Playtest Simulation"},{id:"divider-3",type:"divider"},{id:"level-settings",label:"Level Settings..."}]},ai:{label:"AI",items:[{id:"generate",label:"Generate",submenu:[{id:"gen-level",label:"Level"},{id:"gen-enemies",label:"Enemy Set"},{id:"gen-encounter",label:"Encounter"},{id:"gen-loot",label:"Loot Table"},{id:"gen-campaign",label:"Full Campaign"}]},{id:"divider-1",type:"divider"},{id:"prompt-templates",label:"Prompt Templates..."},{id:"model-settings",label:"Model Settings..."},{id:"training-data",label:"Training Data..."},{id:"divider-2",type:"divider"},{id:"history",label:"Generation History"},{id:"cost-usage",label:"Cost / Token Usage"},{id:"divider-3",type:"divider"},{id:"api-config",label:"API Configuration..."}]},tools:{label:"Tools",items:[{id:"schema-validator",label:"Schema Validator"},{id:"dependency-graph",label:"Dependency Graph"},{id:"performance",label:"Performance Analyzer"},{id:"json-viewer",label:"JSON Viewer"},{id:"divider-1",type:"divider"},{id:"plugin-manager",label:"Plugin Manager..."},{id:"script-console",label:"Script Console"}]},help:{label:"Help",items:[{id:"documentation",label:"Documentation"},{id:"tutorials",label:"Tutorials"},{id:"shortcuts",label:"Keyboard Shortcuts"},{id:"divider-1",type:"divider"},{id:"check-updates",label:"Check for Updates"},{id:"report-issue",label:"Report Issue (GitHub)"},{id:"divider-2",type:"divider"},{id:"about",label:"About LevelForge AI"}]}}};function tm({children:e,activeTab:t,onTabChange:n,onMenuAction:l,selectedItem:r,inspectorContent:i,consoleLogs:a,onClearConsole:o,showInspector:c,showConsole:d,onToggleInspector:y,onToggleConsole:v,onEditItem:g,onRenameLevel:S,onDeleteLevel:C,recentProjects:L=[],projects:X=[],showProjectModal:p,onCloseProjectModal:u,onSelectProject:m,forceShowConsole:h=!1,onConsoleShown:E,canUndo:_=!1,canRedo:w=!1,onUndo:j,onRedo:F,historyInfo:A=null,currentProject:le,showAboutModal:ke,onCloseAboutModal:J,snapToGrid:ct=!1,showGrid:We=!0,gridSize:St=50}){const[je,b]=f.useState(c??!0),[U,Y]=f.useState(d??!1),[re,Z]=f.useState(null),[Ne,Pe]=f.useState(null),[se,Re]=f.useState("console"),Le=f.useRef(null),tt=f.useRef(null),[$e,vt]=f.useState(320),[ut,pe]=f.useState(180),[Ge,Be]=f.useState(!1),[Ae,Ze]=f.useState(""),B=f.useRef(null),M=f.useRef(!1),ie=f.useRef(!1),z=!!le,$=[{id:"dashboard",label:"Dashboard",icon:"",shortcut:"1",disabled:!1},{id:"entities",label:"Entities",icon:"",shortcut:"2",disabled:!z},{id:"levels",label:"Levels",icon:"",shortcut:"3",disabled:!z},{id:"library",label:"Library",icon:"",shortcut:"4",disabled:!z},{id:"ai-tools",label:"AI Tools",icon:"",shortcut:"5",disabled:!z},{id:"settings",label:"Settings",icon:"",shortcut:"6",disabled:!1}];f.useEffect(()=>{const T=W=>{tt.current&&!tt.current.contains(W.target)&&(Z(null),Pe(null))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]),f.useEffect(()=>{Ge&&B.current&&(B.current.focus(),B.current.select())},[Ge]);const Xe=f.useCallback(()=>{!S||(r==null?void 0:r.type)!=="Level"||(Ze(r.name),Be(!0))},[r,S]),de=f.useCallback(T=>{Ze(T.target.value)},[]),ve=f.useCallback(T=>{if(T.key==="Enter"){const W=Ae.trim();W&&W!==(r==null?void 0:r.name)&&S&&S({...r,name:W}),Be(!1)}else T.key==="Escape"&&Be(!1);T.stopPropagation()},[Ae,r,S]),we=f.useCallback(()=>{const T=Ae.trim();T&&T!==(r==null?void 0:r.name)&&S&&S({...r,name:T}),Be(!1)},[Ae,r,S]);f.useEffect(()=>{h&&!U&&(Y(!0),E&&E())},[h]),f.useEffect(()=>{const T=W=>{if((W.ctrlKey||W.metaKey)&&W.key>="1"&&W.key<="6"){W.preventDefault();const ye=parseInt(W.key)-1;$[ye]&&n($[ye].id)}(W.ctrlKey||W.metaKey)&&W.key==="i"&&(W.preventDefault(),b(ye=>!ye),y&&y()),(W.ctrlKey||W.metaKey)&&W.key==="`"&&(W.preventDefault(),Y(ye=>!ye),v&&v()),W.key==="Escape"&&(Z(null),Pe(null)),(W.ctrlKey||W.metaKey)&&W.key==="g"&&(W.preventDefault(),l&&l("generate-ai","levels")),(W.ctrlKey||W.metaKey)&&W.key==="s"&&(W.preventDefault(),l&&l("save","file"))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[n,$,l,y,v]),f.useEffect(()=>{Le.current&&U&&(Le.current.scrollTop=Le.current.scrollHeight)},[a,U]);const D=f.useCallback(T=>{T.preventDefault(),M.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]),Se=f.useCallback(T=>{T.preventDefault(),ie.current=!0,document.body.style.cursor="row-resize",document.body.style.userSelect="none"},[]);f.useEffect(()=>{const T=ye=>{if(M.current){const kt=window.innerWidth-ye.clientX;vt(Math.max(250,Math.min(500,kt)))}if(ie.current){const kt=window.innerHeight-ye.clientY;pe(Math.max(100,Math.min(400,kt)))}},W=()=>{(M.current||ie.current)&&(M.current=!1,ie.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",T),document.addEventListener("mouseup",W),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",W)}},[]);const V=T=>{Z(re===T?null:T),Pe(null)},yt=(T,W)=>{l&&l(T,W),Z(null),Pe(null)},st=T=>{Pe(T)},Je=(T,W)=>{if(T.type==="divider")return s.jsx("div",{className:"menu-divider"},T.id);const ye=T.submenu&&T.submenu.length>0,kt=Ne===T.id;return s.jsxs("div",{className:`menu-item ${ye?"has-submenu":""} ${kt?"active":""}`,onClick:()=>!ye&&yt(T.id,W),onMouseEnter:()=>ye&&st(T.id),children:[s.jsx("span",{className:"menu-item-label",children:T.label}),T.shortcut&&s.jsx("span",{className:"menu-item-shortcut",children:T.shortcut}),T.toggle!==void 0&&s.jsx("span",{className:"menu-item-toggle",children:T.toggle?"":""}),ye&&s.jsx("span",{className:"menu-item-arrow",children:""}),ye&&kt&&s.jsx("div",{className:"submenu",children:T.submenu.map(R=>Je(R,W))})]},T.id)};return s.jsxs("div",{className:"app-layout",children:[s.jsxs("header",{className:"top-menu",children:[s.jsxs("div",{className:"menu-left",children:[s.jsx("span",{className:"logo",children:" LevelForge"}),s.jsx("nav",{className:"menu-bar",ref:tt,children:Object.entries(em(L,{snapToGrid:ct,showGrid:We,gridSize:St})).map(([T,W])=>s.jsxs("div",{className:"menu-container",children:[s.jsx("button",{className:`menu-btn ${re===T?"active":""}`,onClick:()=>V(T),children:W.label}),re===T&&s.jsx("div",{className:"menu-dropdown",children:W.items.map(ye=>Je(ye,T))})]},T))}),r&&s.jsxs("span",{className:"context-info",children:[s.jsx("span",{className:"context-separator",children:""}),s.jsx("span",{className:"context-name",children:r.name||r.type||"Item"})]})]}),s.jsx("div",{className:"menu-spacer"}),s.jsxs("div",{className:"menu-right",children:[s.jsx("button",{className:`icon-btn ${je?"active":""}`,onClick:()=>{b(!je),y&&y()},title:"Toggle Inspector (Ctrl+I)",children:""}),s.jsx("button",{className:`icon-btn ${U?"active":""}`,onClick:()=>{Y(!U),v&&v()},title:"Toggle Console (Ctrl+`)",children:""}),s.jsx("button",{className:"profile-btn",title:"Profile",children:""})]})]}),s.jsxs("nav",{className:"main-tabs",children:[$.map(T=>s.jsxs("button",{className:`tab-btn ${t===T.id?"active":""} ${T.disabled?"disabled":""}`,onClick:()=>!T.disabled&&n(T.id),title:T.disabled?"Select a project first":`Ctrl+${T.shortcut}`,disabled:T.disabled,children:[s.jsx("span",{className:"tab-icon",children:T.icon}),s.jsx("span",{className:"tab-label",children:T.label})]},T.id)),s.jsx("div",{className:"tabs-spacer"}),s.jsxs("div",{className:"tabs-shortcuts",children:[s.jsx("kbd",{children:"Ctrl+1-6"})," tabs  ",s.jsx("kbd",{children:"Ctrl+G"})," generate  ",s.jsx("kbd",{children:"Ctrl+I"})," inspector"]})]}),s.jsxs("div",{className:"main-content",children:[s.jsx("div",{className:"content-area",children:e}),je&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"resize-handle-vertical",onMouseDown:D}),s.jsxs("aside",{className:"inspector-panel",style:{width:$e},children:[s.jsxs("div",{className:"panel-header",children:[s.jsx("h3",{children:"Inspector"}),s.jsxs("div",{className:"panel-header-actions",children:[r&&r.type==="Entity"&&!i&&g&&s.jsx("button",{className:"btn-small",onClick:()=>g(r),children:"Edit"}),r&&r.type==="Level"&&!i&&C&&s.jsx("button",{className:"btn-small btn-danger",onClick:()=>C(r),children:"Delete"}),s.jsx("button",{className:"panel-close",onClick:()=>{b(!1),y&&y()},title:"Close (Ctrl+I)",children:""})]})]}),s.jsx("div",{className:"panel-content",children:i||(r?s.jsxs("div",{className:"inspector-default",children:[s.jsxs("div",{className:"inspector-item-header",children:[r.emoji?s.jsx("span",{className:"inspector-icon",children:r.emoji}):r.type==="Level"?s.jsx("span",{className:"inspector-icon",children:""}):r.category?s.jsxs("span",{className:"inspector-icon",children:[r.category==="textures"&&"",r.category==="models"&&"",r.category==="audio"&&"",r.category==="scripts"&&"",r.category==="templates"&&""]}):null,Ge&&r.type==="Level"?s.jsx("input",{ref:B,type:"text",className:"inspector-name-input",value:Ae,onChange:de,onKeyDown:ve,onBlur:we,onClick:T=>T.stopPropagation()}):s.jsx("h4",{className:r.type==="Level"&&S?"editable-name":"",onClick:Xe,title:r.type==="Level"&&S?"Click to rename":void 0,children:r.name||"Selected Item"})]}),r.description&&s.jsx("p",{className:"inspector-desc",children:r.description}),s.jsx("div",{className:"inspector-meta",children:Object.entries(r).map(([T,W])=>["id","emoji","name","description","category","typeLabel","type"].includes(T)||typeof W=="object"?null:s.jsxs("div",{className:"meta-row",children:[s.jsxs("span",{className:"meta-key",children:[T,":"]}),s.jsx("span",{className:"meta-value",children:String(W)})]},T))})]}):s.jsxs("div",{className:"inspector-empty",children:[s.jsx("span",{className:"empty-icon",children:""}),s.jsx("p",{children:"Select an item to inspect"})]}))})]})]})]}),U&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"resize-handle-horizontal",onMouseDown:Se}),s.jsxs("div",{className:"console-panel",style:{height:ut},children:[s.jsxs("div",{className:"console-header",children:[s.jsxs("div",{className:"console-tabs",children:[s.jsx("button",{className:`console-tab ${se==="console"?"active":""}`,onClick:()=>Re("console"),children:"Console"}),s.jsx("button",{className:`console-tab ${se==="ai-output"?"active":""}`,onClick:()=>Re("ai-output"),children:"AI Output"}),s.jsx("button",{className:`console-tab ${se==="logs"?"active":""}`,onClick:()=>Re("logs"),children:"Logs"})]}),s.jsxs("div",{className:"console-actions",children:[s.jsx("button",{onClick:o,title:"Clear",children:""}),s.jsx("button",{onClick:()=>{Y(!1),v&&v()},title:"Close",children:""})]})]}),s.jsx("div",{className:"console-content",ref:Le,children:(()=>{const T=a&&a.filter(W=>se==="console"?["info","warning","error"].includes(W.type):se==="ai-output"?["success","ai-progress","ai-response","generation"].includes(W.type):se==="logs"?["system","debug","log"].includes(W.type)||!W.type:!0);return T&&T.length>0?T.map((W,ye)=>s.jsxs("div",{className:`console-line ${W.type||"info"}`,children:[s.jsx("span",{className:"console-time",children:W.time}),s.jsx("span",{className:"console-message",children:W.message})]},ye)):s.jsxs("div",{className:"console-empty",children:[se==="console"&&s.jsx("p",{children:"No console output yet."}),se==="ai-output"&&s.jsx("p",{children:"No AI output yet. Generate a level to see progress."}),se==="logs"&&s.jsx("p",{children:"No system logs yet."})]})})()})]})]}),p&&s.jsx("div",{className:"modal-overlay",onClick:u,children:s.jsxs("div",{className:"modal",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Open Project"}),s.jsx("button",{className:"modal-close",onClick:u,children:""})]}),s.jsx("div",{className:"modal-content",children:X&&X.length>0?s.jsx("div",{className:"project-list",children:X.map(T=>s.jsxs("div",{className:"project-item",onClick:()=>{m(T),u()},children:[s.jsx("div",{className:"project-icon",children:""}),s.jsxs("div",{className:"project-info",children:[s.jsx("h3",{children:T.name}),s.jsxs("p",{className:"project-date",children:["Created: ",new Date(T.created_at).toLocaleDateString()]}),T.description&&s.jsx("p",{className:"project-desc",children:T.description})]})]},T.id))}):s.jsxs("div",{className:"modal-empty",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("p",{children:"No projects found"}),s.jsx("p",{className:"hint",children:"Create a new project from the Dashboard"})]})})]})}),ke&&s.jsx("div",{className:"modal-overlay",onClick:J,children:s.jsxs("div",{className:"modal about-modal",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"About LevelForge AI"}),s.jsx("button",{className:"modal-close",onClick:J,children:""})]}),s.jsxs("div",{className:"modal-content",children:[s.jsx("div",{className:"about-logo",children:""}),s.jsx("h3",{children:"LevelForge AI"}),s.jsx("p",{className:"about-tagline",children:"AI-powered level design tool"}),s.jsxs("div",{className:"about-version",children:[s.jsx("span",{className:"version-label",children:"Version:"}),s.jsx("span",{className:"version-number",children:Sd()})]}),s.jsx("div",{className:"about-links",children:s.jsx("a",{href:"https://github.com/kire256/levelforge",target:"_blank",rel:"noopener noreferrer",children:"GitHub Repository"})}),s.jsx("div",{className:"about-description",children:s.jsx("p",{children:"LevelForge uses AI to generate platformer levels with entities, platforms, and tilemaps. Create, edit, and export levels for your games."})})]})]})})]})}function nm({projects:e,currentProject:t,onSelectProject:n,onCreateProject:l,onGenerateLevel:r}){const[i,a]=f.useState(null),o={totalProjects:e.length,totalLevels:0,aiRuns:0};return s.jsxs("div",{className:"dashboard",children:[s.jsxs("header",{className:"dashboard-header",children:[s.jsx("h1",{children:"Dashboard"}),s.jsx("p",{children:"Welcome back! Here's your LevelForge overview."}),s.jsx("span",{className:"version-badge",children:Sd()})]}),s.jsxs("div",{className:"stats-row",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-value",children:o.totalProjects}),s.jsx("span",{className:"stat-label",children:"Projects"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-value",children:o.totalLevels}),s.jsx("span",{className:"stat-label",children:"Levels"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-value",children:o.aiRuns}),s.jsx("span",{className:"stat-label",children:"AI Runs"})]})]}),s.jsxs("section",{className:"quick-actions",children:[s.jsx("h2",{children:"Quick Actions"}),s.jsxs("div",{className:"action-buttons",children:[s.jsxs("button",{className:"action-btn primary",onClick:r,children:[s.jsx("span",{className:"action-icon",children:""}),s.jsx("span",{children:"Generate Level"})]}),s.jsxs("button",{className:"action-btn",onClick:l,children:[s.jsx("span",{className:"action-icon",children:""}),s.jsx("span",{children:"New Project"})]}),s.jsxs("button",{className:"action-btn",onClick:()=>a("import"),children:[s.jsx("span",{className:"action-icon",children:""}),s.jsx("span",{children:"Import"})]})]})]}),s.jsxs("section",{className:"recent-section",children:[s.jsx("h2",{children:"Recent Projects"}),e.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:"No projects yet. Create one to get started!"}),s.jsx("button",{className:"action-btn primary",onClick:l,children:"+ Create Project"})]}):s.jsx("div",{className:"projects-grid",children:e.map(c=>s.jsxs("div",{className:`project-card ${(t==null?void 0:t.id)===c.id?"active":""}`,onClick:()=>n(c),children:[s.jsx("div",{className:"project-icon",children:""}),s.jsxs("div",{className:"project-info",children:[s.jsx("h3",{children:c.name}),s.jsxs("span",{className:"project-date",children:["Updated ",new Date(c.updated_at).toLocaleDateString()]})]})]},c.id))})]})]})}const lm=[{id:"actors",label:"Actors",icon:""},{id:"items",label:"Items",icon:""},{id:"terrain",label:"Terrain",icon:""},{id:"behaviors",label:"AI Behaviors",icon:""},{id:"scripts",label:"Scripts",icon:""}];function rm({entityTypes:e,currentProject:t,onCreateEntityType:n,onUpdateEntityType:l,onDeleteEntityType:r,onSelectEntity:i,onEditEntity:a,selectedEntity:o}){const[c,d]=f.useState("actors"),[y,v]=f.useState(""),[g,S]=f.useState(180),C=f.useRef(!1),L=f.useRef(null),X=e.filter(h=>h.name.toLowerCase().includes(y.toLowerCase())),p=f.useCallback(h=>{h.preventDefault(),C.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);f.useEffect(()=>{const h=_=>{if(!L.current)return;const w=L.current.getBoundingClientRect();if(C.current){const j=_.clientX-w.left;S(Math.max(140,Math.min(280,j)))}},E=()=>{C.current&&(C.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",h),document.addEventListener("mouseup",E),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",E)}},[]);const u=()=>{n({name:"New Entity",emoji:"",color:"#6366f1",description:"",placement_rules:"",behavior:"",collision_type:"neutral",category:c,metadata_fields:"[]"})},m=h=>{a&&a(h)};return t?s.jsxs("div",{className:"entities-page",ref:L,children:[s.jsxs("aside",{className:"sub-nav",style:{width:g,minWidth:140,maxWidth:280},children:[s.jsx("div",{className:"sub-nav-header",children:s.jsx("h3",{children:"Categories"})}),s.jsx("nav",{className:"sub-nav-list",children:lm.map(h=>s.jsxs("button",{className:`sub-nav-item ${c===h.id?"active":""}`,onClick:()=>d(h.id),children:[s.jsx("span",{className:"sub-nav-icon",children:h.icon}),s.jsx("span",{className:"sub-nav-label",children:h.label})]},h.id))})]}),s.jsx("div",{className:"resize-handle-vertical",onMouseDown:p}),s.jsxs("main",{className:"main-area",children:[s.jsxs("div",{className:"toolbar",children:[s.jsx("div",{className:"toolbar-left",children:s.jsx("input",{type:"text",placeholder:"Search entities...",value:y,onChange:h=>v(h.target.value),className:"search-input"})}),s.jsxs("div",{className:"toolbar-right",children:[s.jsx("button",{className:"btn-secondary",children:"Import"}),s.jsx("button",{className:"btn-primary",onClick:u,children:"+ Create Entity"})]})]}),s.jsx("div",{className:"data-grid-container",children:X.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("h3",{children:"No entities yet"}),s.jsx("p",{children:"Create custom entity types to use in your levels."}),s.jsx("button",{className:"btn-primary",onClick:u,children:"+ Create First Entity"})]}):s.jsxs("table",{className:"data-grid",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"col-icon"}),s.jsx("th",{className:"col-name",children:"Name"}),s.jsx("th",{className:"col-type",children:"Type"}),s.jsx("th",{className:"col-collision",children:"Collision"}),s.jsx("th",{className:"col-behavior",children:"Behavior"}),s.jsx("th",{className:"col-actions"})]})}),s.jsx("tbody",{children:X.map(h=>s.jsxs("tr",{className:(o==null?void 0:o.id)===h.id?"selected":"",onClick:()=>{setSelectedEntity&&i(h)},children:[s.jsx("td",{className:"col-icon",children:s.jsx("span",{className:"entity-icon",style:{background:h.color+"20"},children:h.emoji})}),s.jsx("td",{className:"col-name",children:s.jsx("strong",{children:h.name})}),s.jsx("td",{className:"col-type",children:h.category||"actors"}),s.jsx("td",{className:"col-collision",children:s.jsx("span",{className:`badge badge-${h.collision_type}`,children:h.collision_type})}),s.jsx("td",{className:"col-behavior",children:s.jsx("span",{className:"truncate",children:h.behavior||"-"})}),s.jsxs("td",{className:"col-actions",children:[s.jsx("button",{className:"action-btn",onClick:E=>{E.stopPropagation(),m(h)},children:""}),s.jsx("button",{className:"action-btn danger",onClick:E=>{E.stopPropagation(),r(h.id)},children:""})]})]},h.id))})]})})]})]}):s.jsx("div",{className:"entities-page",children:s.jsxs("div",{className:"no-project-state",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("h2",{children:"No Project Selected"}),s.jsx("p",{children:"Select or create a project from the Dashboard to manage entities."})]})})}const Ar={platform:"",ground:"",player:"",player_spawn:"",spawn:"",enemy:"",enemy_basic:"",enemy_flying:"",enemy_patrol:"",boss:"",npc:"",coin:"",key:"",gem:"",star:"",heart:"",powerup:"",weapon:"",ammo:"",health:"",collectible:"",spike:"",spikes:"",lava:"",water:"",hazard:"",goal:"",door:"",portal:"",exit:"",switch:"",button:"",pressure_plate:"",cover:"",unknown:"?"},Al={platform:"#6b7280",ground:"#8b5a2b",player:"#3b82f6",player_spawn:"#3b82f6",spawn:"#3b82f6",enemy:"#ef4444",enemy_basic:"#ef4444",enemy_flying:"#a855f7",enemy_patrol:"#ef4444",boss:"#dc2626",npc:"#10b981",coin:"#fbbf24",key:"#fbbf24",gem:"#a855f7",star:"#fbbf24",heart:"#ef4444",health:"#ef4444",powerup:"#f59e0b",weapon:"#6b7280",ammo:"#9ca3af",spike:"#dc2626",spikes:"#dc2626",lava:"#f97316",water:"#3b82f6",hazard:"#dc2626",goal:"#22c55e",door:"#8b5a2b",portal:"#a855f7",exit:"#22c55e",switch:"#6366f1",button:"#6366f1",pressure_plate:"#6366f1",cover:"#6b7280",collectible:"#fbbf24",unknown:"#9ca3af"};function sm({level:e,mode:t="draft",onModeChange:n,entityTypes:l=[],onRename:r,selectedObject:i,onSelectObject:a,onUpdateObject:o,snapToGrid:c=!1,showGrid:d=!0,gridSize:y=50,interactive:v=!0,externalZoom:g,externalPan:S,onZoomChange:C,onPanChange:L}){const X=f.useRef(null),[p,u]=f.useState(t),[m,h]=f.useState(1),[E,_]=f.useState({x:0,y:0}),w=g!==void 0?g:m,j=S!==void 0?S:E,F=C||h,A=L||_,[le,ke]=f.useState(!1),[J,ct]=f.useState({x:0,y:0}),[We,St]=f.useState({x:16,y:16}),[je,b]=f.useState({x:null,y:16}),[U,Y]=f.useState(!1),[re,Z]=f.useState(!1),[Ne,Pe]=f.useState(null),[se,Re]=f.useState({x:0,y:0}),[Le,tt]=f.useState(!1),[$e,vt]=f.useState(""),ut=f.useRef(null),[pe,Ge]=f.useState(null),[Be,Ae]=f.useState(!1),[Ze,B]=f.useState(null),[M,ie]=f.useState(null);let z=null;try{e!=null&&e.level_data&&(z=typeof e.level_data=="string"?JSON.parse(e.level_data):e.level_data)}catch{z=null}const $=f.useMemo(()=>{const R={};return l&&l.length>0&&l.forEach(k=>{R[k.name.toLowerCase()]={symbol:k.emoji||"?",color:k.color||"#9ca3af"}}),R},[l]),Xe=f.useCallback(R=>{if(!R)return Ar.unknown;const k=R.toLowerCase().replace(/[_\s]+/g,"_");if($[R.toLowerCase()])return $[R.toLowerCase()].symbol;if($[k])return $[k].symbol;const te=R.toLowerCase();for(const[x,O]of Object.entries($))if(te.includes(x)||x.includes(te))return O.symbol;return Ar[R]||Ar[k]||Ar.unknown},[$]),de=f.useCallback(R=>{if(!R)return Al.unknown;const k=R.toLowerCase().replace(/[_\s]+/g,"_");if($[R.toLowerCase()])return $[R.toLowerCase()].color;if($[k])return $[k].color;const te=R.toLowerCase();for(const[x,O]of Object.entries($))if(te.includes(x)||x.includes(te))return O.color;return Al[R]||Al[k]||Al.unknown},[$]),ve=f.useCallback((R,k)=>{if(!z)return null;const te=X.current;if(!te)return null;const x=[];z.platforms&&z.platforms.forEach(ee=>{x.push({x:ee.x,y:ee.y}),x.push({x:ee.x+ee.width,y:ee.y+ee.height})}),z.entities&&z.entities.forEach(ee=>{x.push({x:ee.x,y:ee.y})}),z.player_spawn&&x.push({x:z.player_spawn.x,y:z.player_spawn.y}),z.goal&&x.push({x:z.goal.x,y:z.goal.y});let O=0,K=800,ge=0,Oe=600;if(x.length>0){O=Math.min(...x.map(oe=>oe.x)),K=Math.max(...x.map(oe=>oe.x)),ge=Math.min(...x.map(oe=>oe.y)),Oe=Math.max(...x.map(oe=>oe.y));const ee=Math.max(50,(K-O)*.1),fe=Math.max(50,(Oe-ge)*.1);O-=ee,K+=ee,ge-=fe,Oe+=fe}const gt=K-O,xn=Oe-ge,jn=(te.width-100)/gt,tl=(te.height-100)/xn,Lt=Math.min(jn,tl,1)*w,Yt=te.width/2-(O+gt/2)*Lt+j.x,ae=te.height/2+(ge+xn/2)*Lt+j.y,ue=(R-Yt)/Lt,G=(ae-k)/Lt,ne=20/Lt;if(z.entities)for(let ee=z.entities.length-1;ee>=0;ee--){const fe=z.entities[ee],oe=fe.x-ue,dt=fe.y-G;if(oe*oe+dt*dt<ne*ne)return{type:"entity",entityType:fe.type,data:fe,index:ee}}if(z.platforms)for(let ee=z.platforms.length-1;ee>=0;ee--){const fe=z.platforms[ee];if(ue>=fe.x&&ue<=fe.x+fe.width&&G<=fe.y&&G>=fe.y-fe.height)return{type:"platform",data:fe,index:ee}}if(z.player_spawn){const ee=z.player_spawn,fe=ee.x-ue,oe=ee.y-G;if(fe*fe+oe*oe<ne*ne)return{type:"spawn",data:ee}}if(z.goal){const ee=z.goal,fe=ee.x-ue,oe=ee.y-G;if(fe*fe+oe*oe<ne*ne)return{type:"goal",data:ee}}return null},[z,w,j]),we=f.useCallback(R=>{if(R.button!==0)return;const k=X.current;if(!k)return;const te=k.getBoundingClientRect(),x=R.clientX-te.left,O=R.clientY-te.top,K=ve(x,O);K&&a?(a(K),Ae(!0),B(K),ie({x:K.data.x,y:K.data.y,clientX:R.clientX,clientY:R.clientY})):K||(ke(!0),ct({x:R.clientX-j.x,y:R.clientY-j.y}),a&&a(null))},[j,ve,a]),D=f.useCallback(R=>{if(Be&&Ze&&M){const k=R.clientX-M.clientX,te=R.clientY-M.clientY,x=X.current;if(!x||!z)return;const O=[];z.platforms&&z.platforms.forEach(oe=>{O.push({x:oe.x,y:oe.y}),O.push({x:oe.x+oe.width,y:oe.y+oe.height})}),z.entities&&z.entities.forEach(oe=>{O.push({x:oe.x,y:oe.y})}),z.player_spawn&&O.push({x:z.player_spawn.x,y:z.player_spawn.y}),z.goal&&O.push({x:z.goal.x,y:z.goal.y});let K=0,ge=800,Oe=0,gt=600;if(O.length>0){K=Math.min(...O.map(At=>At.x)),ge=Math.max(...O.map(At=>At.x)),Oe=Math.min(...O.map(At=>At.y)),gt=Math.max(...O.map(At=>At.y));const oe=Math.max(50,(ge-K)*.1),dt=Math.max(50,(gt-Oe)*.1);K-=oe,ge+=oe,Oe-=dt,gt+=dt}const xn=ge-K,jn=gt-Oe,tl=(x.width-100)/xn,me=(x.height-100)/jn,Yt=Math.min(tl,me,1)*w,ae=k/Yt,ue=-te/Yt;let G=M.x+ae,ne=M.y+ue;c?(G=Math.round(G/y)*y,ne=Math.round(ne/y)*y):(G=Math.round(G),ne=Math.round(ne));const ee={...Ze.data,x:G,y:ne},fe={...Ze,data:ee};a(fe),B(fe)}else le&&A({x:R.clientX-J.x,y:R.clientY-J.y})},[Be,Ze,M,le,J,w,z,a,c,y]),Se=f.useCallback(()=>{Be&&Ze&&o&&o(Ze),ke(!1),Ae(!1),B(null),ie(null)},[Be,Ze,o]),V=f.useCallback(()=>{ke(!1),Ae(!1),B(null),ie(null),Ge(null)},[]),yt=f.useCallback(R=>{R.preventDefault();const k=R.deltaY>0?-.1:.1;F(te=>Math.max(.25,Math.min(4,te+k)))},[]);f.useCallback((R,k)=>{if(R.target.closest(".panel-minimize-btn"))return;R.preventDefault(),R.stopPropagation();const te=R.currentTarget,x=te.getBoundingClientRect();if(Pe(k),Re({x:R.clientX-x.left,y:R.clientY-x.top}),k==="info"&&je.x===null){const O=te.parentElement.getBoundingClientRect();b({x:O.width-x.width-16,y:16})}},[je]),f.useCallback(R=>{var K;if(!Ne)return;const k=(K=X.current)==null?void 0:K.parentElement;if(!k)return;const te=k.getBoundingClientRect(),x=R.clientX-te.left-se.x,O=R.clientY-te.top-se.y;Ne==="legend"?St({x:Math.max(0,x),y:Math.max(0,O)}):Ne==="info"&&b({x:Math.max(0,x),y:Math.max(0,O)})},[Ne,se]),f.useCallback(()=>{Pe(null)},[]);const st=f.useCallback(R=>{if(le||Ne)return;const k=X.current;if(!k||!a)return;const te=k.getBoundingClientRect(),x=R.clientX-te.left,O=R.clientY-te.top,K=ve(x,O);Ge(K)},[le,Ne,a,ve]);f.useCallback(R=>{R.stopPropagation(),r&&(vt(e.name),tt(!0))},[e.name,r]),f.useCallback(R=>{vt(R.target.value)},[]),f.useCallback(R=>{if(R.key==="Enter"){const k=$e.trim();k&&k!==e.name&&r({...e,name:k}),tt(!1)}else R.key==="Escape"&&tt(!1);R.stopPropagation()},[$e,e,r]),f.useCallback(()=>{const R=$e.trim();R&&R!==e.name&&r&&r({...e,name:R}),tt(!1)},[$e,e,r]),f.useEffect(()=>{Le&&ut.current&&(ut.current.focus(),ut.current.select())},[Le]),f.useEffect(()=>{u(t)},[t]);const Je=f.useCallback(()=>{const R=X.current;if(!R||!z)return;const k=R.getContext("2d");k.clearRect(0,0,R.width,R.height);const te=[];z.platforms&&z.platforms.forEach(ae=>{te.push({x:ae.x,y:ae.y}),te.push({x:ae.x+ae.width,y:ae.y+ae.height})}),z.entities&&z.entities.forEach(ae=>{te.push({x:ae.x,y:ae.y})}),z.player_spawn&&te.push({x:z.player_spawn.x,y:z.player_spawn.y}),z.goal&&te.push({x:z.goal.x,y:z.goal.y});let x=0,O=800,K=0,ge=600;if(te.length>0){x=Math.min(...te.map(G=>G.x)),O=Math.max(...te.map(G=>G.x)),K=Math.min(...te.map(G=>G.y)),ge=Math.max(...te.map(G=>G.y));const ae=Math.max(50,(O-x)*.1),ue=Math.max(50,(ge-K)*.1);x-=ae,O+=ae,K-=ue,ge+=ue}const Oe=O-x,gt=ge-K,xn=(R.width-100)/Oe,jn=(R.height-100)/gt,me=Math.min(xn,jn,1)*w,Lt=R.width/2-(x+Oe/2)*me+j.x,Yt=R.height/2+(K+gt/2)*me+j.y;if(d){k.strokeStyle="#e5e7eb",k.lineWidth=1;const ae=y*me;for(let ue=0;ue<R.width;ue+=ae)k.beginPath(),k.moveTo(ue,0),k.lineTo(ue,R.height),k.stroke();for(let ue=0;ue<R.height;ue+=ae)k.beginPath(),k.moveTo(0,ue),k.lineTo(R.width,ue),k.stroke()}if(z.platforms&&z.platforms.forEach((ae,ue)=>{const G=(i==null?void 0:i.type)==="platform"&&(i==null?void 0:i.index)===ue,ne=G?i.data:ae,ee=ne.x*me+Lt,fe=Yt-ne.y*me,oe=ne.width*me,dt=ne.height*me;k.fillStyle=Al.platform,k.fillRect(ee,fe-dt,oe,dt),(pe==null?void 0:pe.type)==="platform"&&(pe==null?void 0:pe.index)===ue&&!G&&(k.strokeStyle="#a5b4fc",k.lineWidth=2,k.strokeRect(ee-1,fe-dt-1,oe+2,dt+2)),G&&(k.strokeStyle="#6366f1",k.lineWidth=3,k.strokeRect(ee-1.5,fe-dt-1.5,oe+3,dt+3))}),z.entities&&z.entities.forEach((ae,ue)=>{const G=(i==null?void 0:i.type)==="entity"&&(i==null?void 0:i.index)===ue,ne=G?i.data:ae,ee=ne.x*me+Lt,fe=Yt-ne.y*me,oe=ae.type||"unknown",dt=Xe(oe),At=de(oe);(pe==null?void 0:pe.type)==="entity"&&(pe==null?void 0:pe.index)===ue&&!G&&(k.beginPath(),k.arc(ee,fe,Math.max(12,16*me),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),G&&(k.beginPath(),k.arc(ee,fe,Math.max(14,18*me),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(12,16*me)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=At,k.fillText(dt,ee,fe),ae.name&&(k.font=`${Math.max(8,10*me)}px monospace`,k.fillStyle="#6b7280",k.fillText(ae.name,ee,fe+12*me))}),z.player_spawn){const ae=(i==null?void 0:i.type)==="spawn",ue=ae?i.data:z.player_spawn,G=ue.x*me+Lt,ne=Yt-ue.y*me;(pe==null?void 0:pe.type)==="spawn"&&!ae&&(k.beginPath(),k.arc(G,ne,Math.max(14,20*me),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),ae&&(k.beginPath(),k.arc(G,ne,Math.max(16,22*me),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(14,20*me)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=de("player_spawn"),k.fillText(Xe("player_spawn"),G,ne),k.font=`${Math.max(8,10*me)}px monospace`,k.fillStyle="#6b7280",k.fillText("SPAWN",G,ne+16*me)}if(z.goal){const ae=(i==null?void 0:i.type)==="goal",ue=ae?i.data:z.goal,G=ue.x*me+Lt,ne=Yt-ue.y*me;(pe==null?void 0:pe.type)==="goal"&&!ae&&(k.beginPath(),k.arc(G,ne,Math.max(14,20*me),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),ae&&(k.beginPath(),k.arc(G,ne,Math.max(16,22*me),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(14,20*me)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=de("goal"),k.fillText(Xe("goal"),G,ne),k.font=`${Math.max(8,10*me)}px monospace`,k.fillStyle="#6b7280",k.fillText("GOAL",G,ne+16*me)}},[z,w,j,$,i,pe,Xe,de,d,y]);f.useEffect(()=>{p==="draft"&&Je()},[p,Je]);const T=R=>{u(R),n&&n(R)},W=()=>F(Math.min(w+.25,4)),ye=()=>F(Math.max(w-.25,.25)),kt=()=>{F(1),A({x:0,y:0})};return z?s.jsxs("div",{className:`level-view ${v?"":"non-interactive"}`,children:[s.jsxs("div",{className:"view-mode-bar",children:[s.jsxs("div",{className:"view-mode-tabs",children:[s.jsx("button",{className:`view-tab ${p==="draft"?"active":""}`,onClick:()=>T("draft"),children:" Draft"}),s.jsxs("button",{className:`view-tab ${p==="polish"?"active":""}`,onClick:()=>T("polish"),disabled:!0,children:[" Polish",s.jsx("span",{className:"badge-coming-soon",children:"Coming Soon"})]}),s.jsxs("button",{className:`view-tab ${p==="playable"?"active":""}`,onClick:()=>T("playable"),disabled:!0,children:[" Playable",s.jsx("span",{className:"badge-coming-soon",children:"Coming Soon"})]})]}),s.jsxs("div",{className:"view-controls",children:[s.jsx("button",{onClick:ye,title:"Zoom Out",children:""}),s.jsxs("span",{className:"zoom-level",children:[Math.round(w*100),"%"]}),s.jsx("button",{onClick:W,title:"Zoom In",children:""}),s.jsx("button",{onClick:kt,title:"Reset View",children:""})]})]}),s.jsxs("div",{className:"canvas-container",children:[p==="draft"&&s.jsx(s.Fragment,{children:s.jsx("canvas",{ref:X,width:1200,height:800,className:`level-canvas ${le?"panning":""}`,onMouseDown:we,onMouseMove:R=>{D(R),st(R)},onMouseUp:Se,onMouseLeave:()=>{V(),Ge(null)},onWheel:yt,style:{cursor:Be?"move":le?"grabbing":pe?"pointer":"grab"}})}),p==="polish"&&s.jsxs("div",{className:"view-stub",children:[s.jsx("div",{className:"stub-icon",children:""}),s.jsx("h3",{children:"Polish View"}),s.jsx("p",{children:"Apply custom textures, sprites, and visual effects."}),s.jsx("p",{className:"hint",children:"Upload your own assets or choose from the library."})]}),p==="playable"&&s.jsxs("div",{className:"view-stub",children:[s.jsx("div",{className:"stub-icon",children:""}),s.jsx("h3",{children:"Playable Preview"}),s.jsx("p",{children:"Test your level in real-time with basic gameplay mechanics."}),s.jsx("p",{className:"hint",children:"Coming soon: Player movement, collision detection, and win conditions."})]})]})]}):s.jsxs("div",{className:"level-view-empty",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("h3",{children:"No Level Data"}),s.jsx("p",{children:"This level has no data to display."})]})}const oc={beginner:{name:"Beginner Level",icon:"",description:"Easy level with basic challenges",entities:[{count:5,placement:"evenly distributed"},{count:3,placement:"on wide platforms"},{count:2,placement:"after checkpoints"}]},standard:{name:"Standard Level",icon:"",description:"Balanced difficulty with variety",entities:[{count:10,placement:"throughout level"},{count:5,placement:"on platforms"},{count:3,placement:"near gaps"},{count:2,placement:"after hard sections"}]},challenge:{name:"Challenge Level",icon:"",description:"High difficulty with many obstacles",entities:[{count:15,placement:"everywhere"},{count:8,placement:"guarding coins"},{count:6,placement:"in tricky spots"},{count:4,placement:"sparsely"}]},speedrun:{name:"Speedrun Level",icon:"",description:"Fast-paced with clear paths",entities:[{count:20,placement:"along optimal path"},{count:3,placement:"rarely"},{count:1,placement:"at start"}]},exploration:{name:"Exploration Level",icon:"",description:"Hidden secrets and rewards",entities:[{count:25,placement:"hidden in corners"},{count:5,placement:"in secret areas"},{count:3,placement:"rewarding exploration"}]}},im=["evenly distributed","throughout level","near checkpoints","after difficult sections","on platforms","in corners","hidden areas","along main path","rewarding exploration","guarding objectives","sparsely placed","clustered together","alternating pattern"];function am({entityTypes:e,requirements:t,onRequirementsChange:n}){const[l,r]=f.useState(""),[i,a]=f.useState(1),[o,c]=f.useState(""),[d,y]=f.useState(!1),[v,g]=f.useState(null),[S,C]=f.useState(()=>{const j=localStorage.getItem("levelforge-entity-presets");return j?JSON.parse(j):[]});f.useEffect(()=>{localStorage.setItem("levelforge-entity-presets",JSON.stringify(S))},[S]);const L=()=>{if(!l)return;const j=e.find(A=>A.id===parseInt(l));if(!j)return;const F={id:Date.now(),entityId:j.id,entityName:j.name,entityEmoji:j.emoji,count:i,placement:o||"distributed throughout level"};n([...t,F]),r(""),a(1),c("")},X=j=>{n(t.filter(F=>F.id!==j))},p=(j,F,A)=>{n(t.map(le=>le.id===j?{...le,[F]:A}:le))},u=j=>{const F=oc[j];if(!F||e.length===0)return;const A=F.entities.map((le,ke)=>{const J=e[ke%e.length];return{id:Date.now()+ke,entityId:J.id,entityName:J.name,entityEmoji:J.emoji,count:le.count,placement:le.placement}});n(A),y(!1)},m=()=>{if(t.length===0)return;const j=prompt("Save preset as:","My Custom Preset");if(!j)return;const F={id:Date.now(),name:j,requirements:t.map(A=>({entityId:A.entityId,count:A.count,placement:A.placement}))};C([...S,F])},h=j=>{const F=j.requirements.map((A,le)=>{const ke=e.find(J=>J.id===A.entityId);return ke?{id:Date.now()+le,entityId:ke.id,entityName:ke.name,entityEmoji:ke.emoji,count:A.count,placement:A.placement}:null}).filter(Boolean);n(F),y(!1)},E=j=>{C(S.filter(F=>F.id!==j))},_=(j,F)=>{p(j,"placement",F),g(null)},w=()=>{n([])};return s.jsxs("div",{className:"entity-requirements",children:[s.jsxs("div",{className:"requirements-header",children:[s.jsxs("div",{className:"header-row",children:[s.jsx("h3",{children:"Entity Requirements"}),s.jsxs("div",{className:"header-actions",children:[s.jsx("button",{className:"btn-preset",onClick:()=>y(!d),children:" Presets"}),t.length>0&&s.jsx("button",{className:"btn-clear",onClick:w,children:" Clear All"})]})]}),s.jsx("span",{className:"hint",children:"Specify entities to include in the generated level"})]}),d&&s.jsxs("div",{className:"presets-panel",children:[s.jsxs("div",{className:"presets-section",children:[s.jsx("h4",{children:"Quick Templates"}),s.jsx("div",{className:"preset-grid",children:Object.entries(oc).map(([j,F])=>s.jsxs("button",{className:"preset-card",onClick:()=>u(j),children:[s.jsx("span",{className:"preset-icon",children:F.icon}),s.jsx("span",{className:"preset-name",children:F.name}),s.jsx("span",{className:"preset-desc",children:F.description})]},j))})]}),S.length>0&&s.jsxs("div",{className:"presets-section",children:[s.jsx("h4",{children:"Saved Presets"}),s.jsx("div",{className:"saved-presets-list",children:S.map(j=>s.jsxs("div",{className:"saved-preset-item",children:[s.jsx("span",{className:"preset-name",children:j.name}),s.jsx("button",{className:"btn-load",onClick:()=>h(j),children:"Load"}),s.jsx("button",{className:"btn-delete",onClick:()=>E(j.id),children:""})]},j.id))})]}),t.length>0&&s.jsx("div",{className:"presets-section",children:s.jsx("button",{className:"btn-save-preset",onClick:m,children:" Save Current as Preset"})})]}),t.length>0&&s.jsxs("div",{className:"visual-preview",children:[s.jsx("h4",{children:"Preview"}),s.jsx("div",{className:"entity-preview-grid",children:t.map(j=>s.jsxs("div",{className:"preview-entity",children:[s.jsx("span",{className:"preview-emoji",children:j.entityEmoji}),s.jsxs("span",{className:"preview-count",children:["",j.count]})]},j.id))}),s.jsxs("div",{className:"preview-summary",children:["Total: ",t.reduce((j,F)=>j+F.count,0)," entities"]})]}),t.length>0&&s.jsx("div",{className:"requirements-list",children:t.map(j=>s.jsxs("div",{className:"requirement-item",children:[s.jsxs("div",{className:"req-entity",children:[s.jsx("span",{className:"req-emoji",children:j.entityEmoji}),s.jsx("span",{className:"req-name",children:j.entityName})]}),s.jsx("div",{className:"req-count",children:s.jsx("input",{type:"number",min:"1",max:"100",value:j.count,onChange:F=>p(j.id,"count",parseInt(F.target.value)||1)})}),s.jsxs("div",{className:"req-placement",children:[s.jsx("input",{type:"text",placeholder:"Placement details...",value:j.placement,onChange:F=>p(j.id,"placement",F.target.value),onFocus:()=>g(j.id),onBlur:()=>setTimeout(()=>g(null),200)}),v===j.id&&s.jsx("div",{className:"placement-suggestions",children:im.map(F=>s.jsx("button",{className:"suggestion-item",onClick:()=>_(j.id,F),children:F},F))})]}),s.jsx("button",{className:"req-remove",onClick:()=>X(j.id),title:"Remove",children:""})]},j.id))}),s.jsx("div",{className:"add-requirement",children:s.jsxs("div",{className:"add-row",children:[s.jsxs("select",{value:l,onChange:j=>r(j.target.value),children:[s.jsx("option",{value:"",children:"Select entity type..."}),e.map(j=>s.jsxs("option",{value:j.id,children:[j.emoji," ",j.name]},j.id))]}),s.jsx("input",{type:"number",min:"1",max:"100",value:i,onChange:j=>a(parseInt(j.target.value)||1),placeholder:"Count"}),s.jsx("input",{type:"text",value:o,onChange:j=>c(j.target.value),placeholder:"Placement (optional)"}),s.jsx("button",{className:"btn-add",onClick:L,disabled:!l,children:"+ Add"})]})})]})}const Ve={PENCIL:"pencil",ERASER:"eraser",RECT:"rect",FILL:"fill",PAN:"pan"};function om({tilemap:e,tileTypes:t=[],selectedTileId:n,tool:l=Ve.PENCIL,tileSize:r=32,showGrid:i=!0,snapToGrid:a=!1,onTileChange:o,interactive:c=!0,externalZoom:d,externalPan:y,onZoomChange:v,onPanChange:g}){const S=f.useRef(null),C=f.useRef(null),[L,X]=f.useState(1),[p,u]=f.useState({x:0,y:0}),m=d!==void 0?d:L,h=y!==void 0?y:p,E=v||X,_=g||u,[w,j]=f.useState(!1),[F,A]=f.useState({x:0,y:0}),[le,ke]=f.useState({width:1200,height:800}),[J,ct]=f.useState(!1),[We,St]=f.useState(null),[je,b]=f.useState(null),U=(e==null?void 0:e.width)||50,Y=(e==null?void 0:e.height)||30,re=(e==null?void 0:e.data)||[],Z=f.useMemo(()=>{const B={0:{id:0,name:"Empty",color:"transparent"}};return t.forEach(M=>{B[M.id]=M}),B},[t]);f.useEffect(()=>{const B=()=>{if(C.current){const M=C.current.getBoundingClientRect();ke({width:Math.floor(M.width),height:Math.floor(M.height)})}};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const Ne=f.useCallback((B,M)=>{const ie=S.current;if(!ie)return null;const z=ie.getBoundingClientRect(),$=ie.width/z.width,Xe=ie.height/z.height,de=B*$,ve=M*Xe,we=Math.floor((de-h.x)/(r*m)),D=Math.floor((ve-h.y)/(r*m));return we<0||we>=U||D<0||D>=Y?null:{tileX:we,tileY:D}},[h,r,m,U,Y]),Pe=f.useCallback((B,M)=>re[M]?re[M][B]:null,[re]),se=f.useCallback((B,M,ie)=>{o&&o(B,M,ie)},[o]),Re=f.useCallback((B,M,ie)=>{const z=Pe(B,M);if(z===ie)return;const $=[],Xe=new Set,de=[{x:B,y:M}];for(;de.length>0;){const{x:ve,y:we}=de.pop(),D=`${ve},${we}`;Xe.has(D)||ve<0||ve>=U||we<0||we>=Y||Pe(ve,we)===z&&(Xe.add(D),$.push({x:ve,y:we,tileId:ie}),de.push({x:ve+1,y:we}),de.push({x:ve-1,y:we}),de.push({x:ve,y:we+1}),de.push({x:ve,y:we-1}))}$.forEach(({x:ve,y:we,tileId:D})=>{se(ve,we,D)})},[Pe,se,U,Y]),Le=f.useCallback((B,M,ie,z,$)=>{const Xe=Math.min(B,ie),de=Math.max(B,ie),ve=Math.min(M,z),we=Math.max(M,z);for(let D=ve;D<=we;D++)for(let Se=Xe;Se<=de;Se++)Se>=0&&Se<U&&D>=0&&D<Y&&se(Se,D,$)},[se,U,Y]),tt=f.useCallback(B=>{if(B.button!==0)return;const M=S.current.getBoundingClientRect(),ie=B.clientX-M.left,z=B.clientY-M.top;if(l===Ve.PAN||B.shiftKey){j(!0),A({x:B.clientX-h.x,y:B.clientY-h.y});return}const $=Ne(ie,z);$&&(ct(!0),St($),l===Ve.PENCIL?se($.tileX,$.tileY,n):l===Ve.ERASER?se($.tileX,$.tileY,null):l===Ve.FILL&&Re($.tileX,$.tileY,n))},[l,h,Ne,n,se,Re]),$e=f.useCallback(B=>{const M=S.current.getBoundingClientRect(),ie=B.clientX-M.left,z=B.clientY-M.top,$=Ne(ie,z);if(b($),w){_({x:B.clientX-F.x,y:B.clientY-F.y});return}!J||!$||(l===Ve.PENCIL?se($.tileX,$.tileY,n):l===Ve.ERASER&&se($.tileX,$.tileY,null))},[w,F,J,l,Ne,se,n]),vt=f.useCallback(B=>{if(w){j(!1);return}if(!J||!We){ct(!1);return}const M=S.current.getBoundingClientRect(),ie=B.clientX-M.left,z=B.clientY-M.top,$=Ne(ie,z);l===Ve.RECT&&$&&Le(We.tileX,We.tileY,$.tileX,$.tileY,n),ct(!1),St(null)},[w,J,We,l,Ne,Le,n]),ut=f.useCallback(B=>{B.preventDefault();const M=B.deltaY>0?-.1:.1;E(ie=>Math.max(.25,Math.min(4,ie+M)))},[]),pe=f.useCallback(()=>{var D;const B=S.current;if(!B)return;const M=B.getContext("2d"),ie=le.width,z=le.height;M.fillStyle="#1a1a2e",M.fillRect(0,0,ie,z);const $=r*m,Xe=Math.max(0,Math.floor(-h.x/$)),de=Math.max(0,Math.floor(-h.y/$)),ve=Math.min(U,Math.ceil((ie-h.x)/$)),we=Math.min(Y,Math.ceil((z-h.y)/$));for(let Se=de;Se<we;Se++)for(let V=Xe;V<ve;V++){const yt=(D=re[Se])==null?void 0:D[V],st=V*$+h.x,Je=Se*$+h.y;if(yt&&Z[yt]){const T=Z[yt];M.fillStyle=T.color,M.fillRect(st,Je,$,$),M.strokeStyle="rgba(255,255,255,0.1)",M.lineWidth=1,M.strokeRect(st+.5,Je+.5,$-1,$-1)}}if(i&&$>=8){M.strokeStyle="rgba(255,255,255,0.2)",M.lineWidth=1;for(let Se=Xe;Se<=ve;Se++){const V=Se*$+h.x;M.beginPath(),M.moveTo(V,0),M.lineTo(V,z),M.stroke()}for(let Se=de;Se<=we;Se++){const V=Se*$+h.y;M.beginPath(),M.moveTo(0,V),M.lineTo(ie,V),M.stroke()}}if(je&&!w&&c){const Se=je.tileX*$+h.x,V=je.tileY*$+h.y;if(M.strokeStyle="#6366f1",M.lineWidth=2,M.strokeRect(Se,V,$,$),l===Ve.RECT&&J&&We){const yt=Math.min(We.tileX,je.tileX)*$+h.x,st=Math.min(We.tileY,je.tileY)*$+h.y,Je=(Math.abs(je.tileX-We.tileX)+1)*$,T=(Math.abs(je.tileY-We.tileY)+1)*$,W=Z[n];W&&(M.fillStyle=W.color+"80",M.fillRect(yt,st,Je,T)),M.strokeStyle="#6366f1",M.lineWidth=2,M.setLineDash([5,5]),M.strokeRect(yt,st,Je,T),M.setLineDash([])}}M.fillStyle="rgba(0,0,0,0.7)",M.fillRect(8,8,120,24),M.fillStyle="#fff",M.font="12px monospace",M.fillText(`Size: ${U}x${Y}`,14,24)},[re,Z,r,m,h,i,je,w,l,J,We,n,U,Y,le,c]);f.useEffect(()=>{pe()},[pe]),f.useEffect(()=>{const B=M=>{M.target.tagName==="INPUT"||M.target.tagName==="TEXTAREA"||M.code==="Space"&&!M.repeat&&M.preventDefault()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[]);const Ge=()=>E(B=>Math.min(4,B+.25)),Be=()=>E(B=>Math.max(.25,B-.25)),Ae=()=>{E(1),_({x:0,y:0})},Ze=()=>w?"grabbing":l===Ve.PAN?"grab":l===Ve.ERASER?"crosshair":l===Ve.FILL?"cell":"crosshair";return s.jsxs("div",{ref:C,className:`tilemap-canvas-container ${c?"":"non-interactive"}`,children:[s.jsxs("div",{className:"canvas-controls",children:[s.jsx("button",{onClick:Be,title:"Zoom Out",children:""}),s.jsxs("span",{className:"zoom-level",children:[Math.round(m*100),"%"]}),s.jsx("button",{onClick:Ge,title:"Zoom In",children:""}),s.jsx("button",{onClick:Ae,title:"Reset View",children:""})]}),s.jsx("canvas",{ref:S,width:le.width,height:le.height,className:"tilemap-canvas",onMouseDown:tt,onMouseMove:$e,onMouseUp:vt,onMouseLeave:()=>{j(!1),ct(!1),b(null)},onWheel:ut,style:{cursor:Ze()}}),je&&c&&s.jsxs("div",{className:"tile-coords",children:["Tile: (",je.tileX,", ",je.tileY,")"]})]})}const cm=[{id:"platformer",name:"Platformer",icon:""},{id:"puzzle",name:"Puzzle",icon:""},{id:"shooter",name:"Shooter",icon:""}],um=[{id:"easy",name:"Easy",color:"#4ade80"},{id:"medium",name:"Medium",color:"#facc15"},{id:"hard",name:"Hard",color:"#f97316"},{id:"expert",name:"Expert",color:"#ef4444"}],Ee={ENTITIES:"entities",TILEMAP:"tilemap"};function dm({currentProject:e,levels:t,currentLevel:n,onSelectLevel:l,onGenerateLevel:r,generating:i,progress:a,progressMessage:o,availableModels:c,selectedModel:d,onModelChange:y,showGenerator:v,onShowGeneratorChange:g,viewMode:S,onViewModeChange:C,onRenameLevel:L,selectedObject:X,onSelectObject:p,onUpdateObject:u,snapToGrid:m=!1,showGrid:h=!0,gridSize:E=50}){var R,k,te;const[_,w]=f.useState(S??"canvas"),[j,F]=f.useState(320),A=f.useRef(!1),[le,ke]=f.useState(null),J=X??le,ct=p||ke,[We,St]=f.useState("platformer"),[je,b]=f.useState("medium"),[U,Y]=f.useState(""),[re,Z]=f.useState(""),[Ne,Pe]=f.useState([]),[se,Re]=f.useState("layers"),[Le,tt]=f.useState({[Ee.ENTITIES]:!0,[Ee.TILEMAP]:!0}),[$e,vt]=f.useState(Ee.ENTITIES),[ut,pe]=f.useState([]),[Ge,Be]=f.useState(null),[Ae,Ze]=f.useState(Ve.PENCIL),[B,M]=f.useState(null),[ie,z]=f.useState(1),[$,Xe]=f.useState({x:0,y:0}),[de,ve]=f.useState([]);f.useEffect(()=>{e&&(fetch(`http://192.168.68.72:8000/api/projects/${e.id}/entity-types`).then(x=>x.json()).then(x=>ve(x)).catch(x=>console.error("Failed to load entity types:",x)),fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-types`).then(x=>x.json()).then(x=>{pe(x),x.length>0&&Ge===null&&Be(x[0].id)}).catch(x=>console.error("Failed to load tile types:",x)))},[e]),f.useEffect(()=>{S!==void 0&&w(S)},[S]),f.useEffect(()=>{v&&(w("ai"),C&&C("ai"))},[v]);const we=f.useCallback(x=>{x.preventDefault(),A.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);f.useEffect(()=>{const x=K=>{A.current&&F(Math.max(220,Math.min(520,K.clientX)))},O=()=>{A.current&&(A.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",x),document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",O)}},[]);const D=x=>{w(x),C&&C(x),g&&g(x==="ai")},Se=x=>{l(x),D("canvas")};let V=null;try{n!=null&&n.level_data&&(V=typeof n.level_data=="string"?JSON.parse(n.level_data):n.level_data)}catch{V=null}f.useEffect(()=>{V!=null&&V.tilemap?M(V.tilemap):n&&M({width:50,height:30,data:Array(30).fill(null).map(()=>Array(50).fill(null))})},[n,V==null?void 0:V.tilemap]);const yt=f.useMemo(()=>{if(!(V!=null&&V.entities))return{};const x={};return V.entities.forEach(O=>{const K=O.type||"unknown";x[K]||(x[K]=[]),x[K].push(O)}),x},[V]),st=f.useCallback(x=>{const O=de.find(ge=>ge.name.toLowerCase()===x.toLowerCase());return O?{emoji:O.emoji,color:O.color}:{player_spawn:{emoji:"",color:"#3b82f6"},goal:{emoji:"",color:"#22c55e"},enemy:{emoji:"",color:"#ef4444"},enemy_basic:{emoji:"",color:"#ef4444"},enemy_flying:{emoji:"",color:"#a855f7"},coin:{emoji:"",color:"#fbbf24"},key:{emoji:"",color:"#fbbf24"},spike:{emoji:"",color:"#dc2626"},hazard:{emoji:"",color:"#dc2626"}}[x.toLowerCase()]||{emoji:"",color:"#9ca3af"}},[de]),Je=f.useCallback((x,O,K)=>{M(ge=>{if(!ge)return ge;const Oe=ge.data.map(gt=>[...gt]);return Oe[O]&&(Oe[O][x]=K),{...ge,data:Oe}})},[]),T=f.useCallback(x=>{z(x)},[]),W=f.useCallback(x=>{Xe(x)},[]),ye=f.useCallback(x=>{ct(x)},[]);f.useCallback(x=>{ct(x),console.log("Update object:",x)},[]);const kt=()=>{let x="";Ne.length>0&&(x=`

Entity Requirements:
`,Ne.forEach(K=>{K.entityType&&K.count>0&&(x+=`- ${K.count}x ${K.entityType.name}`,K.placement&&(x+=`: ${K.placement}`),x+=`
`)}));const O=(re||"Create an engaging level")+x;r({genre:We,difficulty:je,theme:U||"default",requirements:O})};return e?s.jsx("div",{className:"levels-page",children:s.jsxs("main",{className:"main-area",children:[s.jsxs("div",{className:"toolbar",children:[s.jsxs("div",{className:"toolbar-left",children:[s.jsx("h2",{children:" Levels"}),s.jsx("span",{className:"project-name",children:e.name})]}),s.jsxs("div",{className:"toolbar-right",children:[s.jsx("button",{className:"btn-primary",onClick:()=>D("ai"),children:" Generate New Level"}),_==="ai"&&s.jsx("button",{className:"btn-secondary",onClick:()=>D("canvas"),children:" Back to Canvas"})]})]}),s.jsxs("div",{className:"levels-workspace",children:[s.jsxs("aside",{className:"levels-sidebar",style:{width:j},children:[s.jsxs("div",{className:"sidebar-tabs",children:[s.jsx("button",{className:`sidebar-tab ${se==="layers"?"active":""}`,onClick:()=>Re("layers"),children:" Layers"}),s.jsx("button",{className:`sidebar-tab ${se==="levels"?"active":""}`,onClick:()=>Re("levels"),children:" Levels"})]}),se==="layers"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"levels-sidebar-header",children:[s.jsx("h3",{children:"Level Layers"}),!n&&s.jsx("span",{className:"hint-text",children:"Select a level"})]}),s.jsxs("div",{className:"layers-list",children:[s.jsxs("div",{className:`layer-item-group ${$e===Ee.ENTITIES?"active":""}`,children:[s.jsxs("div",{className:"layer-item",onClick:()=>vt(Ee.ENTITIES),children:[s.jsx("button",{className:"layer-visibility-btn",onClick:x=>{x.stopPropagation(),tt(O=>({...O,[Ee.ENTITIES]:!O[Ee.ENTITIES]}))},title:Le[Ee.ENTITIES]?"Hide layer":"Show layer",children:Le[Ee.ENTITIES]?"":""}),s.jsx("span",{className:"layer-icon",children:""}),s.jsx("span",{className:"layer-name",children:"Entities"}),s.jsx("span",{className:"layer-count",children:((R=V==null?void 0:V.entities)==null?void 0:R.length)||0})]}),$e===Ee.ENTITIES&&n&&V&&s.jsxs("div",{className:"object-hierarchy",children:[V.platforms&&V.platforms.length>0&&s.jsxs("div",{className:"object-group",children:[s.jsxs("div",{className:"object-group-header",children:[s.jsx("span",{className:"group-icon",children:""}),s.jsx("span",{className:"group-name",children:"Platforms"}),s.jsx("span",{className:"count-badge",children:V.platforms.length})]}),s.jsx("div",{className:"object-items",children:V.platforms.map((x,O)=>s.jsxs("div",{className:`object-item ${(J==null?void 0:J.type)==="platform"&&(J==null?void 0:J.index)===O?"selected":""}`,onClick:()=>ye({type:"platform",data:x,index:O}),children:[s.jsx("span",{className:"item-icon",children:""}),s.jsxs("span",{className:"item-name",children:["Platform ",O+1]}),s.jsxs("span",{className:"item-coords",children:["@ ",x.x,", ",x.y]})]},O))})]}),Object.entries(yt).map(([x,O])=>{const K=st(x);return s.jsxs("div",{className:"object-group",children:[s.jsxs("div",{className:"object-group-header",children:[s.jsx("span",{className:"group-icon",children:K.emoji}),s.jsx("span",{className:"group-name",children:x}),s.jsx("span",{className:"count-badge",children:O.length})]}),s.jsx("div",{className:"object-items",children:O.map((ge,Oe)=>s.jsxs("div",{className:`object-item ${(J==null?void 0:J.type)==="entity"&&(J==null?void 0:J.data)===ge?"selected":""}`,onClick:()=>ye({type:"entity",data:ge,entityType:x,index:Oe}),children:[s.jsx("span",{className:"item-icon",children:K.emoji}),s.jsx("span",{className:"item-name",children:ge.name||`${x} ${Oe+1}`}),s.jsxs("span",{className:"item-coords",children:["@ ",ge.x,", ",ge.y]})]},Oe))})]},x)}),V.player_spawn&&s.jsxs("div",{className:"object-group",children:[s.jsxs("div",{className:"object-group-header",children:[s.jsx("span",{className:"group-icon",children:""}),s.jsx("span",{className:"group-name",children:"Player Spawn"})]}),s.jsx("div",{className:"object-items",children:s.jsxs("div",{className:`object-item ${(J==null?void 0:J.type)==="spawn"?"selected":""}`,onClick:()=>ye({type:"spawn",data:V.player_spawn}),children:[s.jsx("span",{className:"item-icon",children:""}),s.jsx("span",{className:"item-name",children:"Spawn Point"}),s.jsxs("span",{className:"item-coords",children:["@ ",V.player_spawn.x,", ",V.player_spawn.y]})]})})]}),V.goal&&s.jsxs("div",{className:"object-group",children:[s.jsxs("div",{className:"object-group-header",children:[s.jsx("span",{className:"group-icon",children:""}),s.jsx("span",{className:"group-name",children:"Goal"})]}),s.jsx("div",{className:"object-items",children:s.jsxs("div",{className:`object-item ${(J==null?void 0:J.type)==="goal"?"selected":""}`,onClick:()=>ye({type:"goal",data:V.goal}),children:[s.jsx("span",{className:"item-icon",children:""}),s.jsx("span",{className:"item-name",children:"Goal Point"}),s.jsxs("span",{className:"item-coords",children:["@ ",V.goal.x,", ",V.goal.y]})]})})]}),(!V.platforms||V.platforms.length===0)&&(!V.entities||V.entities.length===0)&&!V.player_spawn&&!V.goal&&s.jsxs("div",{className:"hierarchy-empty",children:[s.jsx("span",{className:"empty-icon",children:""}),s.jsx("span",{children:"No objects in this level"})]})]})]}),s.jsxs("div",{className:`layer-item ${$e===Ee.TILEMAP?"active":""}`,onClick:()=>vt(Ee.TILEMAP),children:[s.jsx("button",{className:"layer-visibility-btn",onClick:x=>{x.stopPropagation(),tt(O=>({...O,[Ee.TILEMAP]:!O[Ee.TILEMAP]}))},title:Le[Ee.TILEMAP]?"Hide layer":"Show layer",children:Le[Ee.TILEMAP]?"":""}),s.jsx("span",{className:"layer-icon",children:""}),s.jsx("span",{className:"layer-name",children:"Tilemap"}),s.jsx("span",{className:"layer-count",children:V!=null&&V.tilemap?`${V.tilemap.width}x${V.tilemap.height}`:""})]})]}),$e===Ee.TILEMAP&&n&&s.jsxs("div",{className:"tilemap-settings",children:[s.jsx("h4",{children:"Tilemap Settings"}),s.jsxs("div",{className:"setting-row",children:[s.jsx("span",{children:"Tile Size"}),s.jsxs("span",{children:[(e==null?void 0:e.tile_size)||32,"px"]})]}),s.jsxs("div",{className:"setting-row",children:[s.jsx("span",{children:"Tile Types"}),s.jsx("span",{children:ut.length})]}),s.jsx("p",{className:"tilemap-hint",children:"Select a tile type from the right palette and draw on the canvas."})]})]}),se==="levels"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"levels-sidebar-header",children:[s.jsx("h3",{children:"Project Levels"}),s.jsx("span",{className:"count-badge",children:t.length})]}),s.jsx("div",{className:"levels-sidebar-list",children:t.length===0?s.jsxs("div",{className:"empty-levels small",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("p",{children:"No levels yet"})]}):t.map(x=>s.jsxs("button",{className:`level-list-item ${(n==null?void 0:n.id)===x.id?"active":""}`,onClick:()=>Se(x),children:[s.jsx("div",{className:"level-list-name",children:x.name}),s.jsxs("div",{className:"level-list-meta",children:[s.jsx("span",{children:x.genre}),s.jsx("span",{className:`diff-badge ${x.difficulty}`,children:x.difficulty})]})]},x.id))})]})]}),s.jsx("div",{className:"resize-handle-vertical",onMouseDown:we}),s.jsxs("section",{className:"levels-center",children:[_==="canvas"&&s.jsx("div",{className:"canvas-area",children:n?s.jsxs(s.Fragment,{children:[$e===Ee.TILEMAP&&s.jsxs("div",{className:"tile-tools-toolbar",children:[s.jsxs("div",{className:"toolbar-section tools-section",children:[s.jsx("span",{className:"toolbar-label",children:"Tools:"}),s.jsx("button",{className:`tool-btn ${Ae===Ve.PENCIL?"active":""}`,onClick:()=>Ze(Ve.PENCIL),title:"Pencil (B)",children:""}),s.jsx("button",{className:`tool-btn ${Ae===Ve.ERASER?"active":""}`,onClick:()=>Ze(Ve.ERASER),title:"Eraser (E)",children:""}),s.jsx("button",{className:`tool-btn ${Ae===Ve.RECT?"active":""}`,onClick:()=>Ze(Ve.RECT),title:"Rectangle (R)",children:""}),s.jsx("button",{className:`tool-btn ${Ae===Ve.FILL?"active":""}`,onClick:()=>Ze(Ve.FILL),title:"Fill (G)",children:""})]}),s.jsx("div",{className:"toolbar-divider"}),s.jsxs("div",{className:"toolbar-section tiles-section",children:[s.jsx("span",{className:"toolbar-label",children:"Tiles:"}),s.jsx("button",{className:`tile-swatch-btn ${Ge===null?"selected":""}`,onClick:()=>Be(null),title:"Eraser (Empty)",children:""}),ut.map(x=>s.jsx("button",{className:`tile-swatch-btn ${Ge===x.id?"selected":""}`,style:{backgroundColor:x.color},onClick:()=>Be(x.id),title:`${x.name}
${x.collision_type}  ${x.category}`},x.id))]}),Ge!==null&&ut.find(x=>x.id===Ge)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"toolbar-divider"}),s.jsxs("div",{className:"toolbar-section info-section",children:[s.jsx("span",{className:"selected-tile-name",children:(k=ut.find(x=>x.id===Ge))==null?void 0:k.name}),s.jsx("span",{className:"selected-tile-type",children:(te=ut.find(x=>x.id===Ge))==null?void 0:te.collision_type})]})]})]}),s.jsxs("div",{className:"canvas-view layered-canvas",children:[Le[Ee.TILEMAP]&&s.jsx("div",{className:`canvas-layer tilemap-layer ${$e===Ee.TILEMAP?"interactive":""}`,children:s.jsx(om,{tilemap:B||{width:50,height:30,data:[]},tileTypes:ut,selectedTileId:Ge,tool:Ae,tileSize:(e==null?void 0:e.tile_size)||32,showGrid:h,onTileChange:Je,interactive:$e===Ee.TILEMAP,externalZoom:ie,externalPan:$,onZoomChange:T,onPanChange:W})}),Le[Ee.ENTITIES]&&s.jsx("div",{className:`canvas-layer entities-layer ${$e===Ee.ENTITIES?"interactive":""}`,children:s.jsx(sm,{level:n,mode:"draft",entityTypes:de||[],onRename:L,selectedObject:J,onSelectObject:ye,onUpdateObject:u,snapToGrid:m,showGrid:h&&$e===Ee.ENTITIES,gridSize:E,interactive:$e===Ee.ENTITIES,externalZoom:ie,externalPan:$,onZoomChange:T,onPanChange:W})})]})]}):s.jsxs("div",{className:"no-selection",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("h3",{children:"No Level Selected"}),s.jsx("p",{children:"Select a level from the left panel or generate a new one."}),s.jsx("button",{className:"btn-primary",onClick:()=>D("ai"),children:" Generate New Level"})]})}),_==="ai"&&s.jsxs("div",{className:"ai-generation-view",children:[i&&s.jsxs("div",{className:"progress-section",children:[s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${a}%`}})}),s.jsxs("div",{className:"progress-info",children:[s.jsx("span",{children:o}),s.jsxs("span",{children:[a,"%"]})]})]}),s.jsxs("div",{className:"model-bar",children:[s.jsx("label",{children:"AI Model:"}),s.jsx("select",{value:d,onChange:x=>y(x.target.value),children:c&&Object.entries(c).map(([x,O])=>O.map(K=>s.jsxs("option",{value:K.name,children:[x.toUpperCase(),": ",K.display||K.name]},K.name)))})]}),s.jsxs("div",{className:"generation-form",children:[s.jsxs("div",{className:"form-header",children:[s.jsx("h2",{children:" Generate New Level"}),s.jsx("p",{children:"Configure your level settings and let AI create it for you."})]}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Genre"}),s.jsx("div",{className:"genre-grid",children:cm.map(x=>s.jsxs("button",{className:`genre-card ${We===x.id?"active":""}`,onClick:()=>St(x.id),children:[s.jsx("span",{className:"icon",children:x.icon}),s.jsx("span",{className:"name",children:x.name})]},x.id))})]})}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Difficulty"}),s.jsx("div",{className:"diff-grid",children:um.map(x=>s.jsx("button",{className:`diff-card ${je===x.id?"active":""}`,style:{"--active-color":x.color},onClick:()=>b(x.id),children:x.name},x.id))})]})}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group half",children:[s.jsx("label",{children:"Theme"}),s.jsx("input",{type:"text",placeholder:"e.g., forest, castle, space station...",value:U,onChange:x=>Y(x.target.value)})]})}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Additional Requirements"}),s.jsx("textarea",{placeholder:"e.g., Include 5 coins, add moving platforms, make it challenging...",value:re,onChange:x=>Z(x.target.value),rows:3})]})}),s.jsx(am,{entityTypes:de||[],requirements:Ne,onRequirementsChange:Pe}),s.jsx("button",{className:"generate-btn",onClick:kt,disabled:i,children:i?" Generating...":" Generate Level"})]})]})]})]})]})}):s.jsx("div",{className:"levels-page",children:s.jsxs("div",{className:"no-project-state",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("h2",{children:"No Project Selected"}),s.jsx("p",{children:"Select a project from the Dashboard to manage levels."})]})})}const cc=[{id:"textures",label:"Textures",icon:""},{id:"models",label:"Models",icon:""},{id:"audio",label:"Audio",icon:""},{id:"scripts",label:"Scripts",icon:""},{id:"templates",label:"AI Templates",icon:""}];function fm({currentProject:e,onSelectAsset:t,selectedAsset:n}){var y;const[l,r]=f.useState("textures"),[i,a]=f.useState(""),c={textures:[{id:1,name:"Grass Tile",type:"png",size:"64x64",category:"textures"},{id:2,name:"Stone Wall",type:"png",size:"64x64",category:"textures"},{id:3,name:"Water Surface",type:"png",size:"64x64",category:"textures"}],models:[{id:4,name:"Player Character",type:"glb",vertices:1200,category:"models"},{id:5,name:"Enemy Slime",type:"glb",vertices:300,category:"models"}],audio:[{id:6,name:"Jump Sound",type:"wav",duration:"0.5s",category:"audio"},{id:7,name:"Coin Collect",type:"wav",duration:"0.3s",category:"audio"}],scripts:[{id:8,name:"Player Controller",type:"js",lines:150,category:"scripts"},{id:9,name:"Enemy AI",type:"js",lines:80,category:"scripts"}],templates:[{id:10,name:"Forest Level",type:"prompt",tokens:120,category:"templates"},{id:11,name:"Dungeon Room",type:"prompt",tokens:85,category:"templates"}]}[l]||[],d=v=>{const g={...v,typeLabel:"Asset"};t&&t(g)};return e?s.jsxs("div",{className:"library-page",children:[s.jsxs("aside",{className:"sub-nav",children:[s.jsx("div",{className:"sub-nav-header",children:s.jsx("h3",{children:"Asset Types"})}),s.jsx("nav",{className:"sub-nav-list",children:cc.map(v=>s.jsxs("button",{className:`sub-nav-item ${l===v.id?"active":""}`,onClick:()=>r(v.id),children:[s.jsx("span",{className:"sub-nav-icon",children:v.icon}),s.jsx("span",{className:"sub-nav-label",children:v.label})]},v.id))})]}),s.jsxs("main",{className:"main-area",children:[s.jsxs("div",{className:"toolbar",children:[s.jsx("div",{className:"toolbar-left",children:s.jsx("input",{type:"text",placeholder:"Search assets...",value:i,onChange:v=>a(v.target.value),className:"search-input"})}),s.jsxs("div",{className:"toolbar-right",children:[s.jsx("button",{className:"btn-secondary",children:"Import"}),s.jsx("button",{className:"btn-primary",children:"+ Upload Asset"})]})]}),s.jsx("div",{className:"data-grid-container",children:c.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:(y=cc.find(v=>v.id===l))==null?void 0:y.icon}),s.jsxs("h3",{children:["No ",l," yet"]}),s.jsx("p",{children:"Upload or import assets to use in your levels."})]}):s.jsxs("table",{className:"data-grid",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Details"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:c.map(v=>s.jsxs("tr",{className:(n==null?void 0:n.id)===v.id?"selected":"",onClick:()=>d(v),children:[s.jsx("td",{children:s.jsx("strong",{children:v.name})}),s.jsx("td",{children:s.jsx("span",{className:"badge",children:v.type})}),s.jsx("td",{children:v.size||v.vertices||v.duration||v.lines||v.tokens}),s.jsxs("td",{className:"col-actions",children:[s.jsx("button",{className:"action-btn",children:""}),s.jsx("button",{className:"action-btn",children:""})]})]},v.id))})]})})]})]}):s.jsx("div",{className:"placeholder-page",children:s.jsxs("div",{className:"no-project-state",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("h2",{children:"No Project Selected"}),s.jsx("p",{children:"Select a project from the Dashboard to manage assets."})]})})}const pm=[{id:"prompts",label:"Prompt Editor",icon:""},{id:"models",label:"Model Settings",icon:""},{id:"history",label:"Generation History",icon:""},{id:"feedback",label:"Quality Ratings",icon:""}];function mm({availableModels:e,selectedModel:t,onModelChange:n,consoleLogs:l}){const[r,i]=f.useState("prompts"),[a,o]=f.useState(""),c=[{id:1,time:"09:45",model:"gpt-4o",genre:"platformer",status:"success"},{id:2,time:"09:30",model:"llama3.2",genre:"puzzle",status:"success"},{id:3,time:"09:15",model:"gpt-4o",genre:"shooter",status:"failed"}];return s.jsxs("div",{className:"ai-tools-page",children:[s.jsxs("aside",{className:"sub-nav",children:[s.jsx("div",{className:"sub-nav-header",children:s.jsx("h3",{children:"AI Tools"})}),s.jsx("nav",{className:"sub-nav-list",children:pm.map(d=>s.jsxs("button",{className:`sub-nav-item ${r===d.id?"active":""}`,onClick:()=>i(d.id),children:[s.jsx("span",{className:"sub-nav-icon",children:d.icon}),s.jsx("span",{className:"sub-nav-label",children:d.label})]},d.id))})]}),s.jsxs("main",{className:"main-area",children:[r==="prompts"&&s.jsxs("div",{className:"prompt-editor",children:[s.jsxs("div",{className:"toolbar",children:[s.jsx("h2",{children:"Prompt Editor"}),s.jsxs("div",{className:"toolbar-right",children:[s.jsx("button",{className:"btn-secondary",children:"Load Template"}),s.jsx("button",{className:"btn-primary",children:"Save Prompt"})]})]}),s.jsx("div",{className:"editor-area",children:s.jsx("textarea",{value:a,onChange:d=>o(d.target.value),placeholder:`Write your custom level generation prompt here...

Example:
Generate a medium-difficulty platformer level with:
- 10 platforms
- 5 enemies
- 3 collectible coins
- A checkpoint at the halfway point`,className:"prompt-textarea"})}),s.jsxs("div",{className:"prompt-suggestions",children:[s.jsx("h4",{children:"Suggestions"}),s.jsxs("div",{className:"suggestions-list",children:[s.jsx("button",{onClick:()=>o(d=>d+`
- Include moving platforms`),children:"+ Moving platforms"}),s.jsx("button",{onClick:()=>o(d=>d+`
- Add a boss fight area`),children:"+ Boss fight"}),s.jsx("button",{onClick:()=>o(d=>d+`
- Include secret areas`),children:"+ Secret areas"}),s.jsx("button",{onClick:()=>o(d=>d+`
- Add environmental hazards`),children:"+ Hazards"})]})]})]}),r==="models"&&s.jsxs("div",{className:"model-settings",children:[s.jsx("div",{className:"toolbar",children:s.jsx("h2",{children:"Model Settings"})}),s.jsxs("div",{className:"settings-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Active Model"}),s.jsx("select",{value:t,onChange:d=>n(d.target.value),children:e&&Object.entries(e).map(([d,y])=>y.map(v=>s.jsxs("option",{value:v.name,children:[d.toUpperCase(),": ",v.display||v.name]},v.name)))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Temperature"}),s.jsx("input",{type:"range",min:"0",max:"100",defaultValue:"70"}),s.jsx("span",{className:"hint",children:"Higher = more creative, Lower = more consistent"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Max Tokens"}),s.jsx("input",{type:"number",defaultValue:"2000"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Auto-fallback to Ollama"}),s.jsxs("label",{className:"toggle",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0}),s.jsx("span",{className:"toggle-slider"})]}),s.jsx("span",{className:"hint",children:"Automatically switch to local Ollama on rate limits"})]})]})]}),r==="history"&&s.jsxs("div",{className:"generation-history",children:[s.jsxs("div",{className:"toolbar",children:[s.jsx("h2",{children:"Generation History"}),s.jsx("button",{className:"btn-secondary",children:"Clear History"})]}),s.jsxs("table",{className:"data-grid",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Model"}),s.jsx("th",{children:"Genre"}),s.jsx("th",{children:"Status"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:c.map(d=>s.jsxs("tr",{children:[s.jsx("td",{children:d.time}),s.jsx("td",{children:d.model}),s.jsx("td",{children:d.genre}),s.jsx("td",{children:s.jsx("span",{className:`status-badge ${d.status}`,children:d.status==="success"?"":""})}),s.jsx("td",{children:s.jsx("button",{className:"action-btn",children:""})})]},d.id))})]})]}),r==="feedback"&&s.jsxs("div",{className:"feedback-page",children:[s.jsx("div",{className:"toolbar",children:s.jsx("h2",{children:"Quality Ratings"})}),s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:""}),s.jsx("h3",{children:"No ratings yet"}),s.jsx("p",{children:"Rate generated levels to improve AI quality over time."})]})]})]}),s.jsxs("aside",{className:"inspector",children:[s.jsx("div",{className:"inspector-header",children:s.jsx("h3",{children:"AI Status"})}),s.jsxs("div",{className:"inspector-content",children:[s.jsxs("div",{className:"status-section",children:[s.jsxs("div",{className:"status-item",children:[s.jsx("span",{className:"status-label",children:"Current Model"}),s.jsx("span",{className:"status-value",children:t||"None"})]}),s.jsxs("div",{className:"status-item",children:[s.jsx("span",{className:"status-label",children:"Generations Today"}),s.jsx("span",{className:"status-value",children:"12"})]}),s.jsxs("div",{className:"status-item",children:[s.jsx("span",{className:"status-label",children:"Success Rate"}),s.jsx("span",{className:"status-value success",children:"92%"})]})]}),s.jsxs("div",{className:"recent-activity",children:[s.jsx("h4",{children:"Recent Activity"}),l&&l.length>0?s.jsx("div",{className:"activity-list",children:l.slice(-5).map((d,y)=>s.jsxs("div",{className:`activity-item ${d.type}`,children:[s.jsx("span",{className:"activity-time",children:d.time}),s.jsx("span",{className:"activity-msg",children:d.message})]},y))}):s.jsx("p",{className:"hint",children:"No recent activity"})]})]})]})]})}const hm=[{id:"none",label:"None",description:"No collision"},{id:"solid",label:"Solid",description:"Blocks movement"},{id:"passthrough",label:"Passthrough",description:"Can jump through from below"},{id:"hazard",label:"Hazard",description:"Deals damage on contact"},{id:"water",label:"Water",description:"Swimmable fluid"}],uc=[{id:"terrain",label:"Terrain",icon:""},{id:"hazard",label:"Hazard",icon:""},{id:"decoration",label:"Decoration",icon:""},{id:"special",label:"Special",icon:""}],vm=["#808080","#6b7280","#4b5563","#374151","#22c55e","#16a34a","#15803d","#166534","#3b82f6","#2563eb","#1d4ed8","#1e40af","#f59e0b","#d97706","#b45309","#92400e","#ef4444","#dc2626","#b91c1c","#991b1b","#8b5cf6","#7c3aed","#6d28d9","#5b21b6"];function ym({projectId:e,tileTypes:t=[],onRefresh:n,onSelectTile:l,selectedTileId:r}){const[i,a]=f.useState(null),[o,c]=f.useState(!1),[d,y]=f.useState(v());function v(){return{name:"",color:"#808080",description:"",collision_type:"solid",friction:1,damage:0,category:"terrain"}}const g=async()=>{if(!d.name.trim()){alert("Please enter a tile name");return}try{if(!(await fetch(`http://192.168.68.72:8000/api/projects/${e}/tile-types`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name.trim(),color:d.color,description:d.description||null,collision_type:d.collision_type,friction:d.friction,damage:d.damage,category:d.category})})).ok)throw new Error("Failed to create tile type");c(!1),y(v()),n&&n()}catch(u){console.error("Create tile type failed:",u),alert("Failed to create tile type")}},S=async()=>{if(!i||!d.name.trim()){alert("Please enter a tile name");return}try{if(!(await fetch(`http://192.168.68.72:8000/api/tile-types/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name.trim(),color:d.color,description:d.description||null,collision_type:d.collision_type,friction:d.friction,damage:d.damage,category:d.category})})).ok)throw new Error("Failed to update tile type");a(null),y(v()),n&&n()}catch(u){console.error("Update tile type failed:",u),alert("Failed to update tile type")}},C=async u=>{if(confirm("Delete this tile type?"))try{if(!(await fetch(`http://192.168.68.72:8000/api/tile-types/${u}`,{method:"DELETE"})).ok)throw new Error("Failed to delete tile type");(i==null?void 0:i.id)===u&&(a(null),y(v())),n&&n()}catch(m){console.error("Delete tile type failed:",m),alert("Failed to delete tile type")}},L=u=>{a(u),y({name:u.name,color:u.color,description:u.description||"",collision_type:u.collision_type,friction:u.friction,damage:u.damage,category:u.category}),c(!1)},X=()=>{a(null),c(!1),y(v())},p=t.reduce((u,m)=>{const h=m.category||"terrain";return u[h]||(u[h]=[]),u[h].push(m),u},{});return s.jsxs("div",{className:"tile-type-manager",children:[s.jsxs("div",{className:"tile-type-header",children:[s.jsx("h3",{children:"Tile Types"}),s.jsx("button",{className:"btn-small btn-primary",onClick:()=>{c(!0),a(null)},children:"+ New"})]}),s.jsx("div",{className:"tile-type-list",children:uc.map(u=>{const m=p[u.id]||[];return m.length===0&&u.id!=="terrain"?null:s.jsxs("div",{className:"tile-category",children:[s.jsxs("div",{className:"category-header",children:[s.jsx("span",{className:"category-icon",children:u.icon}),s.jsx("span",{className:"category-name",children:u.label}),s.jsx("span",{className:"category-count",children:m.length})]}),s.jsxs("div",{className:"category-tiles",children:[m.map(h=>s.jsxs("div",{className:`tile-type-item ${r===h.id?"selected":""}`,onClick:()=>l&&l(h),children:[s.jsx("div",{className:"tile-preview",style:{backgroundColor:h.color},title:h.name}),s.jsxs("div",{className:"tile-info",children:[s.jsx("span",{className:"tile-name",children:h.name}),s.jsx("span",{className:"tile-collision",children:h.collision_type})]}),s.jsxs("div",{className:"tile-actions",children:[s.jsx("button",{className:"btn-icon",onClick:E=>{E.stopPropagation(),L(h)},title:"Edit",children:""}),s.jsx("button",{className:"btn-icon danger",onClick:E=>{E.stopPropagation(),C(h.id)},title:"Delete",children:""})]})]},h.id)),m.length===0&&u.id==="terrain"&&s.jsxs("div",{className:"no-tiles",children:[s.jsx("p",{children:"No tiles yet"}),s.jsx("button",{className:"btn-primary empty-create-btn",onClick:()=>{c(!0),a(null)},children:"+ Create First Tile Type"})]})]})]},u.id)})}),(o||i)&&s.jsx("div",{className:"tile-type-form-overlay",onClick:X,children:s.jsxs("div",{className:"tile-type-form",onClick:u=>u.stopPropagation(),children:[s.jsx("h4",{children:i?"Edit Tile Type":"Create Tile Type"}),s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Name"}),s.jsx("input",{type:"text",value:d.name,onChange:u=>y({...d,name:u.target.value}),placeholder:"e.g., Grass, Stone, Water...",autoFocus:!0})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-section half",children:[s.jsx("label",{children:"Color"}),s.jsxs("div",{className:"color-picker",children:[s.jsx("input",{type:"color",value:d.color,onChange:u=>y({...d,color:u.target.value})}),s.jsx("div",{className:"color-presets",children:vm.map(u=>s.jsx("button",{type:"button",className:`color-preset ${d.color===u?"selected":""}`,style:{backgroundColor:u},onClick:()=>y({...d,color:u})},u))})]})]}),s.jsxs("div",{className:"form-section half",children:[s.jsx("label",{children:"Category"}),s.jsx("select",{value:d.category,onChange:u=>y({...d,category:u.target.value}),children:uc.map(u=>s.jsxs("option",{value:u.id,children:[u.icon," ",u.label]},u.id))})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Collision Type"}),s.jsx("div",{className:"collision-grid",children:hm.map(u=>s.jsxs("button",{type:"button",className:`collision-option ${d.collision_type===u.id?"selected":""}`,onClick:()=>y({...d,collision_type:u.id}),children:[s.jsx("span",{className:"collision-label",children:u.label}),s.jsx("span",{className:"collision-desc",children:u.description})]},u.id))})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-section half",children:[s.jsx("label",{children:"Friction (0.0 - 1.0)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",value:d.friction,onChange:u=>y({...d,friction:parseFloat(u.target.value)||0})})]}),s.jsxs("div",{className:"form-section half",children:[s.jsx("label",{children:"Damage/Second"}),s.jsx("input",{type:"number",min:"0",value:d.damage,onChange:u=>y({...d,damage:parseInt(u.target.value)||0})})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Description"}),s.jsx("textarea",{value:d.description,onChange:u=>y({...d,description:u.target.value}),placeholder:"Description for AI generation...",rows:2})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{className:"btn-secondary",onClick:X,children:"Cancel"}),s.jsx("button",{className:"btn-primary",onClick:i?S:g,children:i?"Update":"Create"})]})]})})]})}function gm({currentProject:e,availableModels:t,selectedModel:n,onModelChange:l,onUpdateProject:r,theme:i,accentColor:a,onThemeChange:o,onAccentChange:c}){const[d,y]=f.useState("project"),[v,g]=f.useState([]),[S,C]=f.useState(32),[L,X]=f.useState(!1),p=[{id:"project",label:"Project",icon:""},{id:"tiles",label:"Tile Types",icon:""},{id:"ai",label:"AI Settings",icon:""},{id:"ui",label:"UI & Themes",icon:""},{id:"export",label:"Export",icon:""}];f.useEffect(()=>{e&&(u(),C(e.tile_size||32))},[e]);const u=async()=>{if(e)try{const j=await(await fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-types`)).json();g(j)}catch(w){console.error("Failed to load tile types:",w)}},m=async w=>{if(C(w),!!e){X(!0);try{if(!(await fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-size`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tile_size:w})})).ok)throw new Error("Failed to update tile size")}catch(j){console.error("Failed to update tile size:",j)}finally{X(!1)}}},h=[{id:"dark",label:"Dark",icon:""},{id:"light",label:"Light",icon:""},{id:"system",label:"System",icon:""}],E=[{id:"indigo",color:"#6366f1",label:"Indigo"},{id:"purple",color:"#a855f7",label:"Purple"},{id:"green",color:"#22c55e",label:"Green"},{id:"orange",color:"#f97316",label:"Orange"},{id:"red",color:"#ef4444",label:"Red"}],_=w=>{if(w==="system"){const j=window.matchMedia("(prefers-color-scheme: dark)").matches;o(j?"dark":"light")}else o(w)};return s.jsxs("div",{className:"settings-page",children:[s.jsx("header",{className:"page-header",children:s.jsx("h1",{children:"Settings"})}),s.jsxs("div",{className:"settings-layout",children:[s.jsx("nav",{className:"settings-nav",children:p.map(w=>s.jsxs("button",{className:`nav-item ${d===w.id?"active":""}`,onClick:()=>y(w.id),children:[s.jsx("span",{className:"nav-icon",children:w.icon}),s.jsx("span",{className:"nav-label",children:w.label})]},w.id))}),s.jsxs("div",{className:"settings-content",children:[d==="project"&&s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{children:"Project Settings"}),e?s.jsxs("div",{className:"settings-form",children:[s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Project Name"}),s.jsx("input",{type:"text",defaultValue:e.name})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Description"}),s.jsx("textarea",{defaultValue:e.description||"",rows:3})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Created"}),s.jsx("span",{className:"info",children:new Date(e.created_at).toLocaleString()})]}),s.jsx("button",{className:"save-btn",children:"Save Changes"})]}):s.jsx("p",{className:"no-project",children:"No project selected. Choose a project from the Dashboard."})]}),d==="tiles"&&s.jsxs("section",{className:"settings-section tile-settings",children:[s.jsx("h2",{children:"Tile Settings"}),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"settings-form",children:s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Tile Size (pixels)"}),s.jsx("div",{className:"tile-size-options",children:[16,24,32,48,64].map(w=>s.jsxs("button",{className:`tile-size-btn ${S===w?"active":""}`,onClick:()=>m(w),disabled:L,children:[w,"px"]},w))}),s.jsx("span",{className:"hint",children:"Grid size for tilemaps in this project"})]})}),s.jsxs("div",{className:"tile-types-section",children:[s.jsx("h3",{children:"Tile Types"}),s.jsx("p",{className:"section-desc",children:"Define tile types for your project's tilemaps. Each tile type has properties like color, collision, and friction."}),s.jsx(ym,{projectId:e.id,tileTypes:v,onRefresh:u})]})]}):s.jsx("p",{className:"no-project",children:"No project selected. Choose a project from the Dashboard."})]}),d==="ai"&&s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{children:"AI Settings"}),s.jsxs("div",{className:"settings-form",children:[s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Default AI Model"}),s.jsx("select",{value:n,onChange:w=>l(w.target.value),children:t&&Object.entries(t).map(([w,j])=>j.map(F=>s.jsxs("option",{value:F.name,children:[w.toUpperCase(),": ",F.display||F.name]},F.name)))})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Generation Timeout"}),s.jsx("input",{type:"number",defaultValue:90}),s.jsx("span",{className:"hint",children:"Seconds before generation times out"})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Auto-save Levels"}),s.jsxs("label",{className:"toggle",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0}),s.jsx("span",{className:"toggle-slider"})]})]})]})]}),d==="ui"&&s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{children:"UI & Themes"}),s.jsxs("div",{className:"settings-form",children:[s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Theme"}),s.jsx("div",{className:"theme-options",children:h.map(w=>s.jsxs("button",{className:`theme-btn ${i===w.id?"active":""}`,onClick:()=>_(w.id),children:[w.icon," ",w.label]},w.id))}),s.jsx("span",{className:"hint",children:"Choose your preferred color scheme"})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Accent Color"}),s.jsx("div",{className:"color-options",children:E.map(w=>s.jsx("button",{className:`color-btn ${a===w.id?"active":""}`,style:{background:w.color},onClick:()=>c(w.id),title:w.label},w.id))}),s.jsx("span",{className:"hint",children:"Accent color for buttons, links, and highlights"})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Font Size"}),s.jsxs("select",{defaultValue:"medium",children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]}),s.jsx("span",{className:"hint",children:"Adjust the base font size for better readability"})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Compact Mode"}),s.jsxs("label",{className:"toggle",children:[s.jsx("input",{type:"checkbox"}),s.jsx("span",{className:"toggle-slider"})]}),s.jsx("span",{className:"hint",children:"Reduce spacing and padding for more content"})]})]})]}),d==="export"&&s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{children:"Export Settings"}),s.jsxs("div",{className:"settings-form",children:[s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Default Export Format"}),s.jsxs("select",{defaultValue:"json",children:[s.jsx("option",{value:"json",children:"JSON"}),s.jsx("option",{value:"yaml",children:"YAML"}),s.jsx("option",{value:"xml",children:"XML"})]})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{children:"Include Metadata"}),s.jsxs("label",{className:"toggle",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0}),s.jsx("span",{className:"toggle-slider"})]}),s.jsx("span",{className:"hint",children:"Include project and version info in exports"})]})]})]})]})]})]})}const xm=(e,t={})=>{const{maxHistorySize:n=50,debounceMs:l=100}=t,[r,i]=f.useState([e]),[a,o]=f.useState(0),c=f.useRef(null),d=r[a],y=a>0,v=a<r.length-1,g=f.useCallback((u,m=!1)=>{const h=()=>{i(E=>{const _=E.slice(0,a+1);return _.push(u),_.length>n?_.slice(-n):_}),o(E=>Math.min(E+1,n-1))};m?h():(c.current&&clearTimeout(c.current),c.current=setTimeout(h,l))},[a,n,l]),S=f.useCallback(()=>y?(o(u=>u-1),!0):!1,[y]),C=f.useCallback(()=>v?(o(u=>u+1),!0):!1,[v]),L=f.useCallback(u=>u>=0&&u<r.length?(o(u),!0):!1,[r.length]),X=f.useCallback(()=>{i([e]),o(0)},[e]),p=f.useCallback(()=>({length:r.length,currentIndex:a,canUndo:y,canRedo:v}),[r.length,a,y,v]);return f.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]),{state:d,setState:g,undo:S,redo:C,canUndo:y,canRedo:v,jumpTo:L,clearHistory:X,getHistoryInfo:p}},zt="http://192.168.68.72:8000";function jm(){const[e,t]=f.useState("dashboard"),[n,l]=f.useState(()=>localStorage.getItem("levelforge-theme")||"dark"),[r,i]=f.useState(()=>localStorage.getItem("levelforge-accent")||"indigo");f.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),document.documentElement.setAttribute("data-accent",r),localStorage.setItem("levelforge-theme",n),localStorage.setItem("levelforge-accent",r)},[n,r]);const[a,o]=f.useState([]),[c,d]=f.useState(null),[y,v]=f.useState([]),[g,S]=f.useState(!1),[C,L]=f.useState(!1),[X,p]=f.useState("ai"),[u,m]=f.useState(()=>{const N=localStorage.getItem("levelforge-recent-projects");return N?JSON.parse(N):[]}),[h,E]=f.useState([]),[_,w]=f.useState(null),[j,F]=f.useState(null),[A,le]=f.useState(null),[ke,J]=f.useState([]),[ct,We]=f.useState(!1),[St,je]=f.useState(!1),[b,U]=f.useState(0),[Y,re]=f.useState(""),[Z,Ne]=f.useState(null),[Pe,se]=f.useState(!1),[Re,Le]=f.useState({}),[tt,$e]=f.useState(""),[vt,ut]=f.useState(()=>localStorage.getItem("levelforge-snap-to-grid")==="true"),[pe,Ge]=f.useState(()=>localStorage.getItem("levelforge-show-grid")!=="false"),[Be,Ae]=f.useState(()=>{const N=localStorage.getItem("levelforge-grid-size");return N?parseInt(N,10):50});f.useEffect(()=>{localStorage.setItem("levelforge-snap-to-grid",String(vt))},[vt]),f.useEffect(()=>{localStorage.setItem("levelforge-show-grid",String(pe))},[pe]),f.useEffect(()=>{localStorage.setItem("levelforge-grid-size",String(Be))},[Be]);const{state:Ze,setState:B,undo:M,redo:ie,canUndo:z,canRedo:$,getHistoryInfo:Xe}=xm(Z,{maxHistorySize:50,debounceMs:200}),de=Ze||Z,ve=N=>{Ne(N),N&&B(N,!0)},we=f.useCallback(()=>{z&&M()},[z,M]);f.useEffect(()=>{de&&(_==null?void 0:_.type)==="Level"&&(_==null?void 0:_.id)===(de==null?void 0:de.id)&&w({type:"Level",...de})},[de]);const D=(N,I="info")=>{const Q=new Date().toLocaleTimeString("en-US",{hour12:!1});J(Qe=>[...Qe,{message:N,type:I,time:Q}]),(I==="error"||I==="ai-progress")&&We(!0)},Se=()=>{J([])},V=f.useCallback(async N=>{if(!N||!Z)return;const I=de||Z;let Q=null;try{Q=typeof I.level_data=="string"?JSON.parse(I.level_data):I.level_data}catch{return}if(!Q)return;const{type:Qe,data:Mt,index:q,entityType:Ie}=N;Qe==="entity"&&Q.entities&&q!==void 0?Q.entities[q]={...Q.entities[q],...Mt}:Qe==="platform"&&Q.platforms&&q!==void 0?Q.platforms[q]={...Q.platforms[q],...Mt}:Qe==="spawn"?Q.player_spawn={...Q.player_spawn,...Mt}:Qe==="goal"&&(Q.goal={...Q.goal,...Mt});const Ue={...I,level_data:JSON.stringify(Q)};Ne(Ue),B(Ue,!1),v(Gt=>Gt.map(tn=>tn.id===Ue.id?Ue:tn));try{if(!(await fetch(`${zt}/api/levels/${Z.id}?level_data=${encodeURIComponent(JSON.stringify(Q))}`,{method:"PUT"})).ok)throw new Error("Failed to update level");D(`Updated ${Qe} ${q!==void 0?`#${q+1}`:""}`,"info")}catch(Gt){console.error("Update object failed:",Gt),D("Failed to update object","error")}},[Z,de,B,D]);f.useEffect(()=>{yt(),T(),D("LevelForge initialized","system")},[]),f.useEffect(()=>{c&&(st(c.id),Je(c.id),D(`Loaded project: ${c.name}`,"info"))},[c]),f.useEffect(()=>{w(null),F(null)},[e]),f.useEffect(()=>{!c&&e!=="dashboard"&&e!=="settings"&&t("dashboard")},[c,e]);const yt=async()=>{try{const I=await(await fetch(`${zt}/api/projects`)).json();o(I)}catch(N){console.error("Failed to load projects:",N),D("Failed to load projects","error")}},st=async N=>{try{const Q=await(await fetch(`${zt}/api/projects/${N}/levels`)).json();return v(Q),Q}catch(I){return console.error("Failed to load levels:",I),[]}},Je=async N=>{try{const Q=await(await fetch(`${zt}/api/projects/${N}/entity-types`)).json();E(Q)}catch(I){console.error("Failed to load entity types:",I)}},T=async()=>{try{const I=await(await fetch(`${zt}/api/models`)).json();I.providers&&(Le(I.providers),$e(I.current||""),D(`AI model: ${I.current} (${I.current_provider})`,"info"))}catch(N){console.error("Failed to load models:",N)}},W=async N=>{try{await fetch(`${zt}/api/models`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:N})}),$e(N),D(`Switched to model: ${N}`,"info")}catch(I){console.error("Failed to switch model:",I),D("Failed to switch model","error")}},ye=async()=>{const N=prompt("Project name:");if(N)try{const Q=await(await fetch(`${zt}/api/projects?name=${encodeURIComponent(N)}`,{method:"POST"})).json();await yt(),d({id:Q.id,name:Q.name}),t("levels"),D(`Created project: ${N}`,"success")}catch(I){console.error("Failed to create project:",I),D("Failed to create project","error")}},kt=async N=>{d(N),w({type:"Project",name:N.name,...N});const I=await st(N.id);Je(N.id);const Q=`levelforge-recent-level-${N.id}`,Qe=localStorage.getItem(Q);if(Qe&&I.length>0)try{const q=JSON.parse(Qe),Ie=I.find(Ue=>Ue.id===q.id);Ie&&(ve(Ie),w({type:"Level",...Ie}))}catch{}const Mt=[{id:N.id,name:N.name,timestamp:Date.now()},...u.filter(q=>q.id!==N.id)].slice(0,4);m(Mt),localStorage.setItem("levelforge-recent-projects",JSON.stringify(Mt)),D(`Loaded project: ${N.name}`,"info"),t("levels")},R=()=>{S(!0)},k=N=>{const I=a.find(Q=>Q.id===N);I&&kt(I)},te=()=>{S(!1)},x=async N=>{if(!c){const I="Please select a project first";D(I,"error"),alert(I);return}D("=== Level Generation Started ===","ai-progress"),D(`Project: ${c.name}`,"system"),D(`Genre: ${N.genre}`,"system"),D(`Difficulty: ${N.difficulty}`,"system"),D(`Theme: ${N.theme}`,"system"),je(!0),U(0),re("Starting...");try{D("Sending request to backend...","ai-progress");const I={...N,model:tt||void 0,project_id:c.id};D(`Request: ${JSON.stringify(I,null,2)}`,"debug");const Q=await fetch(`${zt}/api/generate/stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!Q.ok){const Ie=await Q.text();throw D(`Server error (${Q.status}): ${Ie}`,"error"),new Error(`Server returned ${Q.status}: ${Ie}`)}D(" Connected to backend, streaming response...","success");const Qe=Q.body.getReader(),Mt=new TextDecoder;let q=0;for(;;){const{done:Ie,value:Ue}=await Qe.read();if(Ie){D("Stream ended","system");break}const tn=Mt.decode(Ue).split(`
`);for(const Me of tn)if(Me.startsWith("data: ")){q++;try{const nt=JSON.parse(Me.slice(6));if(D(`Event: ${nt.event}`,"debug"),nt.event==="progress")U(nt.progress),re(nt.message),D(`   ${nt.message} (${nt.progress}%)`,"ai-progress");else if(nt.event==="result"){const nn=nt.level;ve(nn),U(100),re("Done!"),await st(c.id),D(" Level generated successfully!","success"),D(`Level ID: ${nn.id}`,"system"),p("canvas"),se(!1)}else nt.event==="error"&&(D(` Generation error: ${nt.message}`,"error"),alert(`Generation failed: ${nt.message}`))}catch{D(`Parse error for line: ${Me}`,"warning")}}}q===0&&D(" No events received from stream","warning")}catch(I){console.error("Generation error:",I),D(` Generation failed: ${I.message}`,"error"),D(`Stack trace: ${I.stack}`,"debug"),alert(`Failed to generate level: ${I.message}`)}finally{je(!1),D("Generation process completed","system")}},O=async N=>{try{await fetch(`${zt}/api/projects/${c.id}/entity-types`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),Je(c.id),D(`Created entity: ${N.name}`,"success")}catch(I){console.error("Failed to create entity type:",I),D("Failed to create entity","error")}},K=async(N,I)=>{try{await fetch(`${zt}/api/entity-types/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),Je(c.id),D(`Updated entity: ${I.name}`,"success")}catch(Q){console.error("Failed to update entity type:",Q),D("Failed to update entity","error")}},ge=async N=>{if(confirm("Delete this entity type?"))try{await fetch(`${zt}/api/entity-types/${N}`,{method:"DELETE"}),Je(c.id),w(null),D("Entity deleted","info")}catch(I){console.error("Failed to delete entity type:",I),D("Failed to delete entity","error")}},Oe=N=>{ve(N),w({type:"Level",...N}),c!=null&&c.id&&(N!=null&&N.id)&&localStorage.setItem(`levelforge-recent-level-${c.id}`,JSON.stringify({id:N.id,timestamp:Date.now()}))},gt=async N=>{const I=prompt("Rename level:",(N==null?void 0:N.name)||"");if(!(!I||!I.trim()||I.trim()===N.name))try{if(!(await fetch(`${zt}/api/levels/${N.id}/rename`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:I.trim()})})).ok)throw new Error("Failed to rename level");await st(c.id);const Qe={...N,name:I.trim()};ve(Qe),w({type:"Level",...Qe}),D(`Renamed level to "${I.trim()}"`,"info")}catch(Q){console.error("Rename level failed:",Q),D("Failed to rename level","error"),alert("Failed to rename level")}},xn=async N=>{if(confirm(`Delete level "${N==null?void 0:N.name}"? This cannot be undone.`))try{if(!(await fetch(`${zt}/api/levels/${N.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete level");await st(c.id),(Z==null?void 0:Z.id)===N.id&&Ne(null),(_==null?void 0:_.id)===N.id&&(_==null?void 0:_.type)==="Level"&&w(null),le(null),D(`Deleted level "${N.name}"`,"info")}catch(I){console.error("Delete level failed:",I),D("Failed to delete level","error"),alert("Failed to delete level")}},jn=f.useRef(A);f.useEffect(()=>{jn.current=A},[A]);const tl=f.useCallback(N=>{if(!N||!N.data)return null;const{type:I,data:Q,index:Qe}=N,Mt=(Me,nt)=>{const nn={...Q,[Me]:nt},kd={...N,data:nn};le(kd)},q=(Me,nt)=>{const nn=parseFloat(nt);isNaN(nn)||Mt(Me,nn)},Ie=()=>{const Me=jn.current;Me&&V(Me)},Ue=Me=>{Me.key==="Enter"&&(Me.preventDefault(),Ie(),Me.target.blur())},tn=(()=>{if(I==="entity"){const Me=h.find(nt=>{var nn;return nt.name.toLowerCase()===((nn=N.entityType)==null?void 0:nn.toLowerCase())});if(Me)return{emoji:Me.emoji,name:Me.name}}return I==="platform"?{emoji:"",name:"Platform"}:I==="spawn"?{emoji:"",name:"Player Spawn"}:I==="goal"?{emoji:"",name:"Goal"}:{emoji:"",name:I}})();return s.jsxs("div",{className:"object-inspector",children:[s.jsxs("div",{className:"object-inspector-header",children:[s.jsx("span",{className:"object-icon",children:tn.emoji}),s.jsxs("span",{className:"object-title",children:[tn.name," ",I==="platform"||I==="entity"?`#${(Qe??0)+1}`:""]})]}),s.jsxs("div",{className:"object-section",children:[s.jsx("h4",{children:"Position"}),s.jsxs("div",{className:"object-field",children:[s.jsx("label",{children:"X"}),s.jsx("input",{type:"number",value:Q.x??0,onChange:Me=>q("x",Me.target.value),onBlur:Ie,onKeyDown:Ue})]}),s.jsxs("div",{className:"object-field",children:[s.jsx("label",{children:"Y"}),s.jsx("input",{type:"number",value:Q.y??0,onChange:Me=>q("y",Me.target.value),onBlur:Ie,onKeyDown:Ue})]})]})]})},[h,V]),me=f.useCallback(()=>{var I,Q;if(!Z)return null;let N=null;try{N=typeof Z.level_data=="string"?JSON.parse(Z.level_data):Z.level_data}catch{}return s.jsxs("div",{className:"level-inspector",children:[s.jsxs("div",{className:"level-inspector-header",children:[s.jsx("span",{className:"level-icon",children:""}),s.jsx("span",{className:"level-title",children:Z.name})]}),s.jsxs("div",{className:"level-section",children:[s.jsx("h4",{children:"Properties"}),s.jsxs("div",{className:"level-field",children:[s.jsx("label",{children:"Genre"}),s.jsx("span",{className:"level-value",children:Z.genre||"platformer"})]}),s.jsxs("div",{className:"level-field",children:[s.jsx("label",{children:"Difficulty"}),s.jsx("span",{className:"level-value",children:Z.difficulty||"medium"})]})]}),N&&s.jsxs("div",{className:"level-section",children:[s.jsx("h4",{children:"Contents"}),s.jsxs("div",{className:"level-field",children:[s.jsx("label",{children:"Entities"}),s.jsx("span",{className:"level-value",children:((I=N.entities)==null?void 0:I.length)||0})]}),s.jsxs("div",{className:"level-field",children:[s.jsx("label",{children:"Platforms"}),s.jsx("span",{className:"level-value",children:((Q=N.platforms)==null?void 0:Q.length)||0})]}),N.tilemap&&s.jsxs("div",{className:"level-field",children:[s.jsx("label",{children:"Tilemap"}),s.jsxs("span",{className:"level-value",children:[N.tilemap.width,"x",N.tilemap.height]})]}),s.jsxs("div",{className:"level-field",children:[s.jsx("label",{children:"Player Spawn"}),s.jsx("span",{className:"level-value",children:N.player_spawn?`(${N.player_spawn.x}, ${N.player_spawn.y})`:"Not set"})]}),s.jsxs("div",{className:"level-field",children:[s.jsx("label",{children:"Goal"}),s.jsx("span",{className:"level-value",children:N.goal?`(${N.goal.x}, ${N.goal.y})`:"Not set"})]})]})]})},[Z]),Lt=N=>{w({type:"Entity",...N}),F(null)},Yt=N=>{w({type:"Asset",...N}),F(null)},[ae,ue]=f.useState(null),[G,ne]=f.useState({}),ee=N=>{ue(N),ne({name:N.name,emoji:N.emoji,color:N.color,description:N.description||"",placement_rules:N.placement_rules||"",behavior:N.behavior||"",collision_type:N.collision_type,category:N.category||"actors",metadata_fields:JSON.parse(N.metadata_fields||"[]")}),w({type:"Entity",...N})},fe=async()=>{const N={...G,metadata_fields:JSON.stringify(G.metadata_fields)};await K(ae.id,N),ue(null),F(null),w(null)},oe=()=>{ue(null),F(null)},dt=()=>{if(!ae)return null;const N=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=["text","number","boolean","select"],Q=()=>{ne(q=>({...q,metadata_fields:[...q.metadata_fields,{name:"",type:"text",description:"",default:""}]}))},Qe=(q,Ie,Ue)=>{ne(Gt=>({...Gt,metadata_fields:Gt.metadata_fields.map((tn,Me)=>Me===q?{...tn,[Ie]:Ue}:tn)}))},Mt=q=>{ne(Ie=>({...Ie,metadata_fields:Ie.metadata_fields.filter((Ue,Gt)=>Gt!==q)}))};return s.jsxs("div",{className:"inspector-edit-form",children:[s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Name"}),s.jsx("input",{type:"text",value:G.name,onChange:q=>ne({...G,name:q.target.value}),placeholder:"Entity name..."})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-section half",children:[s.jsx("label",{children:"Color"}),s.jsx("input",{type:"color",value:G.color,onChange:q=>ne({...G,color:q.target.value})})]}),s.jsxs("div",{className:"form-section half",children:[s.jsx("label",{children:"Collision"}),s.jsxs("select",{value:G.collision_type,onChange:q=>ne({...G,collision_type:q.target.value}),children:[s.jsx("option",{value:"neutral",children:"Neutral"}),s.jsx("option",{value:"harmful",children:"Harmful"}),s.jsx("option",{value:"helpful",children:"Helpful"})]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Emoji"}),s.jsx("div",{className:"emoji-grid",children:N.slice(0,18).map(q=>s.jsx("button",{type:"button",className:`emoji-btn ${G.emoji===q?"selected":""}`,onClick:()=>ne({...G,emoji:q}),children:q},q))}),s.jsx("input",{type:"text",value:G.emoji,onChange:q=>ne({...G,emoji:q.target.value}),placeholder:"Or type custom...",className:"mt-2"})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Description"}),s.jsx("textarea",{value:G.description,onChange:q=>ne({...G,description:q.target.value}),placeholder:"Description for AI...",rows:2})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Placement Rules"}),s.jsx("input",{type:"text",value:G.placement_rules,onChange:q=>ne({...G,placement_rules:q.target.value}),placeholder:"e.g., Place on platforms"})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("label",{children:"Behavior"}),s.jsx("input",{type:"text",value:G.behavior,onChange:q=>ne({...G,behavior:q.target.value}),placeholder:"e.g., Patrols left/right"})]}),s.jsxs("div",{className:"form-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("label",{children:"Metadata Fields"}),s.jsx("button",{type:"button",className:"btn-link",onClick:Q,children:"+ Add"})]}),G.metadata_fields.length===0?s.jsx("p",{className:"hint",children:"Add fields like hit_points, speed, etc."}):s.jsx("div",{className:"metadata-list",children:G.metadata_fields.map((q,Ie)=>s.jsxs("div",{className:"metadata-item",children:[s.jsx("input",{type:"text",value:q.name,onChange:Ue=>Qe(Ie,"name",Ue.target.value),placeholder:"Field name"}),s.jsx("select",{value:q.type,onChange:Ue=>Qe(Ie,"type",Ue.target.value),children:I.map(Ue=>s.jsx("option",{value:Ue,children:Ue},Ue))}),s.jsx("button",{type:"button",className:"btn-icon danger",onClick:()=>Mt(Ie),children:""})]},Ie))})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{className:"btn-secondary",onClick:oe,children:"Cancel"}),s.jsx("button",{className:"btn-primary",onClick:fe,children:"Update"})]})]})},At=(N,I)=>{if(D(`Menu: ${I} > ${N}`,"info"),I==="file")switch(N){case"new-project":ye();break;case"open-project":R();break;case"save":D("Project saved","success");break;case"project-settings":t("settings");break;case"exit":confirm("Exit LevelForge?")&&window.close();break;default:if(N.startsWith("recent-")){const Q=parseInt(N.replace("recent-",""));isNaN(Q)||k(Q)}}if(I==="edit")switch(N){case"snap-to-grid":ut(Q=>!Q),D(`Snap to Grid ${vt?"disabled":"enabled"}`,"info");break;case"toggle-grid":Ge(Q=>!Q),D(`Grid ${pe?"hidden":"shown"}`,"info");break;case"grid-size-10":Ae(10),D("Grid size: 10px","info");break;case"grid-size-25":Ae(25),D("Grid size: 25px","info");break;case"grid-size-50":Ae(50),D("Grid size: 50px","info");break;case"grid-size-100":Ae(100),D("Grid size: 100px","info");break;case"preferences":t("settings");break}if(I==="view")switch(N){case"toggle-inspector":break;case"toggle-console":break;case"fullscreen":document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen();break}if(I==="entities")switch(N){case"create-actor":case"create-item":case"create-terrain":case"create-behavior":case"create-script":t("entities");break;case"schema-editor":t("settings");break}if(I==="levels")switch(N){case"new-level":t("levels"),se(!0);break;case"generate-ai":t("levels"),se(!0);break;case"level-settings":t("settings");break}if(I==="ai")switch(N){case"gen-level":t("levels"),se(!0);break;case"model-settings":case"api-config":t("ai-tools");break;case"history":t("ai-tools");break}if(I==="tools")switch(N){case"json-viewer":D("JSON Viewer coming soon...","info");break;case"plugin-manager":D("Plugin Manager coming soon...","info");break}if(I==="help")switch(N){case"documentation":window.open("https://docs.openclaw.ai/levelforge","_blank");break;case"shortcuts":alert(`Keyboard Shortcuts:
          
Ctrl+1-6: Switch tabs
Ctrl+I: Toggle Inspector
Ctrl+\`: Toggle Console
Ctrl+G: Generate Level
Ctrl+S: Save
F11: Fullscreen
Escape: Close menus`);break;case"report-issue":window.open("https://github.com/kire256/levelforge/issues","_blank");break;case"about":alert(`LevelForge AI
          
AI-powered level generator for game developers.

Version: 1.0.0
Built with  by OpenClaw`);break}},Za=()=>{switch(e){case"dashboard":return s.jsx(nm,{projects:a,currentProject:c,onSelectProject:kt,onCreateProject:ye,onGenerateLevel:()=>{if(!c){alert("Please select a project first");return}t("levels")}});case"entities":return s.jsx(rm,{entityTypes:h,currentProject:c,onCreateEntityType:O,onUpdateEntityType:K,onDeleteEntityType:ge,onSelectEntity:Lt,onEditEntity:ee,selectedEntity:_});case"levels":return s.jsx(dm,{currentProject:c,levels:y,currentLevel:de,onSelectLevel:Oe,onGenerateLevel:x,generating:St,progress:b,progressMessage:Y,availableModels:Re,selectedModel:tt,onModelChange:W,showGenerator:Pe,onShowGeneratorChange:se,viewMode:X,onViewModeChange:p,onRenameLevel:gt,selectedObject:A,onSelectObject:le,onUpdateObject:V,snapToGrid:vt,showGrid:pe,gridSize:Be});case"library":return s.jsx(fm,{currentProject:c,onSelectAsset:Yt,selectedAsset:_});case"ai-tools":return s.jsx(mm,{availableModels:Re,selectedModel:tt,onModelChange:W,consoleLogs:ke});case"settings":return s.jsx(gm,{currentProject:c,availableModels:Re,selectedModel:tt,onModelChange:W,theme:n,accentColor:r,onThemeChange:l,onAccentChange:i});default:return null}};return s.jsx(tm,{activeTab:e,onTabChange:t,onMenuAction:At,selectedItem:_,inspectorContent:ae?dt():e==="levels"&&A?tl(A):e==="levels"&&Z&&!A?me():j,consoleLogs:ke,onClearConsole:Se,onEditItem:ee,onRenameLevel:gt,onDeleteLevel:xn,recentProjects:u,projects:a,showProjectModal:g,onCloseProjectModal:te,onSelectProject:kt,forceShowConsole:ct,onConsoleShown:()=>We(!1),canUndo:z,canRedo:$,onUndo:we,onRedo:ie,historyInfo:Xe(),currentProject:c,showAboutModal:C,onCloseAboutModal:()=>L(!1),snapToGrid:vt,showGrid:pe,gridSize:Be,children:Za()})}ui.createRoot(document.getElementById("root")).render(s.jsx(Ud.StrictMode,{children:s.jsx(jm,{})}));
