(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cc={exports:{}},Ns={},uc={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=Symbol.for("react.element"),Sd=Symbol.for("react.portal"),kd=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),_d=Symbol.for("react.context"),Pd=Symbol.for("react.forward_ref"),Ld=Symbol.for("react.suspense"),Md=Symbol.for("react.memo"),zd=Symbol.for("react.lazy"),Ka=Symbol.iterator;function bd(e){return e===null||typeof e!="object"?null:(e=Ka&&e[Ka]||e["@@iterator"],typeof e=="function"?e:null)}var dc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fc=Object.assign,pc={};function _l(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||dc}_l.prototype.isReactComponent={};_l.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mc(){}mc.prototype=_l.prototype;function na(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||dc}var la=na.prototype=new mc;la.constructor=na;fc(la,_l.prototype);la.isPureReactComponent=!0;var Ja=Array.isArray,hc=Object.prototype.hasOwnProperty,ra={current:null},vc={key:!0,ref:!0,__self:!0,__source:!0};function yc(e,t,n){var l,s={},i=null,a=null;if(t!=null)for(l in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)hc.call(t,l)&&!vc.hasOwnProperty(l)&&(s[l]=t[l]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}if(e&&e.defaultProps)for(l in c=e.defaultProps,c)s[l]===void 0&&(s[l]=c[l]);return{$$typeof:vr,type:e,key:i,ref:a,props:s,_owner:ra.current}}function Dd(e,t){return{$$typeof:vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===vr}function Rd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Za=/\/+/g;function Fs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rd(""+e.key):t.toString(36)}function Ar(e,t,n,l,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vr:case Sd:a=!0}}if(a)return a=e,s=s(a),e=l===""?"."+Fs(a,0):l,Ja(s)?(n="",e!=null&&(n=e.replace(Za,"$&/")+"/"),Ar(s,t,n,"",function(d){return d})):s!=null&&(sa(s)&&(s=Dd(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Za,"$&/")+"/")+e)),t.push(s)),1;if(a=0,l=l===""?".":l+":",Ja(e))for(var c=0;c<e.length;c++){i=e[c];var o=l+Fs(i,c);a+=Ar(i,t,n,o,s)}else if(o=bd(e),typeof o=="function")for(e=o.call(e),c=0;!(i=e.next()).done;)i=i.value,o=l+Fs(i,c++),a+=Ar(i,t,n,o,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Nr(e,t,n){if(e==null)return e;var l=[],s=0;return Ar(e,l,"","",function(i){return t.call(n,i,s++)}),l}function Id(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Or={transition:null},Fd={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Or,ReactCurrentOwner:ra};function gc(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Nr,forEach:function(e,t,n){Nr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nr(e,function(){t++}),t},toArray:function(e){return Nr(e,function(t){return t})||[]},only:function(e){if(!sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=_l;fe.Fragment=kd;fe.Profiler=Ed;fe.PureComponent=na;fe.StrictMode=Cd;fe.Suspense=Ld;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fd;fe.act=gc;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=fc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ra.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)hc.call(t,o)&&!vc.hasOwnProperty(o)&&(l[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}return{$$typeof:vr,type:e.type,key:s,ref:i,props:l,_owner:a}};fe.createContext=function(e){return e={$$typeof:_d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Td,_context:e},e.Consumer=e};fe.createElement=yc;fe.createFactory=function(e){var t=yc.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Pd,render:e}};fe.isValidElement=sa;fe.lazy=function(e){return{$$typeof:zd,_payload:{_status:-1,_result:e},_init:Id}};fe.memo=function(e,t){return{$$typeof:Md,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Or.transition;Or.transition={};try{e()}finally{Or.transition=t}};fe.unstable_act=gc;fe.useCallback=function(e,t){return mt.current.useCallback(e,t)};fe.useContext=function(e){return mt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return mt.current.useEffect(e,t)};fe.useId=function(){return mt.current.useId()};fe.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return mt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};fe.useRef=function(e){return mt.current.useRef(e)};fe.useState=function(e){return mt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return mt.current.useTransition()};fe.version="18.3.1";uc.exports=fe;var h=uc.exports;const $d=wd(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=h,Od=Symbol.for("react.element"),Ud=Symbol.for("react.fragment"),Hd=Object.prototype.hasOwnProperty,Wd=Ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bd={key:!0,ref:!0,__self:!0,__source:!0};function xc(e,t,n){var l,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(l in t)Hd.call(t,l)&&!Bd.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)s[l]===void 0&&(s[l]=t[l]);return{$$typeof:Od,type:e,key:i,ref:a,props:s,_owner:Wd.current}}Ns.Fragment=Ud;Ns.jsx=xc;Ns.jsxs=xc;cc.exports=Ns;var r=cc.exports,ci={},jc={exports:{}},bt={},Nc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,U){var V=I.length;I.push(U);e:for(;0<V;){var ce=V-1>>>1,J=I[ce];if(0<s(J,U))I[ce]=U,I[V]=J,V=ce;else break e}}function n(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var U=I[0],V=I.pop();if(V!==U){I[0]=V;e:for(var ce=0,J=I.length,ue=J>>>1;ce<ue;){var Le=2*(ce+1)-1,D=I[Le],L=Le+1,O=I[L];if(0>s(D,V))L<J&&0>s(O,D)?(I[ce]=O,I[L]=V,ce=L):(I[ce]=D,I[Le]=V,ce=Le);else if(L<J&&0>s(O,V))I[ce]=O,I[L]=V,ce=L;else break e}}return U}function s(I,U){var V=I.sortIndex-U.sortIndex;return V!==0?V:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var o=[],d=[],v=1,p=null,g=3,N=!1,S=!1,_=!1,B=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(I){for(var U=n(d);U!==null;){if(U.callback===null)l(d);else if(U.startTime<=I)l(d),U.sortIndex=U.expirationTime,t(o,U);else break;U=n(d)}}function y(I){if(_=!1,f(I),!S)if(n(o)!==null)S=!0,ut(C);else{var U=n(d);U!==null&&Ke(y,U.startTime-I)}}function C(I,U){S=!1,_&&(_=!1,m(x),x=-1),N=!0;var V=g;try{for(f(U),p=n(o);p!==null&&(!(p.expirationTime>U)||I&&!se());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,g=p.priorityLevel;var J=ce(p.expirationTime<=U);U=e.unstable_now(),typeof J=="function"?p.callback=J:p===n(o)&&l(o),f(U)}else l(o);p=n(o)}if(p!==null)var ue=!0;else{var Le=n(d);Le!==null&&Ke(y,Le.startTime-U),ue=!1}return ue}finally{p=null,g=V,N=!1}}var T=!1,j=null,x=-1,F=5,$=-1;function se(){return!(e.unstable_now()-$<F)}function Se(){if(j!==null){var I=e.unstable_now();$=I;var U=!0;try{U=j(!0,I)}finally{U?X():(T=!1,j=null)}}else T=!1}var X;if(typeof u=="function")X=function(){u(Se)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,ct=$e.port2;$e.port1.onmessage=Se,X=function(){ct.postMessage(null)}}else X=function(){B(Se,0)};function ut(I){j=I,T||(T=!0,X())}function Ke(I,U){x=B(function(){I(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){S||N||(S=!0,ut(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var V=g;g=U;try{return I()}finally{g=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=g;g=I;try{return U()}finally{g=V}},e.unstable_scheduleCallback=function(I,U,V){var ce=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=V+J,I={id:v++,callback:U,priorityLevel:I,startTime:V,expirationTime:J,sortIndex:-1},V>ce?(I.sortIndex=V,t(d,I),n(o)===null&&I===n(d)&&(_?(m(x),x=-1):_=!0,Ke(y,V-ce))):(I.sortIndex=J,t(o,I),S||N||(S=!0,ut(C))),I},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(I){var U=g;return function(){var V=g;g=U;try{return I.apply(this,arguments)}finally{g=V}}}})(wc);Nc.exports=wc;var Vd=Nc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=h,zt=Vd;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sc=new Set,ql={};function qn(e,t){Nl(e,t),Nl(e+"Capture",t)}function Nl(e,t){for(ql[e]=t,e=0;e<t.length;e++)Sc.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=Object.prototype.hasOwnProperty,Gd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qa={},eo={};function Xd(e){return ui.call(eo,e)?!0:ui.call(qa,e)?!1:Gd.test(e)?eo[e]=!0:(qa[e]=!0,!1)}function Qd(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kd(e,t,n,l){if(t===null||typeof t>"u"||Qd(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,l,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var ia=/[\-:]([a-z])/g;function aa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ia,aa);lt[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ia,aa);lt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ia,aa);lt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function oa(e,t,n,l){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kd(t,n,s,l)&&(n=null),l||s===null?Xd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,l=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var gn=Yd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wr=Symbol.for("react.element"),ll=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),ca=Symbol.for("react.strict_mode"),di=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),Cc=Symbol.for("react.context"),ua=Symbol.for("react.forward_ref"),fi=Symbol.for("react.suspense"),pi=Symbol.for("react.suspense_list"),da=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Ec=Symbol.for("react.offscreen"),to=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=to&&e[to]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,$s;function Ol(e){if($s===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$s=t&&t[1]||""}return`
`+$s+e}var As=!1;function Os(e,t){if(!e||As)return"";As=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var l=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){l=d}e.call(t.prototype)}else{try{throw Error()}catch(d){l=d}e()}}catch(d){if(d&&l&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=l.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var o=`
`+s[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=c);break}}}finally{As=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ol(e):""}function Jd(e){switch(e.tag){case 5:return Ol(e.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return e=Os(e.type,!1),e;case 11:return e=Os(e.type.render,!1),e;case 1:return e=Os(e.type,!0),e;default:return""}}function mi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rl:return"Fragment";case ll:return"Portal";case di:return"Profiler";case ca:return"StrictMode";case fi:return"Suspense";case pi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cc:return(e.displayName||"Context")+".Consumer";case kc:return(e._context.displayName||"Context")+".Provider";case ua:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case da:return t=e.displayName||null,t!==null?t:mi(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return mi(e(t))}catch{}}return null}function Zd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mi(t);case 8:return t===ca?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function In(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qd(e){var t=Tc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){l=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(a){l=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sr(e){e._valueTracker||(e._valueTracker=qd(e))}function _c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Tc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hi(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function no(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=In(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pc(e,t){t=t.checked,t!=null&&oa(e,"checked",t,!1)}function vi(e,t){Pc(e,t);var n=In(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yi(e,t.type,n):t.hasOwnProperty("defaultValue")&&yi(e,t.type,In(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yi(e,t,n){(t!=="number"||Jr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ul=Array.isArray;function hl(e,t,n,l){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&l&&(e[n].defaultSelected=!0)}else{for(n=""+In(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function gi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ro(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Ul(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:In(n)}}function Lc(e,t){var n=In(t.value),l=In(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function so(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kr,zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ef=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){ef.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function bc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function Dc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,s=bc(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,s):e[n]=s}}var tf=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ji(e,t){if(t){if(tf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Ni(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,vl=null,yl=null;function io(e){if(e=xr(e)){if(typeof Si!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Es(t),Si(e.stateNode,e.type,t))}}function Rc(e){vl?yl?yl.push(e):yl=[e]:vl=e}function Ic(){if(vl){var e=vl,t=yl;if(yl=vl=null,io(e),t)for(e=0;e<t.length;e++)io(t[e])}}function Fc(e,t){return e(t)}function $c(){}var Us=!1;function Ac(e,t,n){if(Us)return e(t,n);Us=!0;try{return Fc(e,t,n)}finally{Us=!1,(vl!==null||yl!==null)&&($c(),Ic())}}function tr(e,t){var n=e.stateNode;if(n===null)return null;var l=Es(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ki=!1;if(mn)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){ki=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{ki=!1}function nf(e,t,n,l,s,i,a,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(v){this.onError(v)}}var Vl=!1,Zr=null,qr=!1,Ci=null,lf={onError:function(e){Vl=!0,Zr=e}};function rf(e,t,n,l,s,i,a,c,o){Vl=!1,Zr=null,nf.apply(lf,arguments)}function sf(e,t,n,l,s,i,a,c,o){if(rf.apply(this,arguments),Vl){if(Vl){var d=Zr;Vl=!1,Zr=null}else throw Error(P(198));qr||(qr=!0,Ci=d)}}function el(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Oc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ao(e){if(el(e)!==e)throw Error(P(188))}function af(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,l=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(l=s.return,l!==null){n=l;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ao(s),e;if(i===l)return ao(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==l.return)n=s,l=i;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,l=i;break}if(c===l){a=!0,l=s,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,l=s;break}if(c===l){a=!0,l=i,n=s;break}c=c.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==l)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Uc(e){return e=af(e),e!==null?Hc(e):null}function Hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hc(e);if(t!==null)return t;e=e.sibling}return null}var Wc=zt.unstable_scheduleCallback,oo=zt.unstable_cancelCallback,of=zt.unstable_shouldYield,cf=zt.unstable_requestPaint,Ue=zt.unstable_now,uf=zt.unstable_getCurrentPriorityLevel,pa=zt.unstable_ImmediatePriority,Bc=zt.unstable_UserBlockingPriority,es=zt.unstable_NormalPriority,df=zt.unstable_LowPriority,Vc=zt.unstable_IdlePriority,ws=null,sn=null;function ff(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ws,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:hf,pf=Math.log,mf=Math.LN2;function hf(e){return e>>>=0,e===0?32:31-(pf(e)/mf|0)|0}var Cr=64,Er=4194304;function Hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?l=Hl(c):(i&=a,i!==0&&(l=Hl(i)))}else a=n&~s,a!==0?l=Hl(a):i!==0&&(l=Hl(i));if(l===0)return 0;if(t!==0&&t!==l&&!(t&s)&&(s=l&-l,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Kt(t),s=1<<n,l|=e[n],t&=~s;return l}function vf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Kt(i),c=1<<a,o=s[a];o===-1?(!(c&n)||c&l)&&(s[a]=vf(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}}function Ei(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yc(){var e=Cr;return Cr<<=1,!(Cr&4194240)&&(Cr=64),e}function Hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=n}function gf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Kt(n),i=1<<s;t[s]=0,l[s]=-1,e[s]=-1,n&=~i}}function ma(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Kt(n),s=1<<l;s&t|e[l]&t&&(e[l]|=t),n&=~s}}var ke=0;function Gc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xc,ha,Qc,Kc,Jc,Ti=!1,Tr=[],_n=null,Pn=null,Ln=null,nr=new Map,lr=new Map,kn=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function co(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(t.pointerId)}}function bl(e,t,n,l,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:i,targetContainers:[s]},t!==null&&(t=xr(t),t!==null&&ha(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jf(e,t,n,l,s){switch(t){case"focusin":return _n=bl(_n,e,t,n,l,s),!0;case"dragenter":return Pn=bl(Pn,e,t,n,l,s),!0;case"mouseover":return Ln=bl(Ln,e,t,n,l,s),!0;case"pointerover":var i=s.pointerId;return nr.set(i,bl(nr.get(i)||null,e,t,n,l,s)),!0;case"gotpointercapture":return i=s.pointerId,lr.set(i,bl(lr.get(i)||null,e,t,n,l,s)),!0}return!1}function Zc(e){var t=Wn(e.target);if(t!==null){var n=el(t);if(n!==null){if(t=n.tag,t===13){if(t=Oc(n),t!==null){e.blockedOn=t,Jc(e.priority,function(){Qc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ur(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_i(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);wi=l,n.target.dispatchEvent(l),wi=null}else return t=xr(n),t!==null&&ha(t),e.blockedOn=n,!1;t.shift()}return!0}function uo(e,t,n){Ur(e)&&n.delete(t)}function Nf(){Ti=!1,_n!==null&&Ur(_n)&&(_n=null),Pn!==null&&Ur(Pn)&&(Pn=null),Ln!==null&&Ur(Ln)&&(Ln=null),nr.forEach(uo),lr.forEach(uo)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ti||(Ti=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,Nf)))}function rr(e){function t(s){return Dl(s,e)}if(0<Tr.length){Dl(Tr[0],e);for(var n=1;n<Tr.length;n++){var l=Tr[n];l.blockedOn===e&&(l.blockedOn=null)}}for(_n!==null&&Dl(_n,e),Pn!==null&&Dl(Pn,e),Ln!==null&&Dl(Ln,e),nr.forEach(t),lr.forEach(t),n=0;n<kn.length;n++)l=kn[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)Zc(n),n.blockedOn===null&&kn.shift()}var gl=gn.ReactCurrentBatchConfig,ns=!0;function wf(e,t,n,l){var s=ke,i=gl.transition;gl.transition=null;try{ke=1,va(e,t,n,l)}finally{ke=s,gl.transition=i}}function Sf(e,t,n,l){var s=ke,i=gl.transition;gl.transition=null;try{ke=4,va(e,t,n,l)}finally{ke=s,gl.transition=i}}function va(e,t,n,l){if(ns){var s=_i(e,t,n,l);if(s===null)Zs(e,t,l,ls,n),co(e,l);else if(jf(s,e,t,n,l))l.stopPropagation();else if(co(e,l),t&4&&-1<xf.indexOf(e)){for(;s!==null;){var i=xr(s);if(i!==null&&Xc(i),i=_i(e,t,n,l),i===null&&Zs(e,t,l,ls,n),i===s)break;s=i}s!==null&&l.stopPropagation()}else Zs(e,t,l,null,n)}}var ls=null;function _i(e,t,n,l){if(ls=null,e=fa(l),e=Wn(e),e!==null)if(t=el(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Oc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ls=e,null}function qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case pa:return 1;case Bc:return 4;case es:case df:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var En=null,ya=null,Hr=null;function eu(){if(Hr)return Hr;var e,t=ya,n=t.length,l,s="value"in En?En.value:En.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(l=1;l<=a&&t[n-l]===s[i-l];l++);return Hr=s.slice(e,1<l?1-l:void 0)}function Wr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function fo(){return!1}function Dt(e){function t(n,l,s,i,a){this._reactName=n,this._targetInst=s,this.type=l,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_r:fo,this.isPropagationStopped=fo,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Dt(Pl),gr=De({},Pl,{view:0,detail:0}),kf=Dt(gr),Ws,Bs,Rl,Ss=De({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rl&&(Rl&&e.type==="mousemove"?(Ws=e.screenX-Rl.screenX,Bs=e.screenY-Rl.screenY):Bs=Ws=0,Rl=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),po=Dt(Ss),Cf=De({},Ss,{dataTransfer:0}),Ef=Dt(Cf),Tf=De({},gr,{relatedTarget:0}),Vs=Dt(Tf),_f=De({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),Pf=Dt(_f),Lf=De({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mf=Dt(Lf),zf=De({},Pl,{data:0}),mo=Dt(zf),bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rf[e])?!!t[e]:!1}function xa(){return If}var Ff=De({},gr,{key:function(e){if(e.key){var t=bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Df[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return e.type==="keypress"?Wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$f=Dt(Ff),Af=De({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=Dt(Af),Of=De({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Uf=Dt(Of),Hf=De({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wf=Dt(Hf),Bf=De({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=Dt(Bf),Yf=[9,13,27,32],ja=mn&&"CompositionEvent"in window,Yl=null;mn&&"documentMode"in document&&(Yl=document.documentMode);var Gf=mn&&"TextEvent"in window&&!Yl,tu=mn&&(!ja||Yl&&8<Yl&&11>=Yl),vo=" ",yo=!1;function nu(e,t){switch(e){case"keyup":return Yf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sl=!1;function Xf(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(yo=!0,vo);case"textInput":return e=t.data,e===vo&&yo?null:e;default:return null}}function Qf(e,t){if(sl)return e==="compositionend"||!ja&&nu(e,t)?(e=eu(),Hr=ya=En=null,sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tu&&t.locale!=="ko"?null:t.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kf[e.type]:t==="textarea"}function ru(e,t,n,l){Rc(l),t=rs(t,"onChange"),0<t.length&&(n=new ga("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Gl=null,sr=null;function Jf(e){hu(e,0)}function ks(e){var t=ol(e);if(_c(t))return e}function Zf(e,t){if(e==="change")return t}var su=!1;if(mn){var Ys;if(mn){var Gs="oninput"in document;if(!Gs){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),Gs=typeof xo.oninput=="function"}Ys=Gs}else Ys=!1;su=Ys&&(!document.documentMode||9<document.documentMode)}function jo(){Gl&&(Gl.detachEvent("onpropertychange",iu),sr=Gl=null)}function iu(e){if(e.propertyName==="value"&&ks(sr)){var t=[];ru(t,sr,e,fa(e)),Ac(Jf,t)}}function qf(e,t,n){e==="focusin"?(jo(),Gl=t,sr=n,Gl.attachEvent("onpropertychange",iu)):e==="focusout"&&jo()}function ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(sr)}function tp(e,t){if(e==="click")return ks(t)}function np(e,t){if(e==="input"||e==="change")return ks(t)}function lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:lp;function ir(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var s=n[l];if(!ui.call(t,s)||!Zt(e[s],t[s]))return!1}return!0}function No(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wo(e,t){var n=No(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=No(n)}}function au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ou(){for(var e=window,t=Jr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jr(e.document)}return t}function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rp(e){var t=ou(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&au(n.ownerDocument.documentElement,n)){if(l!==null&&Na(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(l.start,s);l=l.end===void 0?i:Math.min(l.end,s),!e.extend&&i>l&&(s=l,l=i,i=s),s=wo(n,i);var a=wo(n,l);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>l?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sp=mn&&"documentMode"in document&&11>=document.documentMode,il=null,Pi=null,Xl=null,Li=!1;function So(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Li||il==null||il!==Jr(l)||(l=il,"selectionStart"in l&&Na(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&ir(Xl,l)||(Xl=l,l=rs(Pi,"onSelect"),0<l.length&&(t=new ga("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=il)))}function Pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var al={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionend:Pr("Transition","TransitionEnd")},Xs={},cu={};mn&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Cs(e){if(Xs[e])return Xs[e];if(!al[e])return e;var t=al[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cu)return Xs[e]=t[n];return e}var uu=Cs("animationend"),du=Cs("animationiteration"),fu=Cs("animationstart"),pu=Cs("transitionend"),mu=new Map,ko="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){mu.set(e,t),qn(t,[e])}for(var Qs=0;Qs<ko.length;Qs++){var Ks=ko[Qs],ip=Ks.toLowerCase(),ap=Ks[0].toUpperCase()+Ks.slice(1);$n(ip,"on"+ap)}$n(uu,"onAnimationEnd");$n(du,"onAnimationIteration");$n(fu,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(pu,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function Co(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,sf(l,t,void 0,e),e.currentTarget=null}function hu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],s=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var a=l.length-1;0<=a;a--){var c=l[a],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==i&&s.isPropagationStopped())break e;Co(s,c,d),i=o}else for(a=0;a<l.length;a++){if(c=l[a],o=c.instance,d=c.currentTarget,c=c.listener,o!==i&&s.isPropagationStopped())break e;Co(s,c,d),i=o}}}if(qr)throw e=Ci,qr=!1,Ci=null,e}function Te(e,t){var n=t[Ri];n===void 0&&(n=t[Ri]=new Set);var l=e+"__bubble";n.has(l)||(vu(t,e,2,!1),n.add(l))}function Js(e,t,n){var l=0;t&&(l|=4),vu(n,e,l,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function ar(e){if(!e[Lr]){e[Lr]=!0,Sc.forEach(function(n){n!=="selectionchange"&&(op.has(n)||Js(n,!1,e),Js(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,Js("selectionchange",!1,t))}}function vu(e,t,n,l){switch(qc(t)){case 1:var s=wf;break;case 4:s=Sf;break;default:s=va}n=s.bind(null,t,n,e),s=void 0,!ki||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zs(e,t,n,l,s){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var a=l.tag;if(a===3||a===4){var c=l.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=l.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Wn(c),a===null)return;if(o=a.tag,o===5||o===6){l=i=a;continue e}c=c.parentNode}}l=l.return}Ac(function(){var d=i,v=fa(n),p=[];e:{var g=mu.get(e);if(g!==void 0){var N=ga,S=e;switch(e){case"keypress":if(Wr(n)===0)break e;case"keydown":case"keyup":N=$f;break;case"focusin":S="focus",N=Vs;break;case"focusout":S="blur",N=Vs;break;case"beforeblur":case"afterblur":N=Vs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Uf;break;case uu:case du:case fu:N=Pf;break;case pu:N=Wf;break;case"scroll":N=kf;break;case"wheel":N=Vf;break;case"copy":case"cut":case"paste":N=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=ho}var _=(t&4)!==0,B=!_&&e==="scroll",m=_?g!==null?g+"Capture":null:g;_=[];for(var u=d,f;u!==null;){f=u;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,m!==null&&(y=tr(u,m),y!=null&&_.push(or(u,y,f)))),B)break;u=u.return}0<_.length&&(g=new N(g,S,null,n,v),p.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",g&&n!==wi&&(S=n.relatedTarget||n.fromElement)&&(Wn(S)||S[hn]))break e;if((N||g)&&(g=v.window===v?v:(g=v.ownerDocument)?g.defaultView||g.parentWindow:window,N?(S=n.relatedTarget||n.toElement,N=d,S=S?Wn(S):null,S!==null&&(B=el(S),S!==B||S.tag!==5&&S.tag!==6)&&(S=null)):(N=null,S=d),N!==S)){if(_=po,y="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(_=ho,y="onPointerLeave",m="onPointerEnter",u="pointer"),B=N==null?g:ol(N),f=S==null?g:ol(S),g=new _(y,u+"leave",N,n,v),g.target=B,g.relatedTarget=f,y=null,Wn(v)===d&&(_=new _(m,u+"enter",S,n,v),_.target=f,_.relatedTarget=B,y=_),B=y,N&&S)t:{for(_=N,m=S,u=0,f=_;f;f=nl(f))u++;for(f=0,y=m;y;y=nl(y))f++;for(;0<u-f;)_=nl(_),u--;for(;0<f-u;)m=nl(m),f--;for(;u--;){if(_===m||m!==null&&_===m.alternate)break t;_=nl(_),m=nl(m)}_=null}else _=null;N!==null&&Eo(p,g,N,_,!1),S!==null&&B!==null&&Eo(p,B,S,_,!0)}}e:{if(g=d?ol(d):window,N=g.nodeName&&g.nodeName.toLowerCase(),N==="select"||N==="input"&&g.type==="file")var C=Zf;else if(go(g))if(su)C=np;else{C=ep;var T=qf}else(N=g.nodeName)&&N.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=tp);if(C&&(C=C(e,d))){ru(p,C,n,v);break e}T&&T(e,g,d),e==="focusout"&&(T=g._wrapperState)&&T.controlled&&g.type==="number"&&yi(g,"number",g.value)}switch(T=d?ol(d):window,e){case"focusin":(go(T)||T.contentEditable==="true")&&(il=T,Pi=d,Xl=null);break;case"focusout":Xl=Pi=il=null;break;case"mousedown":Li=!0;break;case"contextmenu":case"mouseup":case"dragend":Li=!1,So(p,n,v);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":So(p,n,v)}var j;if(ja)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else sl?nu(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(tu&&n.locale!=="ko"&&(sl||x!=="onCompositionStart"?x==="onCompositionEnd"&&sl&&(j=eu()):(En=v,ya="value"in En?En.value:En.textContent,sl=!0)),T=rs(d,x),0<T.length&&(x=new mo(x,e,null,n,v),p.push({event:x,listeners:T}),j?x.data=j:(j=lu(n),j!==null&&(x.data=j)))),(j=Gf?Xf(e,n):Qf(e,n))&&(d=rs(d,"onBeforeInput"),0<d.length&&(v=new mo("onBeforeInput","beforeinput",null,n,v),p.push({event:v,listeners:d}),v.data=j))}hu(p,t)})}function or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rs(e,t){for(var n=t+"Capture",l=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tr(e,n),i!=null&&l.unshift(or(e,i,s)),i=tr(e,t),i!=null&&l.push(or(e,i,s))),e=e.return}return l}function nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eo(e,t,n,l,s){for(var i=t._reactName,a=[];n!==null&&n!==l;){var c=n,o=c.alternate,d=c.stateNode;if(o!==null&&o===l)break;c.tag===5&&d!==null&&(c=d,s?(o=tr(n,i),o!=null&&a.unshift(or(n,o,c))):s||(o=tr(n,i),o!=null&&a.push(or(n,o,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var cp=/\r\n?/g,up=/\u0000|\uFFFD/g;function To(e){return(typeof e=="string"?e:""+e).replace(cp,`
`).replace(up,"")}function Mr(e,t,n){if(t=To(t),To(e)!==t&&n)throw Error(P(425))}function ss(){}var Mi=null,zi=null;function bi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Di=typeof setTimeout=="function"?setTimeout:void 0,dp=typeof clearTimeout=="function"?clearTimeout:void 0,_o=typeof Promise=="function"?Promise:void 0,fp=typeof queueMicrotask=="function"?queueMicrotask:typeof _o<"u"?function(e){return _o.resolve(null).then(e).catch(pp)}:Di;function pp(e){setTimeout(function(){throw e})}function qs(e,t){var n=t,l=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(l===0){e.removeChild(s),rr(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=s}while(n);rr(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Po(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ll,cr="__reactProps$"+Ll,hn="__reactContainer$"+Ll,Ri="__reactEvents$"+Ll,mp="__reactListeners$"+Ll,hp="__reactHandles$"+Ll;function Wn(e){var t=e[rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Po(e);e!==null;){if(n=e[rn])return n;e=Po(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[rn]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ol(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Es(e){return e[cr]||null}var Ii=[],cl=-1;function An(e){return{current:e}}function _e(e){0>cl||(e.current=Ii[cl],Ii[cl]=null,cl--)}function Ce(e,t){cl++,Ii[cl]=e.current,e.current=t}var Fn={},ot=An(Fn),jt=An(!1),Xn=Fn;function wl(e,t){var n=e.type.contextTypes;if(!n)return Fn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(e){return e=e.childContextTypes,e!=null}function is(){_e(jt),_e(ot)}function Lo(e,t,n){if(ot.current!==Fn)throw Error(P(168));Ce(ot,t),Ce(jt,n)}function yu(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var s in l)if(!(s in t))throw Error(P(108,Zd(e)||"Unknown",s));return De({},n,l)}function as(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,Xn=ot.current,Ce(ot,e),Ce(jt,jt.current),!0}function Mo(e,t,n){var l=e.stateNode;if(!l)throw Error(P(169));n?(e=yu(e,t,Xn),l.__reactInternalMemoizedMergedChildContext=e,_e(jt),_e(ot),Ce(ot,e)):_e(jt),Ce(jt,n)}var un=null,Ts=!1,ei=!1;function gu(e){un===null?un=[e]:un.push(e)}function vp(e){Ts=!0,gu(e)}function On(){if(!ei&&un!==null){ei=!0;var e=0,t=ke;try{var n=un;for(ke=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}un=null,Ts=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),Wc(pa,On),s}finally{ke=t,ei=!1}}return null}var ul=[],dl=0,os=null,cs=0,It=[],Ft=0,Qn=null,dn=1,fn="";function Un(e,t){ul[dl++]=cs,ul[dl++]=os,os=e,cs=t}function xu(e,t,n){It[Ft++]=dn,It[Ft++]=fn,It[Ft++]=Qn,Qn=e;var l=dn;e=fn;var s=32-Kt(l)-1;l&=~(1<<s),n+=1;var i=32-Kt(t)+s;if(30<i){var a=s-s%5;i=(l&(1<<a)-1).toString(32),l>>=a,s-=a,dn=1<<32-Kt(t)+s|n<<s|l,fn=i+e}else dn=1<<i|n<<s|l,fn=e}function wa(e){e.return!==null&&(Un(e,1),xu(e,1,0))}function Sa(e){for(;e===os;)os=ul[--dl],ul[dl]=null,cs=ul[--dl],ul[dl]=null;for(;e===Qn;)Qn=It[--Ft],It[Ft]=null,fn=It[--Ft],It[Ft]=null,dn=It[--Ft],It[Ft]=null}var Mt=null,Lt=null,Pe=!1,Qt=null;function ju(e,t){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:dn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Lt=null,!0):!1;default:return!1}}function Fi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $i(e){if(Pe){var t=Lt;if(t){var n=t;if(!zo(e,t)){if(Fi(e))throw Error(P(418));t=Mn(n.nextSibling);var l=Mt;t&&zo(e,t)?ju(l,n):(e.flags=e.flags&-4097|2,Pe=!1,Mt=e)}}else{if(Fi(e))throw Error(P(418));e.flags=e.flags&-4097|2,Pe=!1,Mt=e}}}function bo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function zr(e){if(e!==Mt)return!1;if(!Pe)return bo(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bi(e.type,e.memoizedProps)),t&&(t=Lt)){if(Fi(e))throw Nu(),Error(P(418));for(;t;)ju(e,t),t=Mn(t.nextSibling)}if(bo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Mt?Mn(e.stateNode.nextSibling):null;return!0}function Nu(){for(var e=Lt;e;)e=Mn(e.nextSibling)}function Sl(){Lt=Mt=null,Pe=!1}function ka(e){Qt===null?Qt=[e]:Qt.push(e)}var yp=gn.ReactCurrentBatchConfig;function Il(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var l=n.stateNode}if(!l)throw Error(P(147,e));var s=l,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function br(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Do(e){var t=e._init;return t(e._payload)}function wu(e){function t(m,u){if(e){var f=m.deletions;f===null?(m.deletions=[u],m.flags|=16):f.push(u)}}function n(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function l(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function s(m,u){return m=Rn(m,u),m.index=0,m.sibling=null,m}function i(m,u,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<u?(m.flags|=2,u):f):(m.flags|=2,u)):(m.flags|=1048576,u)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function c(m,u,f,y){return u===null||u.tag!==6?(u=ai(f,m.mode,y),u.return=m,u):(u=s(u,f),u.return=m,u)}function o(m,u,f,y){var C=f.type;return C===rl?v(m,u,f.props.children,y,f.key):u!==null&&(u.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&Do(C)===u.type)?(y=s(u,f.props),y.ref=Il(m,u,f),y.return=m,y):(y=Kr(f.type,f.key,f.props,null,m.mode,y),y.ref=Il(m,u,f),y.return=m,y)}function d(m,u,f,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=oi(f,m.mode,y),u.return=m,u):(u=s(u,f.children||[]),u.return=m,u)}function v(m,u,f,y,C){return u===null||u.tag!==7?(u=Gn(f,m.mode,y,C),u.return=m,u):(u=s(u,f),u.return=m,u)}function p(m,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=ai(""+u,m.mode,f),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case wr:return f=Kr(u.type,u.key,u.props,null,m.mode,f),f.ref=Il(m,null,u),f.return=m,f;case ll:return u=oi(u,m.mode,f),u.return=m,u;case wn:var y=u._init;return p(m,y(u._payload),f)}if(Ul(u)||Ml(u))return u=Gn(u,m.mode,f,null),u.return=m,u;br(m,u)}return null}function g(m,u,f,y){var C=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return C!==null?null:c(m,u,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case wr:return f.key===C?o(m,u,f,y):null;case ll:return f.key===C?d(m,u,f,y):null;case wn:return C=f._init,g(m,u,C(f._payload),y)}if(Ul(f)||Ml(f))return C!==null?null:v(m,u,f,y,null);br(m,f)}return null}function N(m,u,f,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(f)||null,c(u,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wr:return m=m.get(y.key===null?f:y.key)||null,o(u,m,y,C);case ll:return m=m.get(y.key===null?f:y.key)||null,d(u,m,y,C);case wn:var T=y._init;return N(m,u,f,T(y._payload),C)}if(Ul(y)||Ml(y))return m=m.get(f)||null,v(u,m,y,C,null);br(u,y)}return null}function S(m,u,f,y){for(var C=null,T=null,j=u,x=u=0,F=null;j!==null&&x<f.length;x++){j.index>x?(F=j,j=null):F=j.sibling;var $=g(m,j,f[x],y);if($===null){j===null&&(j=F);break}e&&j&&$.alternate===null&&t(m,j),u=i($,u,x),T===null?C=$:T.sibling=$,T=$,j=F}if(x===f.length)return n(m,j),Pe&&Un(m,x),C;if(j===null){for(;x<f.length;x++)j=p(m,f[x],y),j!==null&&(u=i(j,u,x),T===null?C=j:T.sibling=j,T=j);return Pe&&Un(m,x),C}for(j=l(m,j);x<f.length;x++)F=N(j,m,x,f[x],y),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?x:F.key),u=i(F,u,x),T===null?C=F:T.sibling=F,T=F);return e&&j.forEach(function(se){return t(m,se)}),Pe&&Un(m,x),C}function _(m,u,f,y){var C=Ml(f);if(typeof C!="function")throw Error(P(150));if(f=C.call(f),f==null)throw Error(P(151));for(var T=C=null,j=u,x=u=0,F=null,$=f.next();j!==null&&!$.done;x++,$=f.next()){j.index>x?(F=j,j=null):F=j.sibling;var se=g(m,j,$.value,y);if(se===null){j===null&&(j=F);break}e&&j&&se.alternate===null&&t(m,j),u=i(se,u,x),T===null?C=se:T.sibling=se,T=se,j=F}if($.done)return n(m,j),Pe&&Un(m,x),C;if(j===null){for(;!$.done;x++,$=f.next())$=p(m,$.value,y),$!==null&&(u=i($,u,x),T===null?C=$:T.sibling=$,T=$);return Pe&&Un(m,x),C}for(j=l(m,j);!$.done;x++,$=f.next())$=N(j,m,x,$.value,y),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?x:$.key),u=i($,u,x),T===null?C=$:T.sibling=$,T=$);return e&&j.forEach(function(Se){return t(m,Se)}),Pe&&Un(m,x),C}function B(m,u,f,y){if(typeof f=="object"&&f!==null&&f.type===rl&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case wr:e:{for(var C=f.key,T=u;T!==null;){if(T.key===C){if(C=f.type,C===rl){if(T.tag===7){n(m,T.sibling),u=s(T,f.props.children),u.return=m,m=u;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&Do(C)===T.type){n(m,T.sibling),u=s(T,f.props),u.ref=Il(m,T,f),u.return=m,m=u;break e}n(m,T);break}else t(m,T);T=T.sibling}f.type===rl?(u=Gn(f.props.children,m.mode,y,f.key),u.return=m,m=u):(y=Kr(f.type,f.key,f.props,null,m.mode,y),y.ref=Il(m,u,f),y.return=m,m=y)}return a(m);case ll:e:{for(T=f.key;u!==null;){if(u.key===T)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(m,u.sibling),u=s(u,f.children||[]),u.return=m,m=u;break e}else{n(m,u);break}else t(m,u);u=u.sibling}u=oi(f,m.mode,y),u.return=m,m=u}return a(m);case wn:return T=f._init,B(m,u,T(f._payload),y)}if(Ul(f))return S(m,u,f,y);if(Ml(f))return _(m,u,f,y);br(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(m,u.sibling),u=s(u,f),u.return=m,m=u):(n(m,u),u=ai(f,m.mode,y),u.return=m,m=u),a(m)):n(m,u)}return B}var kl=wu(!0),Su=wu(!1),us=An(null),ds=null,fl=null,Ca=null;function Ea(){Ca=fl=ds=null}function Ta(e){var t=us.current;_e(us),e._currentValue=t}function Ai(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function xl(e,t){ds=e,Ca=fl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},fl===null){if(ds===null)throw Error(P(308));fl=e,ds.dependencies={lanes:0,firstContext:e}}else fl=fl.next=e;return t}var Bn=null;function _a(e){Bn===null?Bn=[e]:Bn.push(e)}function ku(e,t,n,l){var s=t.interleaved;return s===null?(n.next=n,_a(t)):(n.next=s.next,s.next=n),t.interleaved=n,vn(e,l)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,je&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,vn(e,n)}return s=l.interleaved,s===null?(t.next=t,_a(l)):(t.next=s.next,s.next=t),l.interleaved=t,vn(e,n)}function Br(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ma(e,n)}}function Ro(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,l){var s=e.updateQueue;Sn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,d=o.next;o.next=null,a===null?i=d:a.next=d,a=o;var v=e.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==a&&(c===null?v.firstBaseUpdate=d:c.next=d,v.lastBaseUpdate=o))}if(i!==null){var p=s.baseState;a=0,v=d=o=null,c=i;do{var g=c.lane,N=c.eventTime;if((l&g)===g){v!==null&&(v=v.next={eventTime:N,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=e,_=c;switch(g=t,N=n,_.tag){case 1:if(S=_.payload,typeof S=="function"){p=S.call(N,p,g);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,g=typeof S=="function"?S.call(N,p,g):S,g==null)break e;p=De({},p,g);break e;case 2:Sn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[c]:g.push(c))}else N={eventTime:N,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(d=v=N,o=p):v=v.next=N,a|=g;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(v===null&&(o=p),s.baseState=o,s.firstBaseUpdate=d,s.lastBaseUpdate=v,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Jn|=a,e.lanes=a,e.memoizedState=p}}function Io(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],s=l.callback;if(s!==null){if(l.callback=null,l=n,typeof s!="function")throw Error(P(191,s));s.call(l)}}}var jr={},an=An(jr),ur=An(jr),dr=An(jr);function Vn(e){if(e===jr)throw Error(P(174));return e}function La(e,t){switch(Ce(dr,t),Ce(ur,e),Ce(an,jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xi(t,e)}_e(an),Ce(an,t)}function Cl(){_e(an),_e(ur),_e(dr)}function Eu(e){Vn(dr.current);var t=Vn(an.current),n=xi(t,e.type);t!==n&&(Ce(ur,e),Ce(an,n))}function Ma(e){ur.current===e&&(_e(an),_e(ur))}var ze=An(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function za(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var Vr=gn.ReactCurrentDispatcher,ni=gn.ReactCurrentBatchConfig,Kn=0,be=null,We=null,Xe=null,ms=!1,Ql=!1,fr=0,gp=0;function st(){throw Error(P(321))}function ba(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Da(e,t,n,l,s,i){if(Kn=i,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vr.current=e===null||e.memoizedState===null?wp:Sp,e=n(l,s),Ql){i=0;do{if(Ql=!1,fr=0,25<=i)throw Error(P(301));i+=1,Xe=We=null,t.updateQueue=null,Vr.current=kp,e=n(l,s)}while(Ql)}if(Vr.current=hs,t=We!==null&&We.next!==null,Kn=0,Xe=We=be=null,ms=!1,t)throw Error(P(300));return e}function Ra(){var e=fr!==0;return fr=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?be.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ut(){if(We===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Xe===null?be.memoizedState:Xe.next;if(t!==null)Xe=t,We=e;else{if(e===null)throw Error(P(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Xe===null?be.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function pr(e,t){return typeof t=="function"?t(e):t}function li(e){var t=Ut(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=We,s=l.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}l.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,l=l.baseState;var c=a=null,o=null,d=i;do{var v=d.lane;if((Kn&v)===v)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),l=d.hasEagerState?d.eagerState:e(l,d.action);else{var p={lane:v,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=p,a=l):o=o.next=p,be.lanes|=v,Jn|=v}d=d.next}while(d!==null&&d!==i);o===null?a=l:o.next=c,Zt(l,t.memoizedState)||(xt=!0),t.memoizedState=l,t.baseState=a,t.baseQueue=o,n.lastRenderedState=l}if(e=n.interleaved,e!==null){s=e;do i=s.lane,be.lanes|=i,Jn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ri(e){var t=Ut(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Zt(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,l]}function Tu(){}function _u(e,t){var n=be,l=Ut(),s=t(),i=!Zt(l.memoizedState,s);if(i&&(l.memoizedState=s,xt=!0),l=l.queue,Ia(Mu.bind(null,n,l,e),[e]),l.getSnapshot!==t||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,mr(9,Lu.bind(null,n,l,s,t),void 0,null),Qe===null)throw Error(P(349));Kn&30||Pu(n,t,s)}return s}function Pu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lu(e,t,n,l){t.value=n,t.getSnapshot=l,zu(t)&&bu(e)}function Mu(e,t,n){return n(function(){zu(t)&&bu(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function bu(e){var t=vn(e,1);t!==null&&Jt(t,e,1,-1)}function Fo(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t.queue=e,e=e.dispatch=Np.bind(null,be,e),[t.memoizedState,e]}function mr(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Du(){return Ut().memoizedState}function Yr(e,t,n,l){var s=ln();be.flags|=e,s.memoizedState=mr(1|t,n,void 0,l===void 0?null:l)}function _s(e,t,n,l){var s=Ut();l=l===void 0?null:l;var i=void 0;if(We!==null){var a=We.memoizedState;if(i=a.destroy,l!==null&&ba(l,a.deps)){s.memoizedState=mr(t,n,i,l);return}}be.flags|=e,s.memoizedState=mr(1|t,n,i,l)}function $o(e,t){return Yr(8390656,8,e,t)}function Ia(e,t){return _s(2048,8,e,t)}function Ru(e,t){return _s(4,2,e,t)}function Iu(e,t){return _s(4,4,e,t)}function Fu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $u(e,t,n){return n=n!=null?n.concat([e]):null,_s(4,4,Fu.bind(null,t,e),n)}function Fa(){}function Au(e,t){var n=Ut();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&ba(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Ou(e,t){var n=Ut();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&ba(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function Uu(e,t,n){return Kn&21?(Zt(n,t)||(n=Yc(),be.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function xp(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var l=ni.transition;ni.transition={};try{e(!1),t()}finally{ke=n,ni.transition=l}}function Hu(){return Ut().memoizedState}function jp(e,t,n){var l=Dn(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},Wu(e))Bu(t,n);else if(n=ku(e,t,n,l),n!==null){var s=pt();Jt(n,e,l,s),Vu(n,t,l)}}function Np(e,t,n){var l=Dn(e),s={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Bu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,c=i(a,n);if(s.hasEagerState=!0,s.eagerState=c,Zt(c,a)){var o=t.interleaved;o===null?(s.next=s,_a(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}n=ku(e,t,s,l),n!==null&&(s=pt(),Jt(n,e,l,s),Vu(n,t,l))}}function Wu(e){var t=e.alternate;return e===be||t!==null&&t===be}function Bu(e,t){Ql=ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vu(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ma(e,n)}}var hs={readContext:Ot,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},wp={readContext:Ot,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:$o,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yr(4194308,4,Fu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=ln();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=jp.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Fo,useDebugValue:Fa,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=xp.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=be,s=ln();if(Pe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Qe===null)throw Error(P(349));Kn&30||Pu(l,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$o(Mu.bind(null,l,i,e),[e]),l.flags|=2048,mr(9,Lu.bind(null,l,i,n,t),void 0,null),n},useId:function(){var e=ln(),t=Qe.identifierPrefix;if(Pe){var n=fn,l=dn;n=(l&~(1<<32-Kt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sp={readContext:Ot,useCallback:Au,useContext:Ot,useEffect:Ia,useImperativeHandle:$u,useInsertionEffect:Ru,useLayoutEffect:Iu,useMemo:Ou,useReducer:li,useRef:Du,useState:function(){return li(pr)},useDebugValue:Fa,useDeferredValue:function(e){var t=Ut();return Uu(t,We.memoizedState,e)},useTransition:function(){var e=li(pr)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:_u,useId:Hu,unstable_isNewReconciler:!1},kp={readContext:Ot,useCallback:Au,useContext:Ot,useEffect:Ia,useImperativeHandle:$u,useInsertionEffect:Ru,useLayoutEffect:Iu,useMemo:Ou,useReducer:ri,useRef:Du,useState:function(){return ri(pr)},useDebugValue:Fa,useDeferredValue:function(e){var t=Ut();return We===null?t.memoizedState=e:Uu(t,We.memoizedState,e)},useTransition:function(){var e=ri(pr)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:_u,useId:Hu,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oi(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ps={isMounted:function(e){return(e=e._reactInternals)?el(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=pt(),s=Dn(e),i=pn(l,s);i.payload=t,n!=null&&(i.callback=n),t=zn(e,i,s),t!==null&&(Jt(t,e,s,l),Br(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=pt(),s=Dn(e),i=pn(l,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zn(e,i,s),t!==null&&(Jt(t,e,s,l),Br(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),l=Dn(e),s=pn(n,l);s.tag=2,t!=null&&(s.callback=t),t=zn(e,s,l),t!==null&&(Jt(t,e,l,n),Br(t,e,l))}};function Ao(e,t,n,l,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,a):t.prototype&&t.prototype.isPureReactComponent?!ir(n,l)||!ir(s,i):!0}function Yu(e,t,n){var l=!1,s=Fn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(s=Nt(t)?Xn:ot.current,l=t.contextTypes,i=(l=l!=null)?wl(e,s):Fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function Ui(e,t,n,l){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ot(i):(i=Nt(t)?Xn:ot.current,s.context=wl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oi(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ps.enqueueReplaceState(s,s.state,null),fs(e,n,s,l),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function El(e,t){try{var n="",l=t;do n+=Jd(l),l=l.return;while(l);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function si(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cp=typeof WeakMap=="function"?WeakMap:Map;function Gu(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){ys||(ys=!0,Zi=l),Hi(e,t)},n}function Xu(e,t,n){n=pn(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var s=t.value;n.payload=function(){return l(s)},n.callback=function(){Hi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hi(e,t),typeof l!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Uo(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Cp;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(n)||(s.add(n),e=Ap.bind(null,e,t,n),t.then(e,e))}function Ho(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wo(e,t,n,l,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,zn(n,t,1))),n.lanes|=1),e)}var Ep=gn.ReactCurrentOwner,xt=!1;function ft(e,t,n,l){t.child=e===null?Su(t,null,n,l):kl(t,e.child,n,l)}function Bo(e,t,n,l,s){n=n.render;var i=t.ref;return xl(t,s),l=Da(e,t,n,l,i,s),n=Ra(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yn(e,t,s)):(Pe&&n&&wa(t),t.flags|=1,ft(e,t,l,s),t.child)}function Vo(e,t,n,l,s){if(e===null){var i=n.type;return typeof i=="function"&&!Va(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Qu(e,t,i,l,s)):(e=Kr(n.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ir,n(a,l)&&e.ref===t.ref)return yn(e,t,s)}return t.flags|=1,e=Rn(i,l),e.ref=t.ref,e.return=t,t.child=e}function Qu(e,t,n,l,s){if(e!==null){var i=e.memoizedProps;if(ir(i,l)&&e.ref===t.ref)if(xt=!1,t.pendingProps=l=i,(e.lanes&s)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,yn(e,t,s)}return Wi(e,t,n,l,s)}function Ku(e,t,n){var l=t.pendingProps,s=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ml,Pt),Pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(ml,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=i!==null?i.baseLanes:n,Ce(ml,Pt),Pt|=l}else i!==null?(l=i.baseLanes|n,t.memoizedState=null):l=n,Ce(ml,Pt),Pt|=l;return ft(e,t,s,n),t.child}function Ju(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wi(e,t,n,l,s){var i=Nt(n)?Xn:ot.current;return i=wl(t,i),xl(t,s),n=Da(e,t,n,l,i,s),l=Ra(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yn(e,t,s)):(Pe&&l&&wa(t),t.flags|=1,ft(e,t,n,s),t.child)}function Yo(e,t,n,l,s){if(Nt(n)){var i=!0;as(t)}else i=!1;if(xl(t,s),t.stateNode===null)Gr(e,t),Yu(t,n,l),Ui(t,n,l,s),l=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var o=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ot(d):(d=Nt(n)?Xn:ot.current,d=wl(t,d));var v=n.getDerivedStateFromProps,p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==l||o!==d)&&Oo(t,a,l,d),Sn=!1;var g=t.memoizedState;a.state=g,fs(t,l,a,s),o=t.memoizedState,c!==l||g!==o||jt.current||Sn?(typeof v=="function"&&(Oi(t,n,v,l),o=t.memoizedState),(c=Sn||Ao(t,n,c,l,g,o,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=o),a.props=l,a.state=o,a.context=d,l=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{a=t.stateNode,Cu(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Gt(t.type,c),a.props=d,p=t.pendingProps,g=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=Ot(o):(o=Nt(n)?Xn:ot.current,o=wl(t,o));var N=n.getDerivedStateFromProps;(v=typeof N=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||g!==o)&&Oo(t,a,l,o),Sn=!1,g=t.memoizedState,a.state=g,fs(t,l,a,s);var S=t.memoizedState;c!==p||g!==S||jt.current||Sn?(typeof N=="function"&&(Oi(t,n,N,l),S=t.memoizedState),(d=Sn||Ao(t,n,d,l,g,S,o)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(l,S,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(l,S,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=S),a.props=l,a.state=S,a.context=o,l=d):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),l=!1)}return Bi(e,t,n,l,i,s)}function Bi(e,t,n,l,s,i){Ju(e,t);var a=(t.flags&128)!==0;if(!l&&!a)return s&&Mo(t,n,!1),yn(e,t,i);l=t.stateNode,Ep.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&a?(t.child=kl(t,e.child,null,i),t.child=kl(t,null,c,i)):ft(e,t,c,i),t.memoizedState=l.state,s&&Mo(t,n,!0),t.child}function Zu(e){var t=e.stateNode;t.pendingContext?Lo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(e,t.context,!1),La(e,t.containerInfo)}function Go(e,t,n,l,s){return Sl(),ka(s),t.flags|=256,ft(e,t,n,l),t.child}var Vi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null,transitions:null}}function qu(e,t,n){var l=t.pendingProps,s=ze.current,i=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(ze,s&1),e===null)return $i(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=l.children,e=l.fallback,i?(l=t.mode,i=t.child,a={mode:"hidden",children:a},!(l&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=zs(a,l,0,null),e=Gn(e,l,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yi(n),t.memoizedState=Vi,e):$a(t,a));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Tp(e,t,a,l,c,s,n);if(i){i=l.fallback,a=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:l.children};return!(a&1)&&t.child!==s?(l=t.child,l.childLanes=0,l.pendingProps=o,t.deletions=null):(l=Rn(s,o),l.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Rn(c,i):(i=Gn(i,a,n,null),i.flags|=2),i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,a=e.child.memoizedState,a=a===null?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Vi,l}return i=e.child,e=i.sibling,l=Rn(i,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function $a(e,t){return t=zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dr(e,t,n,l){return l!==null&&ka(l),kl(t,e.child,null,n),e=$a(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tp(e,t,n,l,s,i,a){if(n)return t.flags&256?(t.flags&=-257,l=si(Error(P(422))),Dr(e,t,a,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=l.fallback,s=t.mode,l=zs({mode:"visible",children:l.children},s,0,null),i=Gn(i,s,a,null),i.flags|=2,l.return=t,i.return=t,l.sibling=i,t.child=l,t.mode&1&&kl(t,e.child,null,a),t.child.memoizedState=Yi(a),t.memoizedState=Vi,i);if(!(t.mode&1))return Dr(e,t,a,null);if(s.data==="$!"){if(l=s.nextSibling&&s.nextSibling.dataset,l)var c=l.dgst;return l=c,i=Error(P(419)),l=si(i,l,void 0),Dr(e,t,a,l)}if(c=(a&e.childLanes)!==0,xt||c){if(l=Qe,l!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(l.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vn(e,s),Jt(l,e,s,-1))}return Ba(),l=si(Error(P(421))),Dr(e,t,a,l)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Op.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Lt=Mn(s.nextSibling),Mt=t,Pe=!0,Qt=null,e!==null&&(It[Ft++]=dn,It[Ft++]=fn,It[Ft++]=Qn,dn=e.id,fn=e.overflow,Qn=t),t=$a(t,l.children),t.flags|=4096,t)}function Xo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ai(e.return,t,n)}function ii(e,t,n,l,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=n,i.tailMode=s)}function ed(e,t,n){var l=t.pendingProps,s=l.revealOrder,i=l.tail;if(ft(e,t,l.children,n),l=ze.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xo(e,n,t);else if(e.tag===19)Xo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ce(ze,l),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ii(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ps(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ii(t,!0,n,null,i);break;case"together":ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _p(e,t,n){switch(t.tag){case 3:Zu(t),Sl();break;case 5:Eu(t);break;case 1:Nt(t.type)&&as(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,s=t.memoizedProps.value;Ce(us,l._currentValue),l._currentValue=s;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Ce(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?qu(e,t,n):(Ce(ze,ze.current&1),e=yn(e,t,n),e!==null?e.sibling:null);Ce(ze,ze.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return ed(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(ze,ze.current),l)break;return null;case 22:case 23:return t.lanes=0,Ku(e,t,n)}return yn(e,t,n)}var td,Gi,nd,ld;td=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gi=function(){};nd=function(e,t,n,l){var s=e.memoizedProps;if(s!==l){e=t.stateNode,Vn(an.current);var i=null;switch(n){case"input":s=hi(e,s),l=hi(e,l),i=[];break;case"select":s=De({},s,{value:void 0}),l=De({},l,{value:void 0}),i=[];break;case"textarea":s=gi(e,s),l=gi(e,l),i=[];break;default:typeof s.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=ss)}ji(n,l);var a;n=null;for(d in s)if(!l.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ql.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in l){var o=l[d];if(c=s!=null?s[d]:void 0,l.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&c[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(i||(i=[]),i.push(d,n)),n=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(i=i||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ql.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&Te("scroll",e),i||c===o||(i=[])):(i=i||[]).push(d,o))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ld=function(e,t,n,l){n!==l&&(t.flags|=4)};function Fl(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags&14680064,l|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Pp(e,t,n){var l=t.pendingProps;switch(Sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return Nt(t.type)&&is(),it(t),null;case 3:return l=t.stateNode,Cl(),_e(jt),_e(ot),za(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(ta(Qt),Qt=null))),Gi(e,t),it(t),null;case 5:Ma(t);var s=Vn(dr.current);if(n=t.type,e!==null&&t.stateNode!=null)nd(e,t,n,l,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(P(166));return it(t),null}if(e=Vn(an.current),zr(t)){l=t.stateNode,n=t.type;var i=t.memoizedProps;switch(l[rn]=t,l[cr]=i,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",l),Te("close",l);break;case"iframe":case"object":case"embed":Te("load",l);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Te(Wl[s],l);break;case"source":Te("error",l);break;case"img":case"image":case"link":Te("error",l),Te("load",l);break;case"details":Te("toggle",l);break;case"input":no(l,i),Te("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!i.multiple},Te("invalid",l);break;case"textarea":ro(l,i),Te("invalid",l)}ji(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?l.textContent!==c&&(i.suppressHydrationWarning!==!0&&Mr(l.textContent,c,e),s=["children",c]):typeof c=="number"&&l.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Mr(l.textContent,c,e),s=["children",""+c]):ql.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Te("scroll",l)}switch(n){case"input":Sr(l),lo(l,i,!0);break;case"textarea":Sr(l),so(l);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(l.onclick=ss)}l=s,t.updateQueue=l,l!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=a.createElement(n,{is:l.is}):(e=a.createElement(n),n==="select"&&(a=e,l.multiple?a.multiple=!0:l.size&&(a.size=l.size))):e=a.createElementNS(e,n),e[rn]=t,e[cr]=l,td(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ni(n,l),n){case"dialog":Te("cancel",e),Te("close",e),s=l;break;case"iframe":case"object":case"embed":Te("load",e),s=l;break;case"video":case"audio":for(s=0;s<Wl.length;s++)Te(Wl[s],e);s=l;break;case"source":Te("error",e),s=l;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=l;break;case"details":Te("toggle",e),s=l;break;case"input":no(e,l),s=hi(e,l),Te("invalid",e);break;case"option":s=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},s=De({},l,{value:void 0}),Te("invalid",e);break;case"textarea":ro(e,l),s=gi(e,l),Te("invalid",e);break;default:s=l}ji(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var o=c[i];i==="style"?Dc(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&zc(e,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&er(e,o):typeof o=="number"&&er(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ql.hasOwnProperty(i)?o!=null&&i==="onScroll"&&Te("scroll",e):o!=null&&oa(e,i,o,a))}switch(n){case"input":Sr(e),lo(e,l,!1);break;case"textarea":Sr(e),so(e);break;case"option":l.value!=null&&e.setAttribute("value",""+In(l.value));break;case"select":e.multiple=!!l.multiple,i=l.value,i!=null?hl(e,!!l.multiple,i,!1):l.defaultValue!=null&&hl(e,!!l.multiple,l.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ss)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)ld(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(P(166));if(n=Vn(dr.current),Vn(an.current),zr(t)){if(l=t.stateNode,n=t.memoizedProps,l[rn]=t,(i=l.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:Mr(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mr(l.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[rn]=t,t.stateNode=l}return it(t),null;case 13:if(_e(ze),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Lt!==null&&t.mode&1&&!(t.flags&128))Nu(),Sl(),t.flags|=98560,i=!1;else if(i=zr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[rn]=t}else Sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else Qt!==null&&(ta(Qt),Qt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?Be===0&&(Be=3):Ba())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Cl(),Gi(e,t),e===null&&ar(t.stateNode.containerInfo),it(t),null;case 10:return Ta(t.type._context),it(t),null;case 17:return Nt(t.type)&&is(),it(t),null;case 19:if(_e(ze),i=t.memoizedState,i===null)return it(t),null;if(l=(t.flags&128)!==0,a=i.rendering,a===null)if(l)Fl(i,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ps(e),a!==null){for(t.flags|=128,Fl(i,!1),l=a.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)i=n,e=l,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(ze,ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>Tl&&(t.flags|=128,l=!0,Fl(i,!1),t.lanes=4194304)}else{if(!l)if(e=ps(a),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Pe)return it(t),null}else 2*Ue()-i.renderingStartTime>Tl&&n!==1073741824&&(t.flags|=128,l=!0,Fl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,n=ze.current,Ce(ze,l?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Wa(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Pt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Lp(e,t){switch(Sa(t),t.tag){case 1:return Nt(t.type)&&is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cl(),_e(jt),_e(ot),za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ma(t),null;case 13:if(_e(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(ze),null;case 4:return Cl(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return Wa(),null;case 24:return null;default:return null}}var Rr=!1,at=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,A=null;function pl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){Fe(e,t,l)}else n.current=null}function Xi(e,t,n){try{n()}catch(l){Fe(e,t,l)}}var Qo=!1;function zp(e,t){if(Mi=ns,e=ou(),Na(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var s=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,o=-1,d=0,v=0,p=e,g=null;t:for(;;){for(var N;p!==n||s!==0&&p.nodeType!==3||(c=a+s),p!==i||l!==0&&p.nodeType!==3||(o=a+l),p.nodeType===3&&(a+=p.nodeValue.length),(N=p.firstChild)!==null;)g=p,p=N;for(;;){if(p===e)break t;if(g===n&&++d===s&&(c=a),g===i&&++v===l&&(o=a),(N=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=N}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(zi={focusedElem:e,selectionRange:n},ns=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,B=S.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:Gt(t.type,_),B);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(y){Fe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return S=Qo,Qo=!1,S}function Kl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var s=l=l.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xi(t,n,i)}s=s.next}while(s!==l)}}function Ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Qi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rd(e){var t=e.alternate;t!==null&&(e.alternate=null,rd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[cr],delete t[Ri],delete t[mp],delete t[hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sd(e){return e.tag===5||e.tag===3||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ki(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ss));else if(l!==4&&(e=e.child,e!==null))for(Ki(e,t,n),e=e.sibling;e!==null;)Ki(e,t,n),e=e.sibling}function Ji(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ji(e,t,n),e=e.sibling;e!==null;)Ji(e,t,n),e=e.sibling}var tt=null,Xt=!1;function Nn(e,t,n){for(n=n.child;n!==null;)id(e,t,n),n=n.sibling}function id(e,t,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ws,n)}catch{}switch(n.tag){case 5:at||pl(n,t);case 6:var l=tt,s=Xt;tt=null,Nn(e,t,n),tt=l,Xt=s,tt!==null&&(Xt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Xt?(e=tt,n=n.stateNode,e.nodeType===8?qs(e.parentNode,n):e.nodeType===1&&qs(e,n),rr(e)):qs(tt,n.stateNode));break;case 4:l=tt,s=Xt,tt=n.stateNode.containerInfo,Xt=!0,Nn(e,t,n),tt=l,Xt=s;break;case 0:case 11:case 14:case 15:if(!at&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){s=l=l.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Xi(n,t,a),s=s.next}while(s!==l)}Nn(e,t,n);break;case 1:if(!at&&(pl(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(c){Fe(n,t,c)}Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:n.mode&1?(at=(l=at)||n.memoizedState!==null,Nn(e,t,n),at=l):Nn(e,t,n);break;default:Nn(e,t,n)}}function Jo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mp),t.forEach(function(l){var s=Up.bind(null,e,l);n.has(l)||(n.add(l),l.then(s,s))})}}function Yt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];try{var i=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:tt=c.stateNode,Xt=!1;break e;case 3:tt=c.stateNode.containerInfo,Xt=!0;break e;case 4:tt=c.stateNode.containerInfo,Xt=!0;break e}c=c.return}if(tt===null)throw Error(P(160));id(i,a,s),tt=null,Xt=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(d){Fe(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ad(t,e),t=t.sibling}function ad(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),nn(e),l&4){try{Kl(3,e,e.return),Ls(3,e)}catch(_){Fe(e,e.return,_)}try{Kl(5,e,e.return)}catch(_){Fe(e,e.return,_)}}break;case 1:Yt(t,e),nn(e),l&512&&n!==null&&pl(n,n.return);break;case 5:if(Yt(t,e),nn(e),l&512&&n!==null&&pl(n,n.return),e.flags&32){var s=e.stateNode;try{er(s,"")}catch(_){Fe(e,e.return,_)}}if(l&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Pc(s,i),Ni(c,a);var d=Ni(c,i);for(a=0;a<o.length;a+=2){var v=o[a],p=o[a+1];v==="style"?Dc(s,p):v==="dangerouslySetInnerHTML"?zc(s,p):v==="children"?er(s,p):oa(s,v,p,d)}switch(c){case"input":vi(s,i);break;case"textarea":Lc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?hl(s,!!i.multiple,N,!1):g!==!!i.multiple&&(i.defaultValue!=null?hl(s,!!i.multiple,i.defaultValue,!0):hl(s,!!i.multiple,i.multiple?[]:"",!1))}s[cr]=i}catch(_){Fe(e,e.return,_)}}break;case 6:if(Yt(t,e),nn(e),l&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){Fe(e,e.return,_)}}break;case 3:if(Yt(t,e),nn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{rr(t.containerInfo)}catch(_){Fe(e,e.return,_)}break;case 4:Yt(t,e),nn(e);break;case 13:Yt(t,e),nn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ua=Ue())),l&4&&Jo(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(at=(d=at)||v,Yt(t,e),at=d):Yt(t,e),nn(e),l&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!v&&e.mode&1)for(A=e,v=e.child;v!==null;){for(p=A=v;A!==null;){switch(g=A,N=g.child,g.tag){case 0:case 11:case 14:case 15:Kl(4,g,g.return);break;case 1:pl(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){l=g,n=g.return;try{t=l,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(_){Fe(l,n,_)}}break;case 5:pl(g,g.return);break;case 22:if(g.memoizedState!==null){qo(p);continue}}N!==null?(N.return=g,A=N):qo(p)}v=v.sibling}e:for(v=null,p=e;;){if(p.tag===5){if(v===null){v=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,o=p.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=bc("display",a))}catch(_){Fe(e,e.return,_)}}}else if(p.tag===6){if(v===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(_){Fe(e,e.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;v===p&&(v=null),p=p.return}v===p&&(v=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Yt(t,e),nn(e),l&4&&Jo(e);break;case 21:break;default:Yt(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sd(n)){var l=n;break e}n=n.return}throw Error(P(160))}switch(l.tag){case 5:var s=l.stateNode;l.flags&32&&(er(s,""),l.flags&=-33);var i=Ko(e);Ji(e,i,s);break;case 3:case 4:var a=l.stateNode.containerInfo,c=Ko(e);Ki(e,c,a);break;default:throw Error(P(161))}}catch(o){Fe(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bp(e,t,n){A=e,od(e)}function od(e,t,n){for(var l=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&l){var a=s.memoizedState!==null||Rr;if(!a){var c=s.alternate,o=c!==null&&c.memoizedState!==null||at;c=Rr;var d=at;if(Rr=a,(at=o)&&!d)for(A=s;A!==null;)a=A,o=a.child,a.tag===22&&a.memoizedState!==null?ec(s):o!==null?(o.return=a,A=o):ec(s);for(;i!==null;)A=i,od(i),i=i.sibling;A=s,Rr=c,at=d}Zo(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Zo(e)}}function Zo(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Ls(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!at)if(n===null)l.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);l.componentDidUpdate(s,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Io(t,i,l);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Io(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var v=d.memoizedState;if(v!==null){var p=v.dehydrated;p!==null&&rr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}at||t.flags&512&&Qi(t)}catch(g){Fe(t,t.return,g)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function qo(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function ec(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ls(4,t)}catch(o){Fe(t,n,o)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var s=t.return;try{l.componentDidMount()}catch(o){Fe(t,s,o)}}var i=t.return;try{Qi(t)}catch(o){Fe(t,i,o)}break;case 5:var a=t.return;try{Qi(t)}catch(o){Fe(t,a,o)}}}catch(o){Fe(t,t.return,o)}if(t===e){A=null;break}var c=t.sibling;if(c!==null){c.return=t.return,A=c;break}A=t.return}}var Dp=Math.ceil,vs=gn.ReactCurrentDispatcher,Aa=gn.ReactCurrentOwner,At=gn.ReactCurrentBatchConfig,je=0,Qe=null,He=null,nt=0,Pt=0,ml=An(0),Be=0,hr=null,Jn=0,Ms=0,Oa=0,Jl=null,gt=null,Ua=0,Tl=1/0,cn=null,ys=!1,Zi=null,bn=null,Ir=!1,Tn=null,gs=0,Zl=0,qi=null,Xr=-1,Qr=0;function pt(){return je&6?Ue():Xr!==-1?Xr:Xr=Ue()}function Dn(e){return e.mode&1?je&2&&nt!==0?nt&-nt:yp.transition!==null?(Qr===0&&(Qr=Yc()),Qr):(e=ke,e!==0||(e=window.event,e=e===void 0?16:qc(e.type)),e):1}function Jt(e,t,n,l){if(50<Zl)throw Zl=0,qi=null,Error(P(185));yr(e,n,l),(!(je&2)||e!==Qe)&&(e===Qe&&(!(je&2)&&(Ms|=n),Be===4&&Cn(e,nt)),wt(e,l),n===1&&je===0&&!(t.mode&1)&&(Tl=Ue()+500,Ts&&On()))}function wt(e,t){var n=e.callbackNode;yf(e,t);var l=ts(e,e===Qe?nt:0);if(l===0)n!==null&&oo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&oo(n),t===1)e.tag===0?vp(tc.bind(null,e)):gu(tc.bind(null,e)),fp(function(){!(je&6)&&On()}),n=null;else{switch(Gc(l)){case 1:n=pa;break;case 4:n=Bc;break;case 16:n=es;break;case 536870912:n=Vc;break;default:n=es}n=vd(n,cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cd(e,t){if(Xr=-1,Qr=0,je&6)throw Error(P(327));var n=e.callbackNode;if(jl()&&e.callbackNode!==n)return null;var l=ts(e,e===Qe?nt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=xs(e,l);else{t=l;var s=je;je|=2;var i=dd();(Qe!==e||nt!==t)&&(cn=null,Tl=Ue()+500,Yn(e,t));do try{Fp();break}catch(c){ud(e,c)}while(!0);Ea(),vs.current=i,je=s,He!==null?t=0:(Qe=null,nt=0,t=Be)}if(t!==0){if(t===2&&(s=Ei(e),s!==0&&(l=s,t=ea(e,s))),t===1)throw n=hr,Yn(e,0),Cn(e,l),wt(e,Ue()),n;if(t===6)Cn(e,l);else{if(s=e.current.alternate,!(l&30)&&!Rp(s)&&(t=xs(e,l),t===2&&(i=Ei(e),i!==0&&(l=i,t=ea(e,i))),t===1))throw n=hr,Yn(e,0),Cn(e,l),wt(e,Ue()),n;switch(e.finishedWork=s,e.finishedLanes=l,t){case 0:case 1:throw Error(P(345));case 2:Hn(e,gt,cn);break;case 3:if(Cn(e,l),(l&130023424)===l&&(t=Ua+500-Ue(),10<t)){if(ts(e,0)!==0)break;if(s=e.suspendedLanes,(s&l)!==l){pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Di(Hn.bind(null,e,gt,cn),t);break}Hn(e,gt,cn);break;case 4:if(Cn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,s=-1;0<l;){var a=31-Kt(l);i=1<<a,a=t[a],a>s&&(s=a),l&=~i}if(l=s,l=Ue()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Dp(l/1960))-l,10<l){e.timeoutHandle=Di(Hn.bind(null,e,gt,cn),l);break}Hn(e,gt,cn);break;case 5:Hn(e,gt,cn);break;default:throw Error(P(329))}}}return wt(e,Ue()),e.callbackNode===n?cd.bind(null,e):null}function ea(e,t){var n=Jl;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=xs(e,t),e!==2&&(t=gt,gt=n,t!==null&&ta(t)),e}function ta(e){gt===null?gt=e:gt.push.apply(gt,e)}function Rp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var s=n[l],i=s.getSnapshot;s=s.value;try{if(!Zt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~Oa,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),l=1<<n;e[n]=-1,t&=~l}}function tc(e){if(je&6)throw Error(P(327));jl();var t=ts(e,0);if(!(t&1))return wt(e,Ue()),null;var n=xs(e,t);if(e.tag!==0&&n===2){var l=Ei(e);l!==0&&(t=l,n=ea(e,l))}if(n===1)throw n=hr,Yn(e,0),Cn(e,t),wt(e,Ue()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,gt,cn),wt(e,Ue()),null}function Ha(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Tl=Ue()+500,Ts&&On())}}function Zn(e){Tn!==null&&Tn.tag===0&&!(je&6)&&jl();var t=je;je|=1;var n=At.transition,l=ke;try{if(At.transition=null,ke=1,e)return e()}finally{ke=l,At.transition=n,je=t,!(je&6)&&On()}}function Wa(){Pt=ml.current,_e(ml)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dp(n)),He!==null)for(n=He.return;n!==null;){var l=n;switch(Sa(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&is();break;case 3:Cl(),_e(jt),_e(ot),za();break;case 5:Ma(l);break;case 4:Cl();break;case 13:_e(ze);break;case 19:_e(ze);break;case 10:Ta(l.type._context);break;case 22:case 23:Wa()}n=n.return}if(Qe=e,He=e=Rn(e.current,null),nt=Pt=t,Be=0,hr=null,Oa=Ms=Jn=0,gt=Jl=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],l=n.interleaved,l!==null){n.interleaved=null;var s=l.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,l.next=a}n.pending=l}Bn=null}return e}function ud(e,t){do{var n=He;try{if(Ea(),Vr.current=hs,ms){for(var l=be.memoizedState;l!==null;){var s=l.queue;s!==null&&(s.pending=null),l=l.next}ms=!1}if(Kn=0,Xe=We=be=null,Ql=!1,fr=0,Aa.current=null,n===null||n.return===null){Be=1,hr=t,He=null;break}e:{var i=e,a=n.return,c=n,o=t;if(t=nt,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,v=c,p=v.tag;if(!(v.mode&1)&&(p===0||p===11||p===15)){var g=v.alternate;g?(v.updateQueue=g.updateQueue,v.memoizedState=g.memoizedState,v.lanes=g.lanes):(v.updateQueue=null,v.memoizedState=null)}var N=Ho(a);if(N!==null){N.flags&=-257,Wo(N,a,c,i,t),N.mode&1&&Uo(i,d,t),t=N,o=d;var S=t.updateQueue;if(S===null){var _=new Set;_.add(o),t.updateQueue=_}else S.add(o);break e}else{if(!(t&1)){Uo(i,d,t),Ba();break e}o=Error(P(426))}}else if(Pe&&c.mode&1){var B=Ho(a);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Wo(B,a,c,i,t),ka(El(o,c));break e}}i=o=El(o,c),Be!==4&&(Be=2),Jl===null?Jl=[i]:Jl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Gu(i,o,t);Ro(i,m);break e;case 1:c=o;var u=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(bn===null||!bn.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=Xu(i,c,t);Ro(i,y);break e}}i=i.return}while(i!==null)}pd(n)}catch(C){t=C,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function dd(){var e=vs.current;return vs.current=hs,e===null?hs:e}function Ba(){(Be===0||Be===3||Be===2)&&(Be=4),Qe===null||!(Jn&268435455)&&!(Ms&268435455)||Cn(Qe,nt)}function xs(e,t){var n=je;je|=2;var l=dd();(Qe!==e||nt!==t)&&(cn=null,Yn(e,t));do try{Ip();break}catch(s){ud(e,s)}while(!0);if(Ea(),je=n,vs.current=l,He!==null)throw Error(P(261));return Qe=null,nt=0,Be}function Ip(){for(;He!==null;)fd(He)}function Fp(){for(;He!==null&&!of();)fd(He)}function fd(e){var t=hd(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?pd(e):He=t,Aa.current=null}function pd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lp(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,He=null;return}}else if(n=Pp(n,t,Pt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Be===0&&(Be=5)}function Hn(e,t,n){var l=ke,s=At.transition;try{At.transition=null,ke=1,$p(e,t,n,l)}finally{At.transition=s,ke=l}return null}function $p(e,t,n,l){do jl();while(Tn!==null);if(je&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gf(e,i),e===Qe&&(He=Qe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ir||(Ir=!0,vd(es,function(){return jl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=At.transition,At.transition=null;var a=ke;ke=1;var c=je;je|=4,Aa.current=null,zp(e,n),ad(n,e),rp(zi),ns=!!Mi,zi=Mi=null,e.current=n,bp(n),cf(),je=c,ke=a,At.transition=i}else e.current=n;if(Ir&&(Ir=!1,Tn=e,gs=s),i=e.pendingLanes,i===0&&(bn=null),ff(n.stateNode),wt(e,Ue()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],l(s.value,{componentStack:s.stack,digest:s.digest});if(ys)throw ys=!1,e=Zi,Zi=null,e;return gs&1&&e.tag!==0&&jl(),i=e.pendingLanes,i&1?e===qi?Zl++:(Zl=0,qi=e):Zl=0,On(),null}function jl(){if(Tn!==null){var e=Gc(gs),t=At.transition,n=ke;try{if(At.transition=null,ke=16>e?16:e,Tn===null)var l=!1;else{if(e=Tn,Tn=null,gs=0,je&6)throw Error(P(331));var s=je;for(je|=4,A=e.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var c=i.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(A=d;A!==null;){var v=A;switch(v.tag){case 0:case 11:case 15:Kl(8,v,i)}var p=v.child;if(p!==null)p.return=v,A=p;else for(;A!==null;){v=A;var g=v.sibling,N=v.return;if(rd(v),v===d){A=null;break}if(g!==null){g.return=N,A=g;break}A=N}}}var S=i.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var B=_.sibling;_.sibling=null,_=B}while(_!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,A=m;break e}A=i.return}}var u=e.current;for(A=u;A!==null;){a=A;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,A=f;else e:for(a=u;A!==null;){if(c=A,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ls(9,c)}}catch(C){Fe(c,c.return,C)}if(c===a){A=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,A=y;break e}A=c.return}}if(je=s,On(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ws,e)}catch{}l=!0}return l}finally{ke=n,At.transition=t}}return!1}function nc(e,t,n){t=El(n,t),t=Gu(e,t,1),e=zn(e,t,1),t=pt(),e!==null&&(yr(e,1,t),wt(e,t))}function Fe(e,t,n){if(e.tag===3)nc(e,e,n);else for(;t!==null;){if(t.tag===3){nc(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bn===null||!bn.has(l))){e=El(n,e),e=Xu(t,e,1),t=zn(t,e,1),e=pt(),t!==null&&(yr(t,1,e),wt(t,e));break}}t=t.return}}function Ap(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(nt&n)===n&&(Be===4||Be===3&&(nt&130023424)===nt&&500>Ue()-Ua?Yn(e,0):Oa|=n),wt(e,t)}function md(e,t){t===0&&(e.mode&1?(t=Er,Er<<=1,!(Er&130023424)&&(Er=4194304)):t=1);var n=pt();e=vn(e,t),e!==null&&(yr(e,t,n),wt(e,n))}function Op(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),md(e,n)}function Up(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(P(314))}l!==null&&l.delete(t),md(e,n)}var hd;hd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,_p(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Pe&&t.flags&1048576&&xu(t,cs,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Gr(e,t),e=t.pendingProps;var s=wl(t,ot.current);xl(t,n),s=Da(null,t,l,e,s,n);var i=Ra();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(l)?(i=!0,as(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pa(t),s.updater=Ps,t.stateNode=s,s._reactInternals=t,Ui(t,l,e,n),t=Bi(null,t,l,!0,i,n)):(t.tag=0,Pe&&i&&wa(t),ft(null,t,s,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Gr(e,t),e=t.pendingProps,s=l._init,l=s(l._payload),t.type=l,s=t.tag=Wp(l),e=Gt(l,e),s){case 0:t=Wi(null,t,l,e,n);break e;case 1:t=Yo(null,t,l,e,n);break e;case 11:t=Bo(null,t,l,e,n);break e;case 14:t=Vo(null,t,l,Gt(l.type,e),n);break e}throw Error(P(306,l,""))}return t;case 0:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Gt(l,s),Wi(e,t,l,s,n);case 1:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Gt(l,s),Yo(e,t,l,s,n);case 3:e:{if(Zu(t),e===null)throw Error(P(387));l=t.pendingProps,i=t.memoizedState,s=i.element,Cu(e,t),fs(t,l,null,n);var a=t.memoizedState;if(l=a.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=El(Error(P(423)),t),t=Go(e,t,l,n,s);break e}else if(l!==s){s=El(Error(P(424)),t),t=Go(e,t,l,n,s);break e}else for(Lt=Mn(t.stateNode.containerInfo.firstChild),Mt=t,Pe=!0,Qt=null,n=Su(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),l===s){t=yn(e,t,n);break e}ft(e,t,l,n)}t=t.child}return t;case 5:return Eu(t),e===null&&$i(t),l=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,bi(l,s)?a=null:i!==null&&bi(l,i)&&(t.flags|=32),Ju(e,t),ft(e,t,a,n),t.child;case 6:return e===null&&$i(t),null;case 13:return qu(e,t,n);case 4:return La(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=kl(t,null,l,n):ft(e,t,l,n),t.child;case 11:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Gt(l,s),Bo(e,t,l,s,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Ce(us,l._currentValue),l._currentValue=a,i!==null)if(Zt(i.value,a)){if(i.children===s.children&&!jt.current){t=yn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var o=c.firstContext;o!==null;){if(o.context===l){if(i.tag===1){o=pn(-1,n&-n),o.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var v=d.pending;v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ai(i.return,n,t),c.lanes|=n;break}o=o.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(P(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ai(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ft(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,l=t.pendingProps.children,xl(t,n),s=Ot(s),l=l(s),t.flags|=1,ft(e,t,l,n),t.child;case 14:return l=t.type,s=Gt(l,t.pendingProps),s=Gt(l.type,s),Vo(e,t,l,s,n);case 15:return Qu(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Gt(l,s),Gr(e,t),t.tag=1,Nt(l)?(e=!0,as(t)):e=!1,xl(t,n),Yu(t,l,s),Ui(t,l,s,n),Bi(null,t,l,!0,e,n);case 19:return ed(e,t,n);case 22:return Ku(e,t,n)}throw Error(P(156,t.tag))};function vd(e,t){return Wc(e,t)}function Hp(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,n,l){return new Hp(e,t,n,l)}function Va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wp(e){if(typeof e=="function")return Va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ua)return 11;if(e===da)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=$t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kr(e,t,n,l,s,i){var a=2;if(l=e,typeof e=="function")Va(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rl:return Gn(n.children,s,i,t);case ca:a=8,s|=8;break;case di:return e=$t(12,n,t,s|2),e.elementType=di,e.lanes=i,e;case fi:return e=$t(13,n,t,s),e.elementType=fi,e.lanes=i,e;case pi:return e=$t(19,n,t,s),e.elementType=pi,e.lanes=i,e;case Ec:return zs(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kc:a=10;break e;case Cc:a=9;break e;case ua:a=11;break e;case da:a=14;break e;case wn:a=16,l=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=$t(a,n,t,s),t.elementType=e,t.type=l,t.lanes=i,t}function Gn(e,t,n,l){return e=$t(7,e,l,t),e.lanes=n,e}function zs(e,t,n,l){return e=$t(22,e,l,t),e.elementType=Ec,e.lanes=n,e.stateNode={isHidden:!1},e}function ai(e,t,n){return e=$t(6,e,null,t),e.lanes=n,e}function oi(e,t,n){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bp(e,t,n,l,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=l,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ya(e,t,n,l,s,i,a,c,o){return e=new Bp(e,t,n,c,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(i),e}function Vp(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function yd(e){if(!e)return Fn;e=e._reactInternals;e:{if(el(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Nt(n))return yu(e,n,t)}return t}function gd(e,t,n,l,s,i,a,c,o){return e=Ya(n,l,!0,e,s,i,a,c,o),e.context=yd(null),n=e.current,l=pt(),s=Dn(n),i=pn(l,s),i.callback=t??null,zn(n,i,s),e.current.lanes=s,yr(e,s,l),wt(e,l),e}function bs(e,t,n,l){var s=t.current,i=pt(),a=Dn(s);return n=yd(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,a),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=zn(s,t,a),e!==null&&(Jt(e,s,a,i),Br(e,s,a)),a}function js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ga(e,t){lc(e,t),(e=e.alternate)&&lc(e,t)}function Yp(){return null}var xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}Ds.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));bs(e,t,null,null)};Ds.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){bs(null,e,null,null)}),t[hn]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&Zc(e)}};function Qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rc(){}function Gp(e,t,n,l,s){if(s){if(typeof l=="function"){var i=l;l=function(){var d=js(a);i.call(d)}}var a=gd(t,l,e,0,null,!1,!1,"",rc);return e._reactRootContainer=a,e[hn]=a.current,ar(e.nodeType===8?e.parentNode:e),Zn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof l=="function"){var c=l;l=function(){var d=js(o);c.call(d)}}var o=Ya(e,0,!1,null,null,!1,!1,"",rc);return e._reactRootContainer=o,e[hn]=o.current,ar(e.nodeType===8?e.parentNode:e),Zn(function(){bs(t,o,n,l)}),o}function Is(e,t,n,l,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var o=js(a);c.call(o)}}bs(t,a,e,s)}else a=Gp(n,t,e,s,l);return js(a)}Xc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hl(t.pendingLanes);n!==0&&(ma(t,n|1),wt(t,Ue()),!(je&6)&&(Tl=Ue()+500,On()))}break;case 13:Zn(function(){var l=vn(e,1);if(l!==null){var s=pt();Jt(l,e,1,s)}}),Ga(e,1)}};ha=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=pt();Jt(t,e,134217728,n)}Ga(e,134217728)}};Qc=function(e){if(e.tag===13){var t=Dn(e),n=vn(e,t);if(n!==null){var l=pt();Jt(n,e,t,l)}Ga(e,t)}};Kc=function(){return ke};Jc=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};Si=function(e,t,n){switch(t){case"input":if(vi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var s=Es(l);if(!s)throw Error(P(90));_c(l),vi(l,s)}}}break;case"textarea":Lc(e,n);break;case"select":t=n.value,t!=null&&hl(e,!!n.multiple,t,!1)}};Fc=Ha;$c=Zn;var Xp={usingClientEntryPoint:!1,Events:[xr,ol,Es,Rc,Ic,Ha]},$l={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uc(e),e===null?null:e.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||Yp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fr.isDisabled&&Fr.supportsFiber)try{ws=Fr.inject(Qp),sn=Fr}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qa(t))throw Error(P(200));return Vp(e,t,null,n)};bt.createRoot=function(e,t){if(!Qa(e))throw Error(P(299));var n=!1,l="",s=xd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ya(e,1,!1,null,null,n,!1,l,s),e[hn]=t.current,ar(e.nodeType===8?e.parentNode:e),new Xa(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Uc(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Zn(e)};bt.hydrate=function(e,t,n){if(!Rs(t))throw Error(P(200));return Is(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!Qa(e))throw Error(P(405));var l=n!=null&&n.hydratedSources||null,s=!1,i="",a=xd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=gd(t,null,e,1,n??null,s,!1,i,a),e[hn]=t.current,ar(e),l)for(e=0;e<l.length;e++)n=l[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ds(t)};bt.render=function(e,t,n){if(!Rs(t))throw Error(P(200));return Is(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Rs(e))throw Error(P(40));return e._reactRootContainer?(Zn(function(){Is(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};bt.unstable_batchedUpdates=Ha;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Rs(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Is(e,t,n,!1,l)};bt.version="18.3.1-next-f1338f8080-20240426";function jd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jd)}catch(e){console.error(e)}}jd(),jc.exports=bt;var Kp=jc.exports,sc=Kp;ci.createRoot=sc.createRoot,ci.hydrateRoot=sc.hydrateRoot;const Jp=(e=[],t={})=>{const{snapToGrid:n=!1,showGrid:l=!0,gridSize:s=50}=t,i=e.length>0?[...e.map((a,c)=>({id:`recent-${a.id}`,label:a.name})),{id:"divider-recent",type:"divider"},{id:"clear-recent",label:"Clear List"}]:[{id:"no-recent",label:"No recent projects",disabled:!0}];return{file:{label:"File",items:[{id:"new-project",label:"New Project...",shortcut:"Ctrl+N"},{id:"open-project",label:"Open Project..."},{id:"divider-1",type:"divider"},{id:"open-recent",label:"Open Recent",submenu:i},{id:"divider-2",type:"divider"},{id:"save",label:"Save",shortcut:"Ctrl+S"},{id:"save-as",label:"Save As..."},{id:"divider-3",type:"divider"},{id:"import",label:"Import",submenu:[{id:"import-level",label:"Level (.json)"},{id:"import-entity",label:"Entity Pack"},{id:"import-asset",label:"Asset Bundle"},{id:"import-template",label:"AI Template"}]},{id:"export",label:"Export",submenu:[{id:"export-level",label:"Level"},{id:"export-project",label:"Full Project"},{id:"divider-e1",type:"divider"},{id:"export-unity",label:"Unity Package"},{id:"export-godot",label:"Godot Package"},{id:"export-unreal",label:"Unreal Package"}]},{id:"divider-4",type:"divider"},{id:"project-settings",label:"Project Settings..."},{id:"divider-5",type:"divider"},{id:"exit",label:"Exit"}]},edit:{label:"Edit",items:[{id:"undo",label:"Undo",shortcut:"Ctrl+Z"},{id:"redo",label:"Redo",shortcut:"Ctrl+Y"},{id:"divider-1",type:"divider"},{id:"cut",label:"Cut",shortcut:"Ctrl+X"},{id:"copy",label:"Copy",shortcut:"Ctrl+C"},{id:"paste",label:"Paste",shortcut:"Ctrl+V"},{id:"duplicate",label:"Duplicate",shortcut:"Ctrl+D"},{id:"delete",label:"Delete",shortcut:"Del"},{id:"divider-2",type:"divider"},{id:"snap-to-grid",label:"Snap to Grid",toggle:n},{id:"grid-options",label:"Grid Options",submenu:[{id:"toggle-grid",label:"Show Grid",toggle:l},{id:"divider-g1",type:"divider"},{id:"grid-size-10",label:"Small (10px)",toggle:s===10},{id:"grid-size-25",label:"Medium (25px)",toggle:s===25},{id:"grid-size-50",label:"Large (50px)",toggle:s===50},{id:"grid-size-100",label:"Extra Large (100px)",toggle:s===100}]},{id:"divider-3",type:"divider"},{id:"find",label:"Find...",shortcut:"Ctrl+F"},{id:"replace",label:"Replace...",shortcut:"Ctrl+H"},{id:"divider-4",type:"divider"},{id:"preferences",label:"Preferences..."}]},view:{label:"View",items:[{id:"panels",label:"Panels",submenu:[{id:"toggle-inspector",label:"Inspector",shortcut:"Ctrl+I",toggle:!0},{id:"toggle-console",label:"Console",shortcut:"Ctrl+`",toggle:!0},{id:"toggle-suggestions",label:"AI Suggestions"},{id:"toggle-assets",label:"Asset Browser"},{id:"toggle-history",label:"History"}]},{id:"layout",label:"Layout",submenu:[{id:"layout-default",label:"Default"},{id:"layout-level-design",label:"Level Design"},{id:"layout-ai-tuning",label:"AI Tuning"},{id:"divider-l1",type:"divider"},{id:"layout-custom",label:"Custom..."},{id:"layout-save",label:"Save Current Layout"}]},{id:"divider-1",type:"divider"},{id:"zoom-in",label:"Zoom In",shortcut:"Ctrl++"},{id:"zoom-out",label:"Zoom Out",shortcut:"Ctrl+-"},{id:"reset-zoom",label:"Reset Zoom",shortcut:"Ctrl+0"},{id:"divider-2",type:"divider"},{id:"fullscreen",label:"Toggle Fullscreen",shortcut:"F11"}]},entities:{label:"Entities",items:[{id:"create",label:"Create",submenu:[{id:"create-actor",label:"Actor"},{id:"create-item",label:"Item"},{id:"create-terrain",label:"Terrain"},{id:"create-behavior",label:"AI Behavior"},{id:"create-script",label:"Script"}]},{id:"convert-type",label:"Convert Type..."},{id:"divider-1",type:"divider"},{id:"validate",label:"Validate Entities"},{id:"bulk-edit",label:"Bulk Edit..."},{id:"divider-2",type:"divider"},{id:"schema-editor",label:"Entity Schema Editor..."}]},levels:{label:"Levels",items:[{id:"new-level",label:"New Level..."},{id:"duplicate-level",label:"Duplicate Level"},{id:"divider-1",type:"divider"},{id:"validate-level",label:"Validate Level"},{id:"generate-ai",label:"Generate With AI...",shortcut:"Ctrl+G"},{id:"divider-2",type:"divider"},{id:"analyze-difficulty",label:"Analyze Difficulty"},{id:"playtest",label:"Playtest Simulation"},{id:"divider-3",type:"divider"},{id:"level-settings",label:"Level Settings..."}]},ai:{label:"AI",items:[{id:"generate",label:"Generate",submenu:[{id:"gen-level",label:"Level"},{id:"gen-enemies",label:"Enemy Set"},{id:"gen-encounter",label:"Encounter"},{id:"gen-loot",label:"Loot Table"},{id:"gen-campaign",label:"Full Campaign"}]},{id:"divider-1",type:"divider"},{id:"prompt-templates",label:"Prompt Templates..."},{id:"model-settings",label:"Model Settings..."},{id:"training-data",label:"Training Data..."},{id:"divider-2",type:"divider"},{id:"history",label:"Generation History"},{id:"cost-usage",label:"Cost / Token Usage"},{id:"divider-3",type:"divider"},{id:"api-config",label:"API Configuration..."}]},tools:{label:"Tools",items:[{id:"schema-validator",label:"Schema Validator"},{id:"dependency-graph",label:"Dependency Graph"},{id:"performance",label:"Performance Analyzer"},{id:"json-viewer",label:"JSON Viewer"},{id:"divider-1",type:"divider"},{id:"plugin-manager",label:"Plugin Manager..."},{id:"script-console",label:"Script Console"}]},help:{label:"Help",items:[{id:"documentation",label:"Documentation"},{id:"tutorials",label:"Tutorials"},{id:"shortcuts",label:"Keyboard Shortcuts"},{id:"divider-1",type:"divider"},{id:"check-updates",label:"Check for Updates"},{id:"report-issue",label:"Report Issue (GitHub)"},{id:"divider-2",type:"divider"},{id:"about",label:"About LevelForge AI"}]}}};function Zp({children:e,activeTab:t,onTabChange:n,onMenuAction:l,selectedItem:s,inspectorContent:i,consoleLogs:a,onClearConsole:c,showInspector:o,showConsole:d,onToggleInspector:v,onToggleConsole:p,onEditItem:g,onRenameLevel:N,onDeleteLevel:S,recentProjects:_=[],projects:B=[],showProjectModal:m,onCloseProjectModal:u,onSelectProject:f,forceShowConsole:y=!1,onConsoleShown:C,canUndo:T=!1,canRedo:j=!1,onUndo:x,onRedo:F,historyInfo:$=null,currentProject:se,showAboutModal:Se,onCloseAboutModal:X,snapToGrid:$e=!1,showGrid:ct=!0,gridSize:ut=50}){const[Ke,I]=h.useState(o??!0),[U,V]=h.useState(d??!1),[ce,J]=h.useState(null),[ue,Le]=h.useState(null),[D,L]=h.useState("console"),O=h.useRef(null),me=h.useRef(null),[K,Re]=h.useState(320),[R,ne]=h.useState(180),[ee,te]=h.useState(!1),[Ne,vt]=h.useState(""),Ae=h.useRef(null),Je=h.useRef(!1),St=h.useRef(!1),dt=!!se,Ht=[{id:"dashboard",label:"Dashboard",icon:"",shortcut:"1",disabled:!1},{id:"entities",label:"Entities",icon:"",shortcut:"2",disabled:!dt},{id:"levels",label:"Levels",icon:"",shortcut:"3",disabled:!dt},{id:"library",label:"Library",icon:"",shortcut:"4",disabled:!dt},{id:"ai-tools",label:"AI Tools",icon:"",shortcut:"5",disabled:!dt},{id:"settings",label:"Settings",icon:"",shortcut:"6",disabled:!1}];h.useEffect(()=>{const M=W=>{me.current&&!me.current.contains(W.target)&&(J(null),Le(null))};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]),h.useEffect(()=>{ee&&Ae.current&&(Ae.current.focus(),Ae.current.select())},[ee]);const ie=h.useCallback(()=>{!N||(s==null?void 0:s.type)!=="Level"||(vt(s.name),te(!0))},[s,N]),Ve=h.useCallback(M=>{vt(M.target.value)},[]),on=h.useCallback(M=>{if(M.key==="Enter"){const W=Ne.trim();W&&W!==(s==null?void 0:s.name)&&N&&N({...s,name:W}),te(!1)}else M.key==="Escape"&&te(!1);M.stopPropagation()},[Ne,s,N]),Wt=h.useCallback(()=>{const M=Ne.trim();M&&M!==(s==null?void 0:s.name)&&N&&N({...s,name:M}),te(!1)},[Ne,s,N]);h.useEffect(()=>{y&&!U&&(V(!0),C&&C())},[y]),h.useEffect(()=>{const M=W=>{if((W.ctrlKey||W.metaKey)&&W.key>="1"&&W.key<="6"){W.preventDefault();const Ee=parseInt(W.key)-1;Ht[Ee]&&n(Ht[Ee].id)}(W.ctrlKey||W.metaKey)&&W.key==="i"&&(W.preventDefault(),I(Ee=>!Ee),v&&v()),(W.ctrlKey||W.metaKey)&&W.key==="`"&&(W.preventDefault(),V(Ee=>!Ee),p&&p()),W.key==="Escape"&&(J(null),Le(null)),(W.ctrlKey||W.metaKey)&&W.key==="g"&&(W.preventDefault(),l&&l("generate-ai","levels")),(W.ctrlKey||W.metaKey)&&W.key==="s"&&(W.preventDefault(),l&&l("save","file"))};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[n,Ht,l,v,p]),h.useEffect(()=>{O.current&&U&&(O.current.scrollTop=O.current.scrollHeight)},[a,U]);const H=h.useCallback(M=>{M.preventDefault(),Je.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]),xn=h.useCallback(M=>{M.preventDefault(),St.current=!0,document.body.style.cursor="row-resize",document.body.style.userSelect="none"},[]);h.useEffect(()=>{const M=Ee=>{if(Je.current){const kt=window.innerWidth-Ee.clientX;Re(Math.max(250,Math.min(500,kt)))}if(St.current){const kt=window.innerHeight-Ee.clientY;ne(Math.max(100,Math.min(400,kt)))}},W=()=>{(Je.current||St.current)&&(Je.current=!1,St.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",W),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",W)}},[]);const E=M=>{J(ce===M?null:M),Le(null)},de=(M,W)=>{l&&l(M,W),J(null),Le(null)},he=M=>{Le(M)},Ze=(M,W)=>{if(M.type==="divider")return r.jsx("div",{className:"menu-divider"},M.id);const Ee=M.submenu&&M.submenu.length>0,kt=ue===M.id;return r.jsxs("div",{className:`menu-item ${Ee?"has-submenu":""} ${kt?"active":""}`,onClick:()=>!Ee&&de(M.id,W),onMouseEnter:()=>Ee&&he(M.id),children:[r.jsx("span",{className:"menu-item-label",children:M.label}),M.shortcut&&r.jsx("span",{className:"menu-item-shortcut",children:M.shortcut}),M.toggle!==void 0&&r.jsx("span",{className:"menu-item-toggle",children:M.toggle?"":""}),Ee&&r.jsx("span",{className:"menu-item-arrow",children:""}),Ee&&kt&&r.jsx("div",{className:"submenu",children:M.submenu.map(z=>Ze(z,W))})]},M.id)};return r.jsxs("div",{className:"app-layout",children:[r.jsxs("header",{className:"top-menu",children:[r.jsxs("div",{className:"menu-left",children:[r.jsx("span",{className:"logo",children:" LevelForge"}),r.jsx("nav",{className:"menu-bar",ref:me,children:Object.entries(Jp(_,{snapToGrid:$e,showGrid:ct,gridSize:ut})).map(([M,W])=>r.jsxs("div",{className:"menu-container",children:[r.jsx("button",{className:`menu-btn ${ce===M?"active":""}`,onClick:()=>E(M),children:W.label}),ce===M&&r.jsx("div",{className:"menu-dropdown",children:W.items.map(Ee=>Ze(Ee,M))})]},M))}),s&&r.jsxs("span",{className:"context-info",children:[r.jsx("span",{className:"context-separator",children:""}),r.jsx("span",{className:"context-name",children:s.name||s.type||"Item"})]})]}),r.jsx("div",{className:"menu-spacer"}),r.jsxs("div",{className:"menu-right",children:[r.jsx("button",{className:`icon-btn ${Ke?"active":""}`,onClick:()=>{I(!Ke),v&&v()},title:"Toggle Inspector (Ctrl+I)",children:""}),r.jsx("button",{className:`icon-btn ${U?"active":""}`,onClick:()=>{V(!U),p&&p()},title:"Toggle Console (Ctrl+`)",children:""}),r.jsx("button",{className:"profile-btn",title:"Profile",children:""})]})]}),r.jsxs("nav",{className:"main-tabs",children:[Ht.map(M=>r.jsxs("button",{className:`tab-btn ${t===M.id?"active":""} ${M.disabled?"disabled":""}`,onClick:()=>!M.disabled&&n(M.id),title:M.disabled?"Select a project first":`Ctrl+${M.shortcut}`,disabled:M.disabled,children:[r.jsx("span",{className:"tab-icon",children:M.icon}),r.jsx("span",{className:"tab-label",children:M.label})]},M.id)),r.jsx("div",{className:"tabs-spacer"}),r.jsxs("div",{className:"tabs-shortcuts",children:[r.jsx("kbd",{children:"Ctrl+1-6"})," tabs  ",r.jsx("kbd",{children:"Ctrl+G"})," generate  ",r.jsx("kbd",{children:"Ctrl+I"})," inspector"]})]}),r.jsxs("div",{className:"main-content",children:[r.jsx("div",{className:"content-area",children:e}),Ke&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"resize-handle-vertical",onMouseDown:H}),r.jsxs("aside",{className:"inspector-panel",style:{width:K},children:[r.jsxs("div",{className:"panel-header",children:[r.jsx("h3",{children:"Inspector"}),r.jsxs("div",{className:"panel-header-actions",children:[s&&s.type==="Entity"&&!i&&g&&r.jsx("button",{className:"btn-small",onClick:()=>g(s),children:"Edit"}),s&&s.type==="Level"&&!i&&S&&r.jsx("button",{className:"btn-small btn-danger",onClick:()=>S(s),children:"Delete"}),r.jsx("button",{className:"panel-close",onClick:()=>{I(!1),v&&v()},title:"Close (Ctrl+I)",children:""})]})]}),r.jsx("div",{className:"panel-content",children:i||(s?r.jsxs("div",{className:"inspector-default",children:[r.jsxs("div",{className:"inspector-item-header",children:[s.emoji?r.jsx("span",{className:"inspector-icon",children:s.emoji}):s.type==="Level"?r.jsx("span",{className:"inspector-icon",children:""}):s.category?r.jsxs("span",{className:"inspector-icon",children:[s.category==="textures"&&"",s.category==="models"&&"",s.category==="audio"&&"",s.category==="scripts"&&"",s.category==="templates"&&""]}):null,ee&&s.type==="Level"?r.jsx("input",{ref:Ae,type:"text",className:"inspector-name-input",value:Ne,onChange:Ve,onKeyDown:on,onBlur:Wt,onClick:M=>M.stopPropagation()}):r.jsx("h4",{className:s.type==="Level"&&N?"editable-name":"",onClick:ie,title:s.type==="Level"&&N?"Click to rename":void 0,children:s.name||"Selected Item"})]}),s.description&&r.jsx("p",{className:"inspector-desc",children:s.description}),r.jsx("div",{className:"inspector-meta",children:Object.entries(s).map(([M,W])=>["id","emoji","name","description","category","typeLabel","type"].includes(M)||typeof W=="object"?null:r.jsxs("div",{className:"meta-row",children:[r.jsxs("span",{className:"meta-key",children:[M,":"]}),r.jsx("span",{className:"meta-value",children:String(W)})]},M))})]}):r.jsxs("div",{className:"inspector-empty",children:[r.jsx("span",{className:"empty-icon",children:""}),r.jsx("p",{children:"Select an item to inspect"})]}))})]})]})]}),U&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"resize-handle-horizontal",onMouseDown:xn}),r.jsxs("div",{className:"console-panel",style:{height:R},children:[r.jsxs("div",{className:"console-header",children:[r.jsxs("div",{className:"console-tabs",children:[r.jsx("button",{className:`console-tab ${D==="console"?"active":""}`,onClick:()=>L("console"),children:"Console"}),r.jsx("button",{className:`console-tab ${D==="ai-output"?"active":""}`,onClick:()=>L("ai-output"),children:"AI Output"}),r.jsx("button",{className:`console-tab ${D==="logs"?"active":""}`,onClick:()=>L("logs"),children:"Logs"})]}),r.jsxs("div",{className:"console-actions",children:[r.jsx("button",{onClick:c,title:"Clear",children:""}),r.jsx("button",{onClick:()=>{V(!1),p&&p()},title:"Close",children:""})]})]}),r.jsx("div",{className:"console-content",ref:O,children:(()=>{const M=a&&a.filter(W=>D==="console"?["info","warning","error"].includes(W.type):D==="ai-output"?["success","ai-progress","ai-response","generation"].includes(W.type):D==="logs"?["system","debug","log"].includes(W.type)||!W.type:!0);return M&&M.length>0?M.map((W,Ee)=>r.jsxs("div",{className:`console-line ${W.type||"info"}`,children:[r.jsx("span",{className:"console-time",children:W.time}),r.jsx("span",{className:"console-message",children:W.message})]},Ee)):r.jsxs("div",{className:"console-empty",children:[D==="console"&&r.jsx("p",{children:"No console output yet."}),D==="ai-output"&&r.jsx("p",{children:"No AI output yet. Generate a level to see progress."}),D==="logs"&&r.jsx("p",{children:"No system logs yet."})]})})()})]})]}),m&&r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal",onClick:M=>M.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"Open Project"}),r.jsx("button",{className:"modal-close",onClick:u,children:""})]}),r.jsx("div",{className:"modal-content",children:B&&B.length>0?r.jsx("div",{className:"project-list",children:B.map(M=>r.jsxs("div",{className:"project-item",onClick:()=>{f(M),u()},children:[r.jsx("div",{className:"project-icon",children:""}),r.jsxs("div",{className:"project-info",children:[r.jsx("h3",{children:M.name}),r.jsxs("p",{className:"project-date",children:["Created: ",new Date(M.created_at).toLocaleDateString()]}),M.description&&r.jsx("p",{className:"project-desc",children:M.description})]})]},M.id))}):r.jsxs("div",{className:"modal-empty",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"No projects found"}),r.jsx("p",{className:"hint",children:"Create a new project from the Dashboard"})]})})]})})]})}function qp({projects:e,currentProject:t,onSelectProject:n,onCreateProject:l,onGenerateLevel:s}){const[i,a]=h.useState(null),c={totalProjects:e.length,totalLevels:0,aiRuns:0};return r.jsxs("div",{className:"dashboard",children:[r.jsxs("header",{className:"dashboard-header",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx("p",{children:"Welcome back! Here's your LevelForge overview."})]}),r.jsxs("div",{className:"stats-row",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("span",{className:"stat-value",children:c.totalProjects}),r.jsx("span",{className:"stat-label",children:"Projects"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("span",{className:"stat-value",children:c.totalLevels}),r.jsx("span",{className:"stat-label",children:"Levels"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("span",{className:"stat-value",children:c.aiRuns}),r.jsx("span",{className:"stat-label",children:"AI Runs"})]})]}),r.jsxs("section",{className:"quick-actions",children:[r.jsx("h2",{children:"Quick Actions"}),r.jsxs("div",{className:"action-buttons",children:[r.jsxs("button",{className:"action-btn primary",onClick:s,children:[r.jsx("span",{className:"action-icon",children:""}),r.jsx("span",{children:"Generate Level"})]}),r.jsxs("button",{className:"action-btn",onClick:l,children:[r.jsx("span",{className:"action-icon",children:""}),r.jsx("span",{children:"New Project"})]}),r.jsxs("button",{className:"action-btn",onClick:()=>a("import"),children:[r.jsx("span",{className:"action-icon",children:""}),r.jsx("span",{children:"Import"})]})]})]}),r.jsxs("section",{className:"recent-section",children:[r.jsx("h2",{children:"Recent Projects"}),e.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"No projects yet. Create one to get started!"}),r.jsx("button",{className:"action-btn primary",onClick:l,children:"+ Create Project"})]}):r.jsx("div",{className:"projects-grid",children:e.map(o=>r.jsxs("div",{className:`project-card ${(t==null?void 0:t.id)===o.id?"active":""}`,onClick:()=>n(o),children:[r.jsx("div",{className:"project-icon",children:""}),r.jsxs("div",{className:"project-info",children:[r.jsx("h3",{children:o.name}),r.jsxs("span",{className:"project-date",children:["Updated ",new Date(o.updated_at).toLocaleDateString()]})]})]},o.id))})]})]})}const em=[{id:"actors",label:"Actors",icon:""},{id:"items",label:"Items",icon:""},{id:"terrain",label:"Terrain",icon:""},{id:"behaviors",label:"AI Behaviors",icon:""},{id:"scripts",label:"Scripts",icon:""}];function tm({entityTypes:e,currentProject:t,onCreateEntityType:n,onUpdateEntityType:l,onDeleteEntityType:s,onSelectEntity:i,onEditEntity:a,selectedEntity:c}){const[o,d]=h.useState("actors"),[v,p]=h.useState(""),[g,N]=h.useState(180),S=h.useRef(!1),_=h.useRef(null),B=e.filter(y=>y.name.toLowerCase().includes(v.toLowerCase())),m=h.useCallback(y=>{y.preventDefault(),S.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);h.useEffect(()=>{const y=T=>{if(!_.current)return;const j=_.current.getBoundingClientRect();if(S.current){const x=T.clientX-j.left;N(Math.max(140,Math.min(280,x)))}},C=()=>{S.current&&(S.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",C),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C)}},[]);const u=()=>{n({name:"New Entity",emoji:"",color:"#6366f1",description:"",placement_rules:"",behavior:"",collision_type:"neutral",category:o,metadata_fields:"[]"})},f=y=>{a&&a(y)};return t?r.jsxs("div",{className:"entities-page",ref:_,children:[r.jsxs("aside",{className:"sub-nav",style:{width:g,minWidth:140,maxWidth:280},children:[r.jsx("div",{className:"sub-nav-header",children:r.jsx("h3",{children:"Categories"})}),r.jsx("nav",{className:"sub-nav-list",children:em.map(y=>r.jsxs("button",{className:`sub-nav-item ${o===y.id?"active":""}`,onClick:()=>d(y.id),children:[r.jsx("span",{className:"sub-nav-icon",children:y.icon}),r.jsx("span",{className:"sub-nav-label",children:y.label})]},y.id))})]}),r.jsx("div",{className:"resize-handle-vertical",onMouseDown:m}),r.jsxs("main",{className:"main-area",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("div",{className:"toolbar-left",children:r.jsx("input",{type:"text",placeholder:"Search entities...",value:v,onChange:y=>p(y.target.value),className:"search-input"})}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-secondary",children:"Import"}),r.jsx("button",{className:"btn-primary",onClick:u,children:"+ Create Entity"})]})]}),r.jsx("div",{className:"data-grid-container",children:B.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No entities yet"}),r.jsx("p",{children:"Create custom entity types to use in your levels."}),r.jsx("button",{className:"btn-primary",onClick:u,children:"+ Create First Entity"})]}):r.jsxs("table",{className:"data-grid",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"col-icon"}),r.jsx("th",{className:"col-name",children:"Name"}),r.jsx("th",{className:"col-type",children:"Type"}),r.jsx("th",{className:"col-collision",children:"Collision"}),r.jsx("th",{className:"col-behavior",children:"Behavior"}),r.jsx("th",{className:"col-actions"})]})}),r.jsx("tbody",{children:B.map(y=>r.jsxs("tr",{className:(c==null?void 0:c.id)===y.id?"selected":"",onClick:()=>{setSelectedEntity&&i(y)},children:[r.jsx("td",{className:"col-icon",children:r.jsx("span",{className:"entity-icon",style:{background:y.color+"20"},children:y.emoji})}),r.jsx("td",{className:"col-name",children:r.jsx("strong",{children:y.name})}),r.jsx("td",{className:"col-type",children:y.category||"actors"}),r.jsx("td",{className:"col-collision",children:r.jsx("span",{className:`badge badge-${y.collision_type}`,children:y.collision_type})}),r.jsx("td",{className:"col-behavior",children:r.jsx("span",{className:"truncate",children:y.behavior||"-"})}),r.jsxs("td",{className:"col-actions",children:[r.jsx("button",{className:"action-btn",onClick:C=>{C.stopPropagation(),f(y)},children:""}),r.jsx("button",{className:"action-btn danger",onClick:C=>{C.stopPropagation(),s(y.id)},children:""})]})]},y.id))})]})})]})]}):r.jsx("div",{className:"entities-page",children:r.jsxs("div",{className:"no-project-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"No Project Selected"}),r.jsx("p",{children:"Select or create a project from the Dashboard to manage entities."})]})})}const $r={platform:"",ground:"",player:"",player_spawn:"",spawn:"",enemy:"",enemy_basic:"",enemy_flying:"",enemy_patrol:"",boss:"",npc:"",coin:"",key:"",gem:"",star:"",heart:"",powerup:"",weapon:"",ammo:"",health:"",collectible:"",spike:"",spikes:"",lava:"",water:"",hazard:"",goal:"",door:"",portal:"",exit:"",switch:"",button:"",pressure_plate:"",cover:"",unknown:"?"},Al={platform:"#6b7280",ground:"#8b5a2b",player:"#3b82f6",player_spawn:"#3b82f6",spawn:"#3b82f6",enemy:"#ef4444",enemy_basic:"#ef4444",enemy_flying:"#a855f7",enemy_patrol:"#ef4444",boss:"#dc2626",npc:"#10b981",coin:"#fbbf24",key:"#fbbf24",gem:"#a855f7",star:"#fbbf24",heart:"#ef4444",health:"#ef4444",powerup:"#f59e0b",weapon:"#6b7280",ammo:"#9ca3af",spike:"#dc2626",spikes:"#dc2626",lava:"#f97316",water:"#3b82f6",hazard:"#dc2626",goal:"#22c55e",door:"#8b5a2b",portal:"#a855f7",exit:"#22c55e",switch:"#6366f1",button:"#6366f1",pressure_plate:"#6366f1",cover:"#6b7280",collectible:"#fbbf24",unknown:"#9ca3af"};function nm({level:e,mode:t="draft",onModeChange:n,entityTypes:l=[],onRename:s,selectedObject:i,onSelectObject:a,onUpdateObject:c,snapToGrid:o=!1,showGrid:d=!0,gridSize:v=50}){var Ee,kt;const p=h.useRef(null),[g,N]=h.useState(t),[S,_]=h.useState(1),[B,m]=h.useState({x:0,y:0}),[u,f]=h.useState(!1),[y,C]=h.useState({x:0,y:0}),[T,j]=h.useState({x:16,y:16}),[x,F]=h.useState({x:null,y:16}),[$,se]=h.useState(!1),[Se,X]=h.useState(!1),[$e,ct]=h.useState(null),[ut,Ke]=h.useState({x:0,y:0}),[I,U]=h.useState(!1),[V,ce]=h.useState(""),J=h.useRef(null),[ue,Le]=h.useState(null),[D,L]=h.useState(!1),[O,me]=h.useState(null),[K,Re]=h.useState(null);let R=null;try{e!=null&&e.level_data&&(R=typeof e.level_data=="string"?JSON.parse(e.level_data):e.level_data)}catch{R=null}const ne=h.useMemo(()=>{const z={};return l&&l.length>0&&l.forEach(k=>{z[k.name.toLowerCase()]={symbol:k.emoji||"?",color:k.color||"#9ca3af"}}),z},[l]),ee=h.useCallback(z=>{if(!z)return $r.unknown;const k=z.toLowerCase().replace(/[_\s]+/g,"_");if(ne[z.toLowerCase()])return ne[z.toLowerCase()].symbol;if(ne[k])return ne[k].symbol;const le=z.toLowerCase();for(const[re,pe]of Object.entries(ne))if(le.includes(re)||re.includes(le))return pe.symbol;return $r[z]||$r[k]||$r.unknown},[ne]),te=h.useCallback(z=>{if(!z)return Al.unknown;const k=z.toLowerCase().replace(/[_\s]+/g,"_");if(ne[z.toLowerCase()])return ne[z.toLowerCase()].color;if(ne[k])return ne[k].color;const le=z.toLowerCase();for(const[re,pe]of Object.entries(ne))if(le.includes(re)||re.includes(le))return pe.color;return Al[z]||Al[k]||Al.unknown},[ne]),Ne=h.useCallback((z,k)=>{if(!R)return null;const le=p.current;if(!le)return null;const re=[];R.platforms&&R.platforms.forEach(Z=>{re.push({x:Z.x,y:Z.y}),re.push({x:Z.x+Z.width,y:Z.y+Z.height})}),R.entities&&R.entities.forEach(Z=>{re.push({x:Z.x,y:Z.y})}),R.player_spawn&&re.push({x:R.player_spawn.x,y:R.player_spawn.y}),R.goal&&re.push({x:R.goal.x,y:R.goal.y});let pe=0,we=800,qe=0,yt=600;if(re.length>0){pe=Math.min(...re.map(oe=>oe.x)),we=Math.max(...re.map(oe=>oe.x)),qe=Math.min(...re.map(oe=>oe.y)),yt=Math.max(...re.map(oe=>oe.y));const Z=Math.max(50,(we-pe)*.1),ve=Math.max(50,(yt-qe)*.1);pe-=Z,we+=Z,qe-=ve,yt+=ve}const Ct=we-pe,qt=yt-qe,jn=(le.width-100)/Ct,tl=(le.height-100)/qt,Et=Math.min(jn,tl,1)*S,Tt=le.width/2-(pe+Ct/2)*Et+B.x,ae=le.height/2+(qe+qt/2)*Et+B.y,G=(z-Tt)/Et,Q=(ae-k)/Et,xe=20/Et;if(R.entities)for(let Z=R.entities.length-1;Z>=0;Z--){const ve=R.entities[Z],oe=ve.x-G,rt=ve.y-Q;if(oe*oe+rt*rt<xe*xe)return{type:"entity",entityType:ve.type,data:ve,index:Z}}if(R.platforms)for(let Z=R.platforms.length-1;Z>=0;Z--){const ve=R.platforms[Z];if(G>=ve.x&&G<=ve.x+ve.width&&Q<=ve.y&&Q>=ve.y-ve.height)return{type:"platform",data:ve,index:Z}}if(R.player_spawn){const Z=R.player_spawn,ve=Z.x-G,oe=Z.y-Q;if(ve*ve+oe*oe<xe*xe)return{type:"spawn",data:Z}}if(R.goal){const Z=R.goal,ve=Z.x-G,oe=Z.y-Q;if(ve*ve+oe*oe<xe*xe)return{type:"goal",data:Z}}return null},[R,S,B]),vt=h.useCallback(z=>{if(z.button!==0)return;const k=p.current;if(!k)return;const le=k.getBoundingClientRect(),re=z.clientX-le.left,pe=z.clientY-le.top,we=Ne(re,pe);we&&a?(a(we),L(!0),me(we),Re({x:we.data.x,y:we.data.y,clientX:z.clientX,clientY:z.clientY})):we||(f(!0),C({x:z.clientX-B.x,y:z.clientY-B.y}),a&&a(null))},[B,Ne,a]),Ae=h.useCallback(z=>{if(D&&O&&K){const k=z.clientX-K.clientX,le=z.clientY-K.clientY,re=p.current;if(!re||!R)return;const pe=[];R.platforms&&R.platforms.forEach(oe=>{pe.push({x:oe.x,y:oe.y}),pe.push({x:oe.x+oe.width,y:oe.y+oe.height})}),R.entities&&R.entities.forEach(oe=>{pe.push({x:oe.x,y:oe.y})}),R.player_spawn&&pe.push({x:R.player_spawn.x,y:R.player_spawn.y}),R.goal&&pe.push({x:R.goal.x,y:R.goal.y});let we=0,qe=800,yt=0,Ct=600;if(pe.length>0){we=Math.min(...pe.map(Rt=>Rt.x)),qe=Math.max(...pe.map(Rt=>Rt.x)),yt=Math.min(...pe.map(Rt=>Rt.y)),Ct=Math.max(...pe.map(Rt=>Rt.y));const oe=Math.max(50,(qe-we)*.1),rt=Math.max(50,(Ct-yt)*.1);we-=oe,qe+=oe,yt-=rt,Ct+=rt}const qt=qe-we,jn=Ct-yt,tl=(re.width-100)/qt,ge=(re.height-100)/jn,Tt=Math.min(tl,ge,1)*S,ae=k/Tt,G=-le/Tt;let Q=K.x+ae,xe=K.y+G;o?(Q=Math.round(Q/v)*v,xe=Math.round(xe/v)*v):(Q=Math.round(Q),xe=Math.round(xe));const Z={...O.data,x:Q,y:xe},ve={...O,data:Z};a(ve),me(ve)}else u&&m({x:z.clientX-y.x,y:z.clientY-y.y})},[D,O,K,u,y,S,R,a,o,v]),Je=h.useCallback(()=>{D&&O&&c&&c(O),f(!1),L(!1),me(null),Re(null)},[D,O,c]),St=h.useCallback(()=>{f(!1),L(!1),me(null),Re(null),Le(null)},[]),dt=h.useCallback(z=>{z.preventDefault();const k=z.deltaY>0?-.1:.1;_(le=>Math.max(.25,Math.min(4,le+k)))},[]),Ht=h.useCallback((z,k)=>{if(z.target.closest(".panel-minimize-btn"))return;z.preventDefault(),z.stopPropagation();const le=z.currentTarget,re=le.getBoundingClientRect();if(ct(k),Ke({x:z.clientX-re.left,y:z.clientY-re.top}),k==="info"&&x.x===null){const pe=le.parentElement.getBoundingClientRect();F({x:pe.width-re.width-16,y:16})}},[x]),ie=h.useCallback(z=>{var we;if(!$e)return;const k=(we=p.current)==null?void 0:we.parentElement;if(!k)return;const le=k.getBoundingClientRect(),re=z.clientX-le.left-ut.x,pe=z.clientY-le.top-ut.y;$e==="legend"?j({x:Math.max(0,re),y:Math.max(0,pe)}):$e==="info"&&F({x:Math.max(0,re),y:Math.max(0,pe)})},[$e,ut]),Ve=h.useCallback(()=>{ct(null)},[]),on=h.useCallback(z=>{if(u||$e)return;const k=p.current;if(!k||!a)return;const le=k.getBoundingClientRect(),re=z.clientX-le.left,pe=z.clientY-le.top,we=Ne(re,pe);Le(we)},[u,$e,a,Ne]),Wt=h.useCallback(z=>{z.stopPropagation(),s&&(ce(e.name),U(!0))},[e.name,s]),H=h.useCallback(z=>{ce(z.target.value)},[]),xn=h.useCallback(z=>{if(z.key==="Enter"){const k=V.trim();k&&k!==e.name&&s({...e,name:k}),U(!1)}else z.key==="Escape"&&U(!1);z.stopPropagation()},[V,e,s]),E=h.useCallback(()=>{const z=V.trim();z&&z!==e.name&&s&&s({...e,name:z}),U(!1)},[V,e,s]);h.useEffect(()=>{I&&J.current&&(J.current.focus(),J.current.select())},[I]),h.useEffect(()=>{N(t)},[t]);const de=h.useCallback(()=>{const z=p.current;if(!z||!R)return;const k=z.getContext("2d");k.fillStyle="#f8f9fa",k.fillRect(0,0,z.width,z.height);const le=[];R.platforms&&R.platforms.forEach(ae=>{le.push({x:ae.x,y:ae.y}),le.push({x:ae.x+ae.width,y:ae.y+ae.height})}),R.entities&&R.entities.forEach(ae=>{le.push({x:ae.x,y:ae.y})}),R.player_spawn&&le.push({x:R.player_spawn.x,y:R.player_spawn.y}),R.goal&&le.push({x:R.goal.x,y:R.goal.y});let re=0,pe=800,we=0,qe=600;if(le.length>0){re=Math.min(...le.map(Q=>Q.x)),pe=Math.max(...le.map(Q=>Q.x)),we=Math.min(...le.map(Q=>Q.y)),qe=Math.max(...le.map(Q=>Q.y));const ae=Math.max(50,(pe-re)*.1),G=Math.max(50,(qe-we)*.1);re-=ae,pe+=ae,we-=G,qe+=G}const yt=pe-re,Ct=qe-we,qt=(z.width-100)/yt,jn=(z.height-100)/Ct,ge=Math.min(qt,jn,1)*S,Et=z.width/2-(re+yt/2)*ge+B.x,Tt=z.height/2+(we+Ct/2)*ge+B.y;if(d){k.strokeStyle="#e5e7eb",k.lineWidth=1;const ae=v*ge;for(let G=0;G<z.width;G+=ae)k.beginPath(),k.moveTo(G,0),k.lineTo(G,z.height),k.stroke();for(let G=0;G<z.height;G+=ae)k.beginPath(),k.moveTo(0,G),k.lineTo(z.width,G),k.stroke()}if(R.platforms&&R.platforms.forEach((ae,G)=>{const Q=(i==null?void 0:i.type)==="platform"&&(i==null?void 0:i.index)===G,xe=Q?i.data:ae,Z=xe.x*ge+Et,ve=Tt-xe.y*ge,oe=xe.width*ge,rt=xe.height*ge;k.fillStyle=Al.platform,k.fillRect(Z,ve-rt,oe,rt),(ue==null?void 0:ue.type)==="platform"&&(ue==null?void 0:ue.index)===G&&!Q&&(k.strokeStyle="#a5b4fc",k.lineWidth=2,k.strokeRect(Z-1,ve-rt-1,oe+2,rt+2)),Q&&(k.strokeStyle="#6366f1",k.lineWidth=3,k.strokeRect(Z-1.5,ve-rt-1.5,oe+3,rt+3))}),R.entities&&R.entities.forEach((ae,G)=>{const Q=(i==null?void 0:i.type)==="entity"&&(i==null?void 0:i.index)===G,xe=Q?i.data:ae,Z=xe.x*ge+Et,ve=Tt-xe.y*ge,oe=ae.type||"unknown",rt=ee(oe),Rt=te(oe);(ue==null?void 0:ue.type)==="entity"&&(ue==null?void 0:ue.index)===G&&!Q&&(k.beginPath(),k.arc(Z,ve,Math.max(12,16*ge),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),Q&&(k.beginPath(),k.arc(Z,ve,Math.max(14,18*ge),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(12,16*ge)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=Rt,k.fillText(rt,Z,ve),ae.name&&(k.font=`${Math.max(8,10*ge)}px monospace`,k.fillStyle="#6b7280",k.fillText(ae.name,Z,ve+12*ge))}),R.player_spawn){const ae=(i==null?void 0:i.type)==="spawn",G=ae?i.data:R.player_spawn,Q=G.x*ge+Et,xe=Tt-G.y*ge;(ue==null?void 0:ue.type)==="spawn"&&!ae&&(k.beginPath(),k.arc(Q,xe,Math.max(14,20*ge),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),ae&&(k.beginPath(),k.arc(Q,xe,Math.max(16,22*ge),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(14,20*ge)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=te("player_spawn"),k.fillText(ee("player_spawn"),Q,xe),k.font=`${Math.max(8,10*ge)}px monospace`,k.fillStyle="#6b7280",k.fillText("SPAWN",Q,xe+16*ge)}if(R.goal){const ae=(i==null?void 0:i.type)==="goal",G=ae?i.data:R.goal,Q=G.x*ge+Et,xe=Tt-G.y*ge;(ue==null?void 0:ue.type)==="goal"&&!ae&&(k.beginPath(),k.arc(Q,xe,Math.max(14,20*ge),0,Math.PI*2),k.strokeStyle="#a5b4fc",k.lineWidth=2,k.stroke()),ae&&(k.beginPath(),k.arc(Q,xe,Math.max(16,22*ge),0,Math.PI*2),k.strokeStyle="#6366f1",k.lineWidth=3,k.stroke()),k.font=`${Math.max(14,20*ge)}px sans-serif`,k.textAlign="center",k.textBaseline="middle",k.fillStyle=te("goal"),k.fillText(ee("goal"),Q,xe),k.font=`${Math.max(8,10*ge)}px monospace`,k.fillStyle="#6b7280",k.fillText("GOAL",Q,xe+16*ge)}},[R,S,B,ne,i,ue,ee,te,d,v]);h.useEffect(()=>{g==="draft"&&de()},[g,de]);const he=z=>{N(z),n&&n(z)},Ze=()=>_(Math.min(S+.25,4)),M=()=>_(Math.max(S-.25,.25)),W=()=>{_(1),m({x:0,y:0})};return R?r.jsxs("div",{className:"level-view",children:[r.jsxs("div",{className:"view-mode-bar",children:[r.jsxs("div",{className:"view-mode-tabs",children:[r.jsx("button",{className:`view-tab ${g==="draft"?"active":""}`,onClick:()=>he("draft"),children:" Draft"}),r.jsxs("button",{className:`view-tab ${g==="polish"?"active":""}`,onClick:()=>he("polish"),disabled:!0,children:[" Polish",r.jsx("span",{className:"badge-coming-soon",children:"Coming Soon"})]}),r.jsxs("button",{className:`view-tab ${g==="playable"?"active":""}`,onClick:()=>he("playable"),disabled:!0,children:[" Playable",r.jsx("span",{className:"badge-coming-soon",children:"Coming Soon"})]})]}),r.jsxs("div",{className:"view-controls",children:[r.jsx("button",{onClick:M,title:"Zoom Out",children:""}),r.jsxs("span",{className:"zoom-level",children:[Math.round(S*100),"%"]}),r.jsx("button",{onClick:Ze,title:"Zoom In",children:""}),r.jsx("button",{onClick:W,title:"Reset View",children:""})]})]}),r.jsxs("div",{className:"canvas-container",children:[g==="draft"&&r.jsxs(r.Fragment,{children:[r.jsx("canvas",{ref:p,width:1200,height:800,className:`level-canvas ${u?"panning":""}`,onMouseDown:vt,onMouseMove:z=>{Ae(z),on(z)},onMouseUp:Je,onMouseLeave:()=>{St(),Le(null)},onWheel:dt,style:{cursor:D?"move":u?"grabbing":ue?"pointer":"grab"}}),r.jsxs("div",{className:`draft-legend draggable-panel ${$?"minimized":""} ${$e==="legend"?"dragging":""}`,style:{left:T.x,top:T.y,right:"auto"},onMouseDown:z=>Ht(z,"legend"),onMouseMove:ie,onMouseUp:Ve,onMouseLeave:Ve,children:[r.jsxs("div",{className:"panel-header",children:[r.jsx("h4",{children:"Legend"}),r.jsx("button",{className:"panel-minimize-btn",onClick:()=>se(!$),title:$?"Expand":"Minimize",children:$?"":""})]}),!$&&r.jsxs("div",{className:"legend-items",children:[r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Player"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Enemy"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Collectible"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Goal"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Hazard"})]}),r.jsxs("div",{className:"legend-item",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Platform"})]})]})]}),r.jsxs("div",{className:`level-info-panel draggable-panel ${Se?"minimized":""} ${$e==="info"?"dragging":""}`,style:x.x!==null?{left:x.x,top:x.y,right:"auto"}:{},onMouseDown:z=>Ht(z,"info"),onMouseMove:ie,onMouseUp:Ve,onMouseLeave:Ve,children:[r.jsxs("div",{className:"panel-header",children:[I?r.jsx("input",{ref:J,type:"text",className:"level-name-input",value:V,onChange:H,onKeyDown:xn,onBlur:E,onClick:z=>z.stopPropagation(),autoFocus:!0}):r.jsx("h4",{className:s?"editable-name":"",onClick:Wt,title:s?"Click to rename":void 0,children:e.name}),r.jsx("button",{className:"panel-minimize-btn",onClick:()=>X(!Se),title:Se?"Expand":"Minimize",children:Se?"":""})]}),!Se&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Genre:"}),r.jsx("span",{className:"info-value",children:e.genre})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Difficulty:"}),r.jsx("span",{className:`diff-badge ${e.difficulty}`,children:e.difficulty})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Theme:"}),r.jsx("span",{className:"info-value",children:e.theme})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Platforms:"}),r.jsx("span",{className:"info-value",children:((Ee=R.platforms)==null?void 0:Ee.length)||0})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Entities:"}),r.jsx("span",{className:"info-value",children:((kt=R.entities)==null?void 0:kt.length)||0})]})]})]})]}),g==="polish"&&r.jsxs("div",{className:"view-stub",children:[r.jsx("div",{className:"stub-icon",children:""}),r.jsx("h3",{children:"Polish View"}),r.jsx("p",{children:"Apply custom textures, sprites, and visual effects."}),r.jsx("p",{className:"hint",children:"Upload your own assets or choose from the library."})]}),g==="playable"&&r.jsxs("div",{className:"view-stub",children:[r.jsx("div",{className:"stub-icon",children:""}),r.jsx("h3",{children:"Playable Preview"}),r.jsx("p",{children:"Test your level in real-time with basic gameplay mechanics."}),r.jsx("p",{className:"hint",children:"Coming soon: Player movement, collision detection, and win conditions."})]})]})]}):r.jsxs("div",{className:"level-view-empty",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No Level Data"}),r.jsx("p",{children:"This level has no data to display."})]})}const ic={beginner:{name:"Beginner Level",icon:"",description:"Easy level with basic challenges",entities:[{count:5,placement:"evenly distributed"},{count:3,placement:"on wide platforms"},{count:2,placement:"after checkpoints"}]},standard:{name:"Standard Level",icon:"",description:"Balanced difficulty with variety",entities:[{count:10,placement:"throughout level"},{count:5,placement:"on platforms"},{count:3,placement:"near gaps"},{count:2,placement:"after hard sections"}]},challenge:{name:"Challenge Level",icon:"",description:"High difficulty with many obstacles",entities:[{count:15,placement:"everywhere"},{count:8,placement:"guarding coins"},{count:6,placement:"in tricky spots"},{count:4,placement:"sparsely"}]},speedrun:{name:"Speedrun Level",icon:"",description:"Fast-paced with clear paths",entities:[{count:20,placement:"along optimal path"},{count:3,placement:"rarely"},{count:1,placement:"at start"}]},exploration:{name:"Exploration Level",icon:"",description:"Hidden secrets and rewards",entities:[{count:25,placement:"hidden in corners"},{count:5,placement:"in secret areas"},{count:3,placement:"rewarding exploration"}]}},lm=["evenly distributed","throughout level","near checkpoints","after difficult sections","on platforms","in corners","hidden areas","along main path","rewarding exploration","guarding objectives","sparsely placed","clustered together","alternating pattern"];function rm({entityTypes:e,requirements:t,onRequirementsChange:n}){const[l,s]=h.useState(""),[i,a]=h.useState(1),[c,o]=h.useState(""),[d,v]=h.useState(!1),[p,g]=h.useState(null),[N,S]=h.useState(()=>{const x=localStorage.getItem("levelforge-entity-presets");return x?JSON.parse(x):[]});h.useEffect(()=>{localStorage.setItem("levelforge-entity-presets",JSON.stringify(N))},[N]);const _=()=>{if(!l)return;const x=e.find($=>$.id===parseInt(l));if(!x)return;const F={id:Date.now(),entityId:x.id,entityName:x.name,entityEmoji:x.emoji,count:i,placement:c||"distributed throughout level"};n([...t,F]),s(""),a(1),o("")},B=x=>{n(t.filter(F=>F.id!==x))},m=(x,F,$)=>{n(t.map(se=>se.id===x?{...se,[F]:$}:se))},u=x=>{const F=ic[x];if(!F||e.length===0)return;const $=F.entities.map((se,Se)=>{const X=e[Se%e.length];return{id:Date.now()+Se,entityId:X.id,entityName:X.name,entityEmoji:X.emoji,count:se.count,placement:se.placement}});n($),v(!1)},f=()=>{if(t.length===0)return;const x=prompt("Save preset as:","My Custom Preset");if(!x)return;const F={id:Date.now(),name:x,requirements:t.map($=>({entityId:$.entityId,count:$.count,placement:$.placement}))};S([...N,F])},y=x=>{const F=x.requirements.map(($,se)=>{const Se=e.find(X=>X.id===$.entityId);return Se?{id:Date.now()+se,entityId:Se.id,entityName:Se.name,entityEmoji:Se.emoji,count:$.count,placement:$.placement}:null}).filter(Boolean);n(F),v(!1)},C=x=>{S(N.filter(F=>F.id!==x))},T=(x,F)=>{m(x,"placement",F),g(null)},j=()=>{n([])};return r.jsxs("div",{className:"entity-requirements",children:[r.jsxs("div",{className:"requirements-header",children:[r.jsxs("div",{className:"header-row",children:[r.jsx("h3",{children:"Entity Requirements"}),r.jsxs("div",{className:"header-actions",children:[r.jsx("button",{className:"btn-preset",onClick:()=>v(!d),children:" Presets"}),t.length>0&&r.jsx("button",{className:"btn-clear",onClick:j,children:" Clear All"})]})]}),r.jsx("span",{className:"hint",children:"Specify entities to include in the generated level"})]}),d&&r.jsxs("div",{className:"presets-panel",children:[r.jsxs("div",{className:"presets-section",children:[r.jsx("h4",{children:"Quick Templates"}),r.jsx("div",{className:"preset-grid",children:Object.entries(ic).map(([x,F])=>r.jsxs("button",{className:"preset-card",onClick:()=>u(x),children:[r.jsx("span",{className:"preset-icon",children:F.icon}),r.jsx("span",{className:"preset-name",children:F.name}),r.jsx("span",{className:"preset-desc",children:F.description})]},x))})]}),N.length>0&&r.jsxs("div",{className:"presets-section",children:[r.jsx("h4",{children:"Saved Presets"}),r.jsx("div",{className:"saved-presets-list",children:N.map(x=>r.jsxs("div",{className:"saved-preset-item",children:[r.jsx("span",{className:"preset-name",children:x.name}),r.jsx("button",{className:"btn-load",onClick:()=>y(x),children:"Load"}),r.jsx("button",{className:"btn-delete",onClick:()=>C(x.id),children:""})]},x.id))})]}),t.length>0&&r.jsx("div",{className:"presets-section",children:r.jsx("button",{className:"btn-save-preset",onClick:f,children:" Save Current as Preset"})})]}),t.length>0&&r.jsxs("div",{className:"visual-preview",children:[r.jsx("h4",{children:"Preview"}),r.jsx("div",{className:"entity-preview-grid",children:t.map(x=>r.jsxs("div",{className:"preview-entity",children:[r.jsx("span",{className:"preview-emoji",children:x.entityEmoji}),r.jsxs("span",{className:"preview-count",children:["",x.count]})]},x.id))}),r.jsxs("div",{className:"preview-summary",children:["Total: ",t.reduce((x,F)=>x+F.count,0)," entities"]})]}),t.length>0&&r.jsx("div",{className:"requirements-list",children:t.map(x=>r.jsxs("div",{className:"requirement-item",children:[r.jsxs("div",{className:"req-entity",children:[r.jsx("span",{className:"req-emoji",children:x.entityEmoji}),r.jsx("span",{className:"req-name",children:x.entityName})]}),r.jsx("div",{className:"req-count",children:r.jsx("input",{type:"number",min:"1",max:"100",value:x.count,onChange:F=>m(x.id,"count",parseInt(F.target.value)||1)})}),r.jsxs("div",{className:"req-placement",children:[r.jsx("input",{type:"text",placeholder:"Placement details...",value:x.placement,onChange:F=>m(x.id,"placement",F.target.value),onFocus:()=>g(x.id),onBlur:()=>setTimeout(()=>g(null),200)}),p===x.id&&r.jsx("div",{className:"placement-suggestions",children:lm.map(F=>r.jsx("button",{className:"suggestion-item",onClick:()=>T(x.id,F),children:F},F))})]}),r.jsx("button",{className:"req-remove",onClick:()=>B(x.id),title:"Remove",children:""})]},x.id))}),r.jsx("div",{className:"add-requirement",children:r.jsxs("div",{className:"add-row",children:[r.jsxs("select",{value:l,onChange:x=>s(x.target.value),children:[r.jsx("option",{value:"",children:"Select entity type..."}),e.map(x=>r.jsxs("option",{value:x.id,children:[x.emoji," ",x.name]},x.id))]}),r.jsx("input",{type:"number",min:"1",max:"100",value:i,onChange:x=>a(parseInt(x.target.value)||1),placeholder:"Count"}),r.jsx("input",{type:"text",value:c,onChange:x=>o(x.target.value),placeholder:"Placement (optional)"}),r.jsx("button",{className:"btn-add",onClick:_,disabled:!l,children:"+ Add"})]})})]})}const Ge={PENCIL:"pencil",ERASER:"eraser",RECT:"rect",FILL:"fill",PAN:"pan"};function sm({tilemap:e,tileTypes:t=[],selectedTileId:n,tool:l=Ge.PENCIL,tileSize:s=32,showGrid:i=!0,snapToGrid:a=!1,onTileChange:c}){const o=h.useRef(null),[d,v]=h.useState(1),[p,g]=h.useState({x:0,y:0}),[N,S]=h.useState(!1),[_,B]=h.useState({x:0,y:0}),[m,u]=h.useState(!1),[f,y]=h.useState(null),[C,T]=h.useState(null),j=(e==null?void 0:e.width)||50,x=(e==null?void 0:e.height)||30,F=(e==null?void 0:e.data)||[],$=h.useMemo(()=>{const D={0:{id:0,name:"Empty",color:"transparent"}};return t.forEach(L=>{D[L.id]=L}),D},[t]),se=h.useCallback((D,L)=>{if(!o.current)return null;const me=Math.floor((D-p.x)/(s*d)),K=Math.floor((L-p.y)/(s*d));return me<0||me>=j||K<0||K>=x?null:{tileX:me,tileY:K}},[p,s,d,j,x]),Se=h.useCallback((D,L)=>F[L]?F[L][D]:null,[F]),X=h.useCallback((D,L,O)=>{c&&c(D,L,O)},[c]),$e=h.useCallback((D,L,O)=>{const me=Se(D,L);if(me===O)return;const K=[],Re=new Set,R=[{x:D,y:L}];for(;R.length>0;){const{x:ne,y:ee}=R.pop(),te=`${ne},${ee}`;Re.has(te)||ne<0||ne>=j||ee<0||ee>=x||Se(ne,ee)===me&&(Re.add(te),K.push({x:ne,y:ee,tileId:O}),R.push({x:ne+1,y:ee}),R.push({x:ne-1,y:ee}),R.push({x:ne,y:ee+1}),R.push({x:ne,y:ee-1}))}K.forEach(({x:ne,y:ee,tileId:te})=>{X(ne,ee,te)})},[Se,X,j,x]),ct=h.useCallback((D,L,O,me,K)=>{const Re=Math.min(D,O),R=Math.max(D,O),ne=Math.min(L,me),ee=Math.max(L,me);for(let te=ne;te<=ee;te++)for(let Ne=Re;Ne<=R;Ne++)Ne>=0&&Ne<j&&te>=0&&te<x&&X(Ne,te,K)},[X,j,x]),ut=h.useCallback(D=>{if(D.button!==0)return;const L=o.current.getBoundingClientRect(),O=D.clientX-L.left,me=D.clientY-L.top;if(l===Ge.PAN||D.shiftKey){S(!0),B({x:D.clientX-p.x,y:D.clientY-p.y});return}const K=se(O,me);K&&(u(!0),y(K),l===Ge.PENCIL?X(K.tileX,K.tileY,n):l===Ge.ERASER?X(K.tileX,K.tileY,null):l===Ge.FILL&&$e(K.tileX,K.tileY,n))},[l,p,se,n,X,$e]),Ke=h.useCallback(D=>{const L=o.current.getBoundingClientRect(),O=D.clientX-L.left,me=D.clientY-L.top,K=se(O,me);if(T(K),N){g({x:D.clientX-_.x,y:D.clientY-_.y});return}!m||!K||(l===Ge.PENCIL?X(K.tileX,K.tileY,n):l===Ge.ERASER&&X(K.tileX,K.tileY,null))},[N,_,m,l,se,X,n]),I=h.useCallback(D=>{if(N){S(!1);return}if(!m||!f){u(!1);return}const L=o.current.getBoundingClientRect(),O=D.clientX-L.left,me=D.clientY-L.top,K=se(O,me);l===Ge.RECT&&K&&ct(f.tileX,f.tileY,K.tileX,K.tileY,n),u(!1),y(null)},[N,m,f,l,se,ct,n]),U=h.useCallback(D=>{D.preventDefault();const L=D.deltaY>0?-.1:.1;v(O=>Math.max(.25,Math.min(4,O+L)))},[]),V=h.useCallback(()=>{var ne;const D=o.current;if(!D)return;const L=D.getContext("2d");L.fillStyle="#1a1a2e",L.fillRect(0,0,D.width,D.height);const O=s*d,me=Math.max(0,Math.floor(-p.x/O)),K=Math.max(0,Math.floor(-p.y/O)),Re=Math.min(j,Math.ceil((D.width-p.x)/O)),R=Math.min(x,Math.ceil((D.height-p.y)/O));for(let ee=K;ee<R;ee++)for(let te=me;te<Re;te++){const Ne=(ne=F[ee])==null?void 0:ne[te],vt=te*O+p.x,Ae=ee*O+p.y;if(Ne&&$[Ne]){const Je=$[Ne];L.fillStyle=Je.color,L.fillRect(vt,Ae,O,O),L.strokeStyle="rgba(255,255,255,0.1)",L.lineWidth=1,L.strokeRect(vt+.5,Ae+.5,O-1,O-1)}}if(i&&O>=8){L.strokeStyle="rgba(255,255,255,0.15)",L.lineWidth=1;for(let ee=me;ee<=Re;ee++){const te=ee*O+p.x;L.beginPath(),L.moveTo(te,0),L.lineTo(te,D.height),L.stroke()}for(let ee=K;ee<=R;ee++){const te=ee*O+p.y;L.beginPath(),L.moveTo(0,te),L.lineTo(D.width,te),L.stroke()}}if(C&&!N){const ee=C.tileX*O+p.x,te=C.tileY*O+p.y;if(L.strokeStyle="#6366f1",L.lineWidth=2,L.strokeRect(ee,te,O,O),l===Ge.RECT&&m&&f){const Ne=Math.min(f.tileX,C.tileX)*O+p.x,vt=Math.min(f.tileY,C.tileY)*O+p.y,Ae=(Math.abs(C.tileX-f.tileX)+1)*O,Je=(Math.abs(C.tileY-f.tileY)+1)*O,St=$[n];St&&(L.fillStyle=St.color+"80",L.fillRect(Ne,vt,Ae,Je)),L.strokeStyle="#6366f1",L.lineWidth=2,L.setLineDash([5,5]),L.strokeRect(Ne,vt,Ae,Je),L.setLineDash([])}}L.fillStyle="rgba(0,0,0,0.7)",L.fillRect(8,8,120,24),L.fillStyle="#fff",L.font="12px monospace",L.fillText(`Size: ${j}x${x}`,14,24)},[F,$,s,d,p,i,C,N,l,m,f,n,j,x]);h.useEffect(()=>{V()},[V]),h.useEffect(()=>{const D=L=>{L.target.tagName==="INPUT"||L.target.tagName==="TEXTAREA"||L.code==="Space"&&!L.repeat&&L.preventDefault()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[]);const ce=()=>v(D=>Math.min(4,D+.25)),J=()=>v(D=>Math.max(.25,D-.25)),ue=()=>{v(1),g({x:0,y:0})},Le=()=>N?"grabbing":l===Ge.PAN?"grab":l===Ge.ERASER?"crosshair":l===Ge.FILL?"cell":"crosshair";return r.jsxs("div",{className:"tilemap-canvas-container",children:[r.jsxs("div",{className:"canvas-controls",children:[r.jsx("button",{onClick:J,title:"Zoom Out",children:""}),r.jsxs("span",{className:"zoom-level",children:[Math.round(d*100),"%"]}),r.jsx("button",{onClick:ce,title:"Zoom In",children:""}),r.jsx("button",{onClick:ue,title:"Reset View",children:""})]}),r.jsx("canvas",{ref:o,width:1200,height:800,className:"tilemap-canvas",onMouseDown:ut,onMouseMove:Ke,onMouseUp:I,onMouseLeave:()=>{S(!1),u(!1),T(null)},onWheel:U,style:{cursor:Le()}}),C&&r.jsxs("div",{className:"tile-coords",children:["Tile: (",C.tileX,", ",C.tileY,")"]})]})}const im={[Ge.PENCIL]:{icon:"",label:"Pencil",shortcut:"B"},[Ge.ERASER]:{icon:"",label:"Eraser",shortcut:"E"},[Ge.RECT]:{icon:"",label:"Rectangle",shortcut:"R"},[Ge.FILL]:{icon:"",label:"Fill",shortcut:"G"},[Ge.PAN]:{icon:"",label:"Pan",shortcut:"Space"}};function am({tileTypes:e=[],selectedTileId:t,onSelectTile:n,selectedTool:l,onSelectTool:s}){const[i,a]=h.useState(!0),c=e.find(o=>o.id===t);return r.jsxs("div",{className:"tile-palette",children:[r.jsxs("div",{className:"palette-section",children:[r.jsxs("div",{className:"section-header",onClick:()=>a(!i),children:[r.jsx("span",{className:"section-title",children:" Tools"}),r.jsx("span",{className:"section-toggle",children:i?"":""})]}),i&&r.jsx("div",{className:"tool-grid",children:Object.entries(im).map(([o,d])=>r.jsxs("button",{className:`tool-btn ${l===o?"active":""}`,onClick:()=>s(o),title:`${d.label} (${d.shortcut})`,children:[r.jsx("span",{className:"tool-icon",children:d.icon}),r.jsx("span",{className:"tool-label",children:d.label})]},o))})]}),r.jsxs("div",{className:"palette-section tiles-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("span",{className:"section-title",children:" Tiles"}),r.jsx("span",{className:"tile-count",children:e.length})]}),r.jsxs("div",{className:"tile-grid",children:[r.jsx("button",{className:`tile-btn ${t===null?"selected":""}`,onClick:()=>n(null),title:"Eraser (Empty)",children:r.jsx("div",{className:"tile-swatch eraser",children:r.jsx("span",{className:"eraser-icon",children:""})})}),e.map(o=>r.jsx("button",{className:`tile-btn ${t===o.id?"selected":""}`,onClick:()=>n(o.id),title:`${o.name}
${o.collision_type}  ${o.category}`,children:r.jsx("div",{className:"tile-swatch",style:{backgroundColor:o.color}})},o.id))]}),c&&r.jsxs("div",{className:"selected-tile-info",children:[r.jsxs("div",{className:"selected-tile-header",children:[r.jsx("div",{className:"selected-tile-swatch",style:{backgroundColor:c.color}}),r.jsx("span",{className:"selected-tile-name",children:c.name})]}),r.jsxs("div",{className:"selected-tile-meta",children:[r.jsxs("span",{className:"meta-item",children:[r.jsx("span",{className:"meta-label",children:"Collision:"}),r.jsx("span",{className:"meta-value",children:c.collision_type})]}),r.jsxs("span",{className:"meta-item",children:[r.jsx("span",{className:"meta-label",children:"Category:"}),r.jsx("span",{className:"meta-value",children:c.category})]})]})]}),t===null&&r.jsxs("div",{className:"selected-tile-info",children:[r.jsxs("div",{className:"selected-tile-header",children:[r.jsx("div",{className:"selected-tile-swatch eraser",children:r.jsx("span",{children:""})}),r.jsx("span",{className:"selected-tile-name",children:"Eraser"})]}),r.jsx("div",{className:"selected-tile-meta",children:r.jsx("span",{className:"meta-item",children:"Clears tiles"})})]})]})]})}const om=[{id:"platformer",name:"Platformer",icon:""},{id:"puzzle",name:"Puzzle",icon:""},{id:"shooter",name:"Shooter",icon:""}],cm=[{id:"easy",name:"Easy",color:"#4ade80"},{id:"medium",name:"Medium",color:"#facc15"},{id:"hard",name:"Hard",color:"#f97316"},{id:"expert",name:"Expert",color:"#ef4444"}],Ye={ENTITIES:"entities",TILEMAP:"tilemap"};function um({currentProject:e,levels:t,currentLevel:n,onSelectLevel:l,onGenerateLevel:s,generating:i,progress:a,progressMessage:c,availableModels:o,selectedModel:d,onModelChange:v,showGenerator:p,onShowGeneratorChange:g,viewMode:N,onViewModeChange:S,onRenameLevel:_,selectedObject:B,onSelectObject:m,onUpdateObject:u,snapToGrid:f=!1,showGrid:y=!0,gridSize:C=50}){var xn;const[T,j]=h.useState(N??"canvas"),[x,F]=h.useState(320),$=h.useRef(!1),[se,Se]=h.useState(null),X=B??se,$e=m||Se,[ct,ut]=h.useState("platformer"),[Ke,I]=h.useState("medium"),[U,V]=h.useState(""),[ce,J]=h.useState(""),[ue,Le]=h.useState([]),[D,L]=h.useState("layers"),[O,me]=h.useState({[Ye.ENTITIES]:!0,[Ye.TILEMAP]:!0}),[K,Re]=h.useState(Ye.ENTITIES),[R,ne]=h.useState([]),[ee,te]=h.useState(null),[Ne,vt]=h.useState(Ge.PENCIL),[Ae,Je]=h.useState([]);h.useEffect(()=>{e&&(fetch(`http://192.168.68.72:8000/api/projects/${e.id}/entity-types`).then(E=>E.json()).then(E=>Je(E)).catch(E=>console.error("Failed to load entity types:",E)),fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-types`).then(E=>E.json()).then(E=>{ne(E),E.length>0&&ee===null&&te(E[0].id)}).catch(E=>console.error("Failed to load tile types:",E)))},[e]),h.useEffect(()=>{e&&fetch(`http://192.168.68.72:8000/api/projects/${e.id}/entity-types`).then(E=>E.json()).then(E=>Je(E)).catch(E=>console.error("Failed to load entity types:",E))},[e]),h.useEffect(()=>{N!==void 0&&j(N)},[N]),h.useEffect(()=>{p&&(j("ai"),S&&S("ai"))},[p]);const St=h.useCallback(E=>{E.preventDefault(),$.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);h.useEffect(()=>{const E=he=>{$.current&&F(Math.max(220,Math.min(520,he.clientX)))},de=()=>{$.current&&($.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return document.addEventListener("mousemove",E),document.addEventListener("mouseup",de),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",de)}},[]);const dt=E=>{j(E),S&&S(E),g&&g(E==="ai")},Ht=E=>{l(E),dt("canvas")};let ie=null;try{n!=null&&n.level_data&&(ie=typeof n.level_data=="string"?JSON.parse(n.level_data):n.level_data)}catch{ie=null}const Ve=h.useMemo(()=>{if(!(ie!=null&&ie.entities))return{};const E={};return ie.entities.forEach(de=>{const he=de.type||"unknown";E[he]||(E[he]=[]),E[he].push(de)}),E},[ie]),on=h.useCallback(E=>{const de=Ae.find(Ze=>Ze.name.toLowerCase()===E.toLowerCase());return de?{emoji:de.emoji,color:de.color}:{player_spawn:{emoji:"",color:"#3b82f6"},goal:{emoji:"",color:"#22c55e"},enemy:{emoji:"",color:"#ef4444"},enemy_basic:{emoji:"",color:"#ef4444"},enemy_flying:{emoji:"",color:"#a855f7"},coin:{emoji:"",color:"#fbbf24"},key:{emoji:"",color:"#fbbf24"},spike:{emoji:"",color:"#dc2626"},hazard:{emoji:"",color:"#dc2626"}}[E.toLowerCase()]||{emoji:"",color:"#9ca3af"}},[Ae]),Wt=h.useCallback(E=>{$e(E)},[]);h.useCallback(E=>{$e(E),console.log("Update object:",E)},[]);const H=()=>{let E="";ue.length>0&&(E=`

Entity Requirements:
`,ue.forEach(he=>{he.entityType&&he.count>0&&(E+=`- ${he.count}x ${he.entityType.name}`,he.placement&&(E+=`: ${he.placement}`),E+=`
`)}));const de=(ce||"Create an engaging level")+E;s({genre:ct,difficulty:Ke,theme:U||"default",requirements:de})};return e?r.jsx("div",{className:"levels-page",children:r.jsxs("main",{className:"main-area",children:[r.jsxs("div",{className:"toolbar",children:[r.jsxs("div",{className:"toolbar-left",children:[r.jsx("h2",{children:" Levels"}),r.jsx("span",{className:"project-name",children:e.name})]}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-primary",onClick:()=>dt("ai"),children:" Generate New Level"}),T==="ai"&&r.jsx("button",{className:"btn-secondary",onClick:()=>dt("canvas"),children:" Back to Canvas"})]})]}),r.jsxs("div",{className:"levels-workspace",children:[r.jsxs("aside",{className:"levels-sidebar",style:{width:x},children:[r.jsxs("div",{className:"sidebar-tabs",children:[r.jsx("button",{className:`sidebar-tab ${D==="layers"?"active":""}`,onClick:()=>L("layers"),children:" Layers"}),r.jsx("button",{className:`sidebar-tab ${D==="levels"?"active":""}`,onClick:()=>L("levels"),children:" Levels"}),r.jsx("button",{className:`sidebar-tab ${D==="objects"?"active":""}`,onClick:()=>L("objects"),children:" Objects"})]}),D==="layers"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"levels-sidebar-header",children:[r.jsx("h3",{children:"Level Layers"}),!n&&r.jsx("span",{className:"hint-text",children:"Select a level"})]}),r.jsxs("div",{className:"layers-list",children:[r.jsxs("div",{className:`layer-item ${K===Ye.ENTITIES?"active":""}`,onClick:()=>Re(Ye.ENTITIES),children:[r.jsx("button",{className:"layer-visibility-btn",onClick:E=>{E.stopPropagation(),me(de=>({...de,[Ye.ENTITIES]:!de[Ye.ENTITIES]}))},title:O[Ye.ENTITIES]?"Hide layer":"Show layer",children:O[Ye.ENTITIES]?"":""}),r.jsx("span",{className:"layer-icon",children:""}),r.jsx("span",{className:"layer-name",children:"Entities"}),r.jsx("span",{className:"layer-count",children:((xn=ie==null?void 0:ie.entities)==null?void 0:xn.length)||0})]}),r.jsxs("div",{className:`layer-item ${K===Ye.TILEMAP?"active":""}`,onClick:()=>Re(Ye.TILEMAP),children:[r.jsx("button",{className:"layer-visibility-btn",onClick:E=>{E.stopPropagation(),me(de=>({...de,[Ye.TILEMAP]:!de[Ye.TILEMAP]}))},title:O[Ye.TILEMAP]?"Hide layer":"Show layer",children:O[Ye.TILEMAP]?"":""}),r.jsx("span",{className:"layer-icon",children:""}),r.jsx("span",{className:"layer-name",children:"Tilemap"}),r.jsx("span",{className:"layer-count",children:ie!=null&&ie.tilemap?`${ie.tilemap.width}x${ie.tilemap.height}`:""})]})]}),K===Ye.TILEMAP&&n&&r.jsxs("div",{className:"tilemap-settings",children:[r.jsx("h4",{children:"Tilemap Settings"}),r.jsxs("div",{className:"setting-row",children:[r.jsx("span",{children:"Tile Size"}),r.jsxs("span",{children:[(e==null?void 0:e.tile_size)||32,"px"]})]}),r.jsxs("div",{className:"setting-row",children:[r.jsx("span",{children:"Tile Types"}),r.jsx("span",{children:R.length})]}),r.jsx("p",{className:"tilemap-hint",children:"Select a tile type from the right palette and draw on the canvas."})]})]}),D==="levels"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"levels-sidebar-header",children:[r.jsx("h3",{children:"Project Levels"}),r.jsx("span",{className:"count-badge",children:t.length})]}),r.jsx("div",{className:"levels-sidebar-list",children:t.length===0?r.jsxs("div",{className:"empty-levels small",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"No levels yet"})]}):t.map(E=>r.jsxs("button",{className:`level-list-item ${(n==null?void 0:n.id)===E.id?"active":""}`,onClick:()=>Ht(E),children:[r.jsx("div",{className:"level-list-name",children:E.name}),r.jsxs("div",{className:"level-list-meta",children:[r.jsx("span",{children:E.genre}),r.jsx("span",{className:`diff-badge ${E.difficulty}`,children:E.difficulty})]})]},E.id))})]}),D==="objects"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"levels-sidebar-header",children:[r.jsx("h3",{children:"Object Hierarchy"}),!n&&r.jsx("span",{className:"hint-text",children:"Select a level"})]}),r.jsx("div",{className:"levels-sidebar-list objects-list",children:n?ie?r.jsxs(r.Fragment,{children:[ie.platforms&&ie.platforms.length>0&&r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:""}),r.jsx("span",{className:"group-name",children:"Platforms"}),r.jsx("span",{className:"count-badge",children:ie.platforms.length})]}),r.jsx("div",{className:"object-items",children:ie.platforms.map((E,de)=>r.jsxs("div",{className:`object-item ${(X==null?void 0:X.type)==="platform"&&(X==null?void 0:X.index)===de?"selected":""}`,onClick:()=>Wt({type:"platform",data:E,index:de}),children:[r.jsx("span",{className:"item-icon",children:""}),r.jsxs("span",{className:"item-name",children:["Platform ",de+1]}),r.jsxs("span",{className:"item-coords",children:["@ ",E.x,", ",E.y]})]},de))})]}),Object.entries(Ve).map(([E,de])=>{const he=on(E);return r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:he.emoji}),r.jsx("span",{className:"group-name",children:E}),r.jsx("span",{className:"count-badge",children:de.length})]}),r.jsx("div",{className:"object-items",children:de.map((Ze,M)=>r.jsxs("div",{className:`object-item ${(X==null?void 0:X.type)==="entity"&&(X==null?void 0:X.index)===M&&(X==null?void 0:X.entityType)===E?"selected":""}`,onClick:()=>Wt({type:"entity",entityType:E,data:Ze,index:M}),children:[r.jsx("span",{className:"item-icon",children:he.emoji}),r.jsx("span",{className:"item-name",children:Ze.name||`${E} ${M+1}`}),r.jsxs("span",{className:"item-coords",children:["@ ",Ze.x,", ",Ze.y]})]},M))})]},E)}),ie.player_spawn&&r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:""}),r.jsx("span",{className:"group-name",children:"Player Spawn"})]}),r.jsx("div",{className:"object-items",children:r.jsxs("div",{className:`object-item ${(X==null?void 0:X.type)==="spawn"?"selected":""}`,onClick:()=>Wt({type:"spawn",data:ie.player_spawn}),children:[r.jsx("span",{className:"item-icon",children:""}),r.jsx("span",{className:"item-name",children:"Spawn Point"}),r.jsxs("span",{className:"item-coords",children:["@ ",ie.player_spawn.x,", ",ie.player_spawn.y]})]})})]}),ie.goal&&r.jsxs("div",{className:"object-group",children:[r.jsxs("div",{className:"object-group-header",children:[r.jsx("span",{className:"group-icon",children:""}),r.jsx("span",{className:"group-name",children:"Goal"})]}),r.jsx("div",{className:"object-items",children:r.jsxs("div",{className:`object-item ${(X==null?void 0:X.type)==="goal"?"selected":""}`,onClick:()=>Wt({type:"goal",data:ie.goal}),children:[r.jsx("span",{className:"item-icon",children:""}),r.jsx("span",{className:"item-name",children:"Goal Point"}),r.jsxs("span",{className:"item-coords",children:["@ ",ie.goal.x,", ",ie.goal.y]})]})})]})]}):r.jsxs("div",{className:"empty-levels small",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"No objects in this level"})]}):r.jsxs("div",{className:"empty-levels small",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("p",{children:"Select a level to view objects"})]})})]})]}),r.jsx("div",{className:"resize-handle-vertical",onMouseDown:St}),r.jsxs("section",{className:"levels-center",children:[T==="canvas"&&r.jsx("div",{className:"canvas-area",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"canvas-view",children:K===Ye.ENTITIES?r.jsx(nm,{level:n,mode:"draft",entityTypes:Ae||[],onRename:_,selectedObject:X,onSelectObject:Wt,onUpdateObject:u,snapToGrid:f,showGrid:y,gridSize:C}):r.jsx(sm,{tilemap:(ie==null?void 0:ie.tilemap)||{width:50,height:30,data:[]},tileTypes:R,selectedTileId:ee,tool:Ne,tileSize:(e==null?void 0:e.tile_size)||32,showGrid:y,onTileChange:(E,de,he)=>{console.log("Tile change:",E,de,he)}})}),K===Ye.TILEMAP&&r.jsx(am,{tileTypes:R,selectedTileId:ee,onSelectTile:te,selectedTool:Ne,onSelectTool:vt})]}):r.jsxs("div",{className:"no-selection",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No Level Selected"}),r.jsx("p",{children:"Select a level from the left panel or generate a new one."}),r.jsx("button",{className:"btn-primary",onClick:()=>dt("ai"),children:" Generate New Level"})]})}),T==="ai"&&r.jsxs("div",{className:"ai-generation-view",children:[i&&r.jsxs("div",{className:"progress-section",children:[r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill",style:{width:`${a}%`}})}),r.jsxs("div",{className:"progress-info",children:[r.jsx("span",{children:c}),r.jsxs("span",{children:[a,"%"]})]})]}),r.jsxs("div",{className:"model-bar",children:[r.jsx("label",{children:"AI Model:"}),r.jsx("select",{value:d,onChange:E=>v(E.target.value),children:o&&Object.entries(o).map(([E,de])=>de.map(he=>r.jsxs("option",{value:he.name,children:[E.toUpperCase(),": ",he.display||he.name]},he.name)))})]}),r.jsxs("div",{className:"generation-form",children:[r.jsxs("div",{className:"form-header",children:[r.jsx("h2",{children:" Generate New Level"}),r.jsx("p",{children:"Configure your level settings and let AI create it for you."})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Genre"}),r.jsx("div",{className:"genre-grid",children:om.map(E=>r.jsxs("button",{className:`genre-card ${ct===E.id?"active":""}`,onClick:()=>ut(E.id),children:[r.jsx("span",{className:"icon",children:E.icon}),r.jsx("span",{className:"name",children:E.name})]},E.id))})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Difficulty"}),r.jsx("div",{className:"diff-grid",children:cm.map(E=>r.jsx("button",{className:`diff-card ${Ke===E.id?"active":""}`,style:{"--active-color":E.color},onClick:()=>I(E.id),children:E.name},E.id))})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group half",children:[r.jsx("label",{children:"Theme"}),r.jsx("input",{type:"text",placeholder:"e.g., forest, castle, space station...",value:U,onChange:E=>V(E.target.value)})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Additional Requirements"}),r.jsx("textarea",{placeholder:"e.g., Include 5 coins, add moving platforms, make it challenging...",value:ce,onChange:E=>J(E.target.value),rows:3})]})}),r.jsx(rm,{entityTypes:Ae||[],requirements:ue,onRequirementsChange:Le}),r.jsx("button",{className:"generate-btn",onClick:H,disabled:i,children:i?" Generating...":" Generate Level"})]})]})]})]})]})}):r.jsx("div",{className:"levels-page",children:r.jsxs("div",{className:"no-project-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"No Project Selected"}),r.jsx("p",{children:"Select a project from the Dashboard to manage levels."})]})})}const ac=[{id:"textures",label:"Textures",icon:""},{id:"models",label:"Models",icon:""},{id:"audio",label:"Audio",icon:""},{id:"scripts",label:"Scripts",icon:""},{id:"templates",label:"AI Templates",icon:""}];function dm({currentProject:e,onSelectAsset:t,selectedAsset:n}){var v;const[l,s]=h.useState("textures"),[i,a]=h.useState(""),o={textures:[{id:1,name:"Grass Tile",type:"png",size:"64x64",category:"textures"},{id:2,name:"Stone Wall",type:"png",size:"64x64",category:"textures"},{id:3,name:"Water Surface",type:"png",size:"64x64",category:"textures"}],models:[{id:4,name:"Player Character",type:"glb",vertices:1200,category:"models"},{id:5,name:"Enemy Slime",type:"glb",vertices:300,category:"models"}],audio:[{id:6,name:"Jump Sound",type:"wav",duration:"0.5s",category:"audio"},{id:7,name:"Coin Collect",type:"wav",duration:"0.3s",category:"audio"}],scripts:[{id:8,name:"Player Controller",type:"js",lines:150,category:"scripts"},{id:9,name:"Enemy AI",type:"js",lines:80,category:"scripts"}],templates:[{id:10,name:"Forest Level",type:"prompt",tokens:120,category:"templates"},{id:11,name:"Dungeon Room",type:"prompt",tokens:85,category:"templates"}]}[l]||[],d=p=>{const g={...p,typeLabel:"Asset"};t&&t(g)};return e?r.jsxs("div",{className:"library-page",children:[r.jsxs("aside",{className:"sub-nav",children:[r.jsx("div",{className:"sub-nav-header",children:r.jsx("h3",{children:"Asset Types"})}),r.jsx("nav",{className:"sub-nav-list",children:ac.map(p=>r.jsxs("button",{className:`sub-nav-item ${l===p.id?"active":""}`,onClick:()=>s(p.id),children:[r.jsx("span",{className:"sub-nav-icon",children:p.icon}),r.jsx("span",{className:"sub-nav-label",children:p.label})]},p.id))})]}),r.jsxs("main",{className:"main-area",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("div",{className:"toolbar-left",children:r.jsx("input",{type:"text",placeholder:"Search assets...",value:i,onChange:p=>a(p.target.value),className:"search-input"})}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-secondary",children:"Import"}),r.jsx("button",{className:"btn-primary",children:"+ Upload Asset"})]})]}),r.jsx("div",{className:"data-grid-container",children:o.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:(v=ac.find(p=>p.id===l))==null?void 0:v.icon}),r.jsxs("h3",{children:["No ",l," yet"]}),r.jsx("p",{children:"Upload or import assets to use in your levels."})]}):r.jsxs("table",{className:"data-grid",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Type"}),r.jsx("th",{children:"Details"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:o.map(p=>r.jsxs("tr",{className:(n==null?void 0:n.id)===p.id?"selected":"",onClick:()=>d(p),children:[r.jsx("td",{children:r.jsx("strong",{children:p.name})}),r.jsx("td",{children:r.jsx("span",{className:"badge",children:p.type})}),r.jsx("td",{children:p.size||p.vertices||p.duration||p.lines||p.tokens}),r.jsxs("td",{className:"col-actions",children:[r.jsx("button",{className:"action-btn",children:""}),r.jsx("button",{className:"action-btn",children:""})]})]},p.id))})]})})]})]}):r.jsx("div",{className:"placeholder-page",children:r.jsxs("div",{className:"no-project-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"No Project Selected"}),r.jsx("p",{children:"Select a project from the Dashboard to manage assets."})]})})}const fm=[{id:"prompts",label:"Prompt Editor",icon:""},{id:"models",label:"Model Settings",icon:""},{id:"history",label:"Generation History",icon:""},{id:"feedback",label:"Quality Ratings",icon:""}];function pm({availableModels:e,selectedModel:t,onModelChange:n,consoleLogs:l}){const[s,i]=h.useState("prompts"),[a,c]=h.useState(""),o=[{id:1,time:"09:45",model:"gpt-4o",genre:"platformer",status:"success"},{id:2,time:"09:30",model:"llama3.2",genre:"puzzle",status:"success"},{id:3,time:"09:15",model:"gpt-4o",genre:"shooter",status:"failed"}];return r.jsxs("div",{className:"ai-tools-page",children:[r.jsxs("aside",{className:"sub-nav",children:[r.jsx("div",{className:"sub-nav-header",children:r.jsx("h3",{children:"AI Tools"})}),r.jsx("nav",{className:"sub-nav-list",children:fm.map(d=>r.jsxs("button",{className:`sub-nav-item ${s===d.id?"active":""}`,onClick:()=>i(d.id),children:[r.jsx("span",{className:"sub-nav-icon",children:d.icon}),r.jsx("span",{className:"sub-nav-label",children:d.label})]},d.id))})]}),r.jsxs("main",{className:"main-area",children:[s==="prompts"&&r.jsxs("div",{className:"prompt-editor",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("h2",{children:"Prompt Editor"}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"btn-secondary",children:"Load Template"}),r.jsx("button",{className:"btn-primary",children:"Save Prompt"})]})]}),r.jsx("div",{className:"editor-area",children:r.jsx("textarea",{value:a,onChange:d=>c(d.target.value),placeholder:`Write your custom level generation prompt here...

Example:
Generate a medium-difficulty platformer level with:
- 10 platforms
- 5 enemies
- 3 collectible coins
- A checkpoint at the halfway point`,className:"prompt-textarea"})}),r.jsxs("div",{className:"prompt-suggestions",children:[r.jsx("h4",{children:"Suggestions"}),r.jsxs("div",{className:"suggestions-list",children:[r.jsx("button",{onClick:()=>c(d=>d+`
- Include moving platforms`),children:"+ Moving platforms"}),r.jsx("button",{onClick:()=>c(d=>d+`
- Add a boss fight area`),children:"+ Boss fight"}),r.jsx("button",{onClick:()=>c(d=>d+`
- Include secret areas`),children:"+ Secret areas"}),r.jsx("button",{onClick:()=>c(d=>d+`
- Add environmental hazards`),children:"+ Hazards"})]})]})]}),s==="models"&&r.jsxs("div",{className:"model-settings",children:[r.jsx("div",{className:"toolbar",children:r.jsx("h2",{children:"Model Settings"})}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Active Model"}),r.jsx("select",{value:t,onChange:d=>n(d.target.value),children:e&&Object.entries(e).map(([d,v])=>v.map(p=>r.jsxs("option",{value:p.name,children:[d.toUpperCase(),": ",p.display||p.name]},p.name)))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Temperature"}),r.jsx("input",{type:"range",min:"0",max:"100",defaultValue:"70"}),r.jsx("span",{className:"hint",children:"Higher = more creative, Lower = more consistent"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Max Tokens"}),r.jsx("input",{type:"number",defaultValue:"2000"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Auto-fallback to Ollama"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{className:"toggle-slider"})]}),r.jsx("span",{className:"hint",children:"Automatically switch to local Ollama on rate limits"})]})]})]}),s==="history"&&r.jsxs("div",{className:"generation-history",children:[r.jsxs("div",{className:"toolbar",children:[r.jsx("h2",{children:"Generation History"}),r.jsx("button",{className:"btn-secondary",children:"Clear History"})]}),r.jsxs("table",{className:"data-grid",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Time"}),r.jsx("th",{children:"Model"}),r.jsx("th",{children:"Genre"}),r.jsx("th",{children:"Status"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:o.map(d=>r.jsxs("tr",{children:[r.jsx("td",{children:d.time}),r.jsx("td",{children:d.model}),r.jsx("td",{children:d.genre}),r.jsx("td",{children:r.jsx("span",{className:`status-badge ${d.status}`,children:d.status==="success"?"":""})}),r.jsx("td",{children:r.jsx("button",{className:"action-btn",children:""})})]},d.id))})]})]}),s==="feedback"&&r.jsxs("div",{className:"feedback-page",children:[r.jsx("div",{className:"toolbar",children:r.jsx("h2",{children:"Quality Ratings"})}),r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No ratings yet"}),r.jsx("p",{children:"Rate generated levels to improve AI quality over time."})]})]})]}),r.jsxs("aside",{className:"inspector",children:[r.jsx("div",{className:"inspector-header",children:r.jsx("h3",{children:"AI Status"})}),r.jsxs("div",{className:"inspector-content",children:[r.jsxs("div",{className:"status-section",children:[r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-label",children:"Current Model"}),r.jsx("span",{className:"status-value",children:t||"None"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-label",children:"Generations Today"}),r.jsx("span",{className:"status-value",children:"12"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-label",children:"Success Rate"}),r.jsx("span",{className:"status-value success",children:"92%"})]})]}),r.jsxs("div",{className:"recent-activity",children:[r.jsx("h4",{children:"Recent Activity"}),l&&l.length>0?r.jsx("div",{className:"activity-list",children:l.slice(-5).map((d,v)=>r.jsxs("div",{className:`activity-item ${d.type}`,children:[r.jsx("span",{className:"activity-time",children:d.time}),r.jsx("span",{className:"activity-msg",children:d.message})]},v))}):r.jsx("p",{className:"hint",children:"No recent activity"})]})]})]})]})}const mm=[{id:"none",label:"None",description:"No collision"},{id:"solid",label:"Solid",description:"Blocks movement"},{id:"passthrough",label:"Passthrough",description:"Can jump through from below"},{id:"hazard",label:"Hazard",description:"Deals damage on contact"},{id:"water",label:"Water",description:"Swimmable fluid"}],oc=[{id:"terrain",label:"Terrain",icon:""},{id:"hazard",label:"Hazard",icon:""},{id:"decoration",label:"Decoration",icon:""},{id:"special",label:"Special",icon:""}],hm=["#808080","#6b7280","#4b5563","#374151","#22c55e","#16a34a","#15803d","#166534","#3b82f6","#2563eb","#1d4ed8","#1e40af","#f59e0b","#d97706","#b45309","#92400e","#ef4444","#dc2626","#b91c1c","#991b1b","#8b5cf6","#7c3aed","#6d28d9","#5b21b6"];function vm({projectId:e,tileTypes:t=[],onRefresh:n,onSelectTile:l,selectedTileId:s}){const[i,a]=h.useState(null),[c,o]=h.useState(!1),[d,v]=h.useState(p());function p(){return{name:"",color:"#808080",description:"",collision_type:"solid",friction:1,damage:0,category:"terrain"}}const g=async()=>{if(!d.name.trim()){alert("Please enter a tile name");return}try{if(!(await fetch(`http://192.168.68.72:8000/api/projects/${e}/tile-types`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name.trim(),color:d.color,description:d.description||null,collision_type:d.collision_type,friction:d.friction,damage:d.damage,category:d.category})})).ok)throw new Error("Failed to create tile type");o(!1),v(p()),n&&n()}catch(u){console.error("Create tile type failed:",u),alert("Failed to create tile type")}},N=async()=>{if(!i||!d.name.trim()){alert("Please enter a tile name");return}try{if(!(await fetch(`http://192.168.68.72:8000/api/tile-types/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name.trim(),color:d.color,description:d.description||null,collision_type:d.collision_type,friction:d.friction,damage:d.damage,category:d.category})})).ok)throw new Error("Failed to update tile type");a(null),v(p()),n&&n()}catch(u){console.error("Update tile type failed:",u),alert("Failed to update tile type")}},S=async u=>{if(confirm("Delete this tile type?"))try{if(!(await fetch(`http://192.168.68.72:8000/api/tile-types/${u}`,{method:"DELETE"})).ok)throw new Error("Failed to delete tile type");(i==null?void 0:i.id)===u&&(a(null),v(p())),n&&n()}catch(f){console.error("Delete tile type failed:",f),alert("Failed to delete tile type")}},_=u=>{a(u),v({name:u.name,color:u.color,description:u.description||"",collision_type:u.collision_type,friction:u.friction,damage:u.damage,category:u.category}),o(!1)},B=()=>{a(null),o(!1),v(p())},m=t.reduce((u,f)=>{const y=f.category||"terrain";return u[y]||(u[y]=[]),u[y].push(f),u},{});return r.jsxs("div",{className:"tile-type-manager",children:[r.jsxs("div",{className:"tile-type-header",children:[r.jsx("h3",{children:"Tile Types"}),r.jsx("button",{className:"btn-small btn-primary",onClick:()=>{o(!0),a(null)},children:"+ New"})]}),r.jsx("div",{className:"tile-type-list",children:oc.map(u=>{const f=m[u.id]||[];return f.length===0&&u.id!=="terrain"?null:r.jsxs("div",{className:"tile-category",children:[r.jsxs("div",{className:"category-header",children:[r.jsx("span",{className:"category-icon",children:u.icon}),r.jsx("span",{className:"category-name",children:u.label}),r.jsx("span",{className:"category-count",children:f.length})]}),r.jsxs("div",{className:"category-tiles",children:[f.map(y=>r.jsxs("div",{className:`tile-type-item ${s===y.id?"selected":""}`,onClick:()=>l&&l(y),children:[r.jsx("div",{className:"tile-preview",style:{backgroundColor:y.color},title:y.name}),r.jsxs("div",{className:"tile-info",children:[r.jsx("span",{className:"tile-name",children:y.name}),r.jsx("span",{className:"tile-collision",children:y.collision_type})]}),r.jsxs("div",{className:"tile-actions",children:[r.jsx("button",{className:"btn-icon",onClick:C=>{C.stopPropagation(),_(y)},title:"Edit",children:""}),r.jsx("button",{className:"btn-icon danger",onClick:C=>{C.stopPropagation(),S(y.id)},title:"Delete",children:""})]})]},y.id)),f.length===0&&u.id==="terrain"&&r.jsxs("div",{className:"no-tiles",children:[r.jsx("p",{children:"No tiles yet"}),r.jsx("button",{className:"btn-primary empty-create-btn",onClick:()=>{o(!0),a(null)},children:"+ Create First Tile Type"})]})]})]},u.id)})}),(c||i)&&r.jsx("div",{className:"tile-type-form-overlay",onClick:B,children:r.jsxs("div",{className:"tile-type-form",onClick:u=>u.stopPropagation(),children:[r.jsx("h4",{children:i?"Edit Tile Type":"Create Tile Type"}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsx("input",{type:"text",value:d.name,onChange:u=>v({...d,name:u.target.value}),placeholder:"e.g., Grass, Stone, Water...",autoFocus:!0})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Color"}),r.jsxs("div",{className:"color-picker",children:[r.jsx("input",{type:"color",value:d.color,onChange:u=>v({...d,color:u.target.value})}),r.jsx("div",{className:"color-presets",children:hm.map(u=>r.jsx("button",{type:"button",className:`color-preset ${d.color===u?"selected":""}`,style:{backgroundColor:u},onClick:()=>v({...d,color:u})},u))})]})]}),r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Category"}),r.jsx("select",{value:d.category,onChange:u=>v({...d,category:u.target.value}),children:oc.map(u=>r.jsxs("option",{value:u.id,children:[u.icon," ",u.label]},u.id))})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Collision Type"}),r.jsx("div",{className:"collision-grid",children:mm.map(u=>r.jsxs("button",{type:"button",className:`collision-option ${d.collision_type===u.id?"selected":""}`,onClick:()=>v({...d,collision_type:u.id}),children:[r.jsx("span",{className:"collision-label",children:u.label}),r.jsx("span",{className:"collision-desc",children:u.description})]},u.id))})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Friction (0.0 - 1.0)"}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",value:d.friction,onChange:u=>v({...d,friction:parseFloat(u.target.value)||0})})]}),r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Damage/Second"}),r.jsx("input",{type:"number",min:"0",value:d.damage,onChange:u=>v({...d,damage:parseInt(u.target.value)||0})})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Description"}),r.jsx("textarea",{value:d.description,onChange:u=>v({...d,description:u.target.value}),placeholder:"Description for AI generation...",rows:2})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:B,children:"Cancel"}),r.jsx("button",{className:"btn-primary",onClick:i?N:g,children:i?"Update":"Create"})]})]})})]})}function ym({currentProject:e,availableModels:t,selectedModel:n,onModelChange:l,onUpdateProject:s,theme:i,accentColor:a,onThemeChange:c,onAccentChange:o}){const[d,v]=h.useState("project"),[p,g]=h.useState([]),[N,S]=h.useState(32),[_,B]=h.useState(!1),m=[{id:"project",label:"Project",icon:""},{id:"tiles",label:"Tile Types",icon:""},{id:"ai",label:"AI Settings",icon:""},{id:"ui",label:"UI & Themes",icon:""},{id:"export",label:"Export",icon:""}];h.useEffect(()=>{e&&(u(),S(e.tile_size||32))},[e]);const u=async()=>{if(e)try{const x=await(await fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-types`)).json();g(x)}catch(j){console.error("Failed to load tile types:",j)}},f=async j=>{if(S(j),!!e){B(!0);try{if(!(await fetch(`http://192.168.68.72:8000/api/projects/${e.id}/tile-size`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tile_size:j})})).ok)throw new Error("Failed to update tile size")}catch(x){console.error("Failed to update tile size:",x)}finally{B(!1)}}},y=[{id:"dark",label:"Dark",icon:""},{id:"light",label:"Light",icon:""},{id:"system",label:"System",icon:""}],C=[{id:"indigo",color:"#6366f1",label:"Indigo"},{id:"purple",color:"#a855f7",label:"Purple"},{id:"green",color:"#22c55e",label:"Green"},{id:"orange",color:"#f97316",label:"Orange"},{id:"red",color:"#ef4444",label:"Red"}],T=j=>{if(j==="system"){const x=window.matchMedia("(prefers-color-scheme: dark)").matches;c(x?"dark":"light")}else c(j)};return r.jsxs("div",{className:"settings-page",children:[r.jsx("header",{className:"page-header",children:r.jsx("h1",{children:"Settings"})}),r.jsxs("div",{className:"settings-layout",children:[r.jsx("nav",{className:"settings-nav",children:m.map(j=>r.jsxs("button",{className:`nav-item ${d===j.id?"active":""}`,onClick:()=>v(j.id),children:[r.jsx("span",{className:"nav-icon",children:j.icon}),r.jsx("span",{className:"nav-label",children:j.label})]},j.id))}),r.jsxs("div",{className:"settings-content",children:[d==="project"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Project Settings"}),e?r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Project Name"}),r.jsx("input",{type:"text",defaultValue:e.name})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Description"}),r.jsx("textarea",{defaultValue:e.description||"",rows:3})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Created"}),r.jsx("span",{className:"info",children:new Date(e.created_at).toLocaleString()})]}),r.jsx("button",{className:"save-btn",children:"Save Changes"})]}):r.jsx("p",{className:"no-project",children:"No project selected. Choose a project from the Dashboard."})]}),d==="tiles"&&r.jsxs("section",{className:"settings-section tile-settings",children:[r.jsx("h2",{children:"Tile Settings"}),e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"settings-form",children:r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Tile Size (pixels)"}),r.jsx("div",{className:"tile-size-options",children:[16,24,32,48,64].map(j=>r.jsxs("button",{className:`tile-size-btn ${N===j?"active":""}`,onClick:()=>f(j),disabled:_,children:[j,"px"]},j))}),r.jsx("span",{className:"hint",children:"Grid size for tilemaps in this project"})]})}),r.jsxs("div",{className:"tile-types-section",children:[r.jsx("h3",{children:"Tile Types"}),r.jsx("p",{className:"section-desc",children:"Define tile types for your project's tilemaps. Each tile type has properties like color, collision, and friction."}),r.jsx(vm,{projectId:e.id,tileTypes:p,onRefresh:u})]})]}):r.jsx("p",{className:"no-project",children:"No project selected. Choose a project from the Dashboard."})]}),d==="ai"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"AI Settings"}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Default AI Model"}),r.jsx("select",{value:n,onChange:j=>l(j.target.value),children:t&&Object.entries(t).map(([j,x])=>x.map(F=>r.jsxs("option",{value:F.name,children:[j.toUpperCase(),": ",F.display||F.name]},F.name)))})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Generation Timeout"}),r.jsx("input",{type:"number",defaultValue:90}),r.jsx("span",{className:"hint",children:"Seconds before generation times out"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Auto-save Levels"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{className:"toggle-slider"})]})]})]})]}),d==="ui"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"UI & Themes"}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Theme"}),r.jsx("div",{className:"theme-options",children:y.map(j=>r.jsxs("button",{className:`theme-btn ${i===j.id?"active":""}`,onClick:()=>T(j.id),children:[j.icon," ",j.label]},j.id))}),r.jsx("span",{className:"hint",children:"Choose your preferred color scheme"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Accent Color"}),r.jsx("div",{className:"color-options",children:C.map(j=>r.jsx("button",{className:`color-btn ${a===j.id?"active":""}`,style:{background:j.color},onClick:()=>o(j.id),title:j.label},j.id))}),r.jsx("span",{className:"hint",children:"Accent color for buttons, links, and highlights"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Font Size"}),r.jsxs("select",{defaultValue:"medium",children:[r.jsx("option",{value:"small",children:"Small"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"large",children:"Large"})]}),r.jsx("span",{className:"hint",children:"Adjust the base font size for better readability"})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Compact Mode"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox"}),r.jsx("span",{className:"toggle-slider"})]}),r.jsx("span",{className:"hint",children:"Reduce spacing and padding for more content"})]})]})]}),d==="export"&&r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Export Settings"}),r.jsxs("div",{className:"settings-form",children:[r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Default Export Format"}),r.jsxs("select",{defaultValue:"json",children:[r.jsx("option",{value:"json",children:"JSON"}),r.jsx("option",{value:"yaml",children:"YAML"}),r.jsx("option",{value:"xml",children:"XML"})]})]}),r.jsxs("div",{className:"field",children:[r.jsx("label",{children:"Include Metadata"}),r.jsxs("label",{className:"toggle",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{className:"toggle-slider"})]}),r.jsx("span",{className:"hint",children:"Include project and version info in exports"})]})]})]})]})]})]})}const gm=(e,t={})=>{const{maxHistorySize:n=50,debounceMs:l=100}=t,[s,i]=h.useState([e]),[a,c]=h.useState(0),o=h.useRef(null),d=s[a],v=a>0,p=a<s.length-1,g=h.useCallback((u,f=!1)=>{const y=()=>{i(C=>{const T=C.slice(0,a+1);return T.push(u),T.length>n?T.slice(-n):T}),c(C=>Math.min(C+1,n-1))};f?y():(o.current&&clearTimeout(o.current),o.current=setTimeout(y,l))},[a,n,l]),N=h.useCallback(()=>v?(c(u=>u-1),!0):!1,[v]),S=h.useCallback(()=>p?(c(u=>u+1),!0):!1,[p]),_=h.useCallback(u=>u>=0&&u<s.length?(c(u),!0):!1,[s.length]),B=h.useCallback(()=>{i([e]),c(0)},[e]),m=h.useCallback(()=>({length:s.length,currentIndex:a,canUndo:v,canRedo:p}),[s.length,a,v,p]);return h.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),{state:d,setState:g,undo:N,redo:S,canUndo:v,canRedo:p,jumpTo:_,clearHistory:B,getHistoryInfo:m}},_t="http://192.168.68.72:8000";function xm(){const[e,t]=h.useState("dashboard"),[n,l]=h.useState(()=>localStorage.getItem("levelforge-theme")||"dark"),[s,i]=h.useState(()=>localStorage.getItem("levelforge-accent")||"indigo");h.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),document.documentElement.setAttribute("data-accent",s),localStorage.setItem("levelforge-theme",n),localStorage.setItem("levelforge-accent",s)},[n,s]);const[a,c]=h.useState([]),[o,d]=h.useState(null),[v,p]=h.useState([]),[g,N]=h.useState(!1),[S,_]=h.useState(!1),[B,m]=h.useState("ai"),[u,f]=h.useState(()=>{const w=localStorage.getItem("levelforge-recent-projects");return w?JSON.parse(w):[]}),[y,C]=h.useState([]),[T,j]=h.useState(null),[x,F]=h.useState(null),[$,se]=h.useState(null),[Se,X]=h.useState([]),[$e,ct]=h.useState(!1),[ut,Ke]=h.useState(!1),[I,U]=h.useState(0),[V,ce]=h.useState(""),[J,ue]=h.useState(null),[Le,D]=h.useState(!1),[L,O]=h.useState({}),[me,K]=h.useState(""),[Re,R]=h.useState(()=>localStorage.getItem("levelforge-snap-to-grid")==="true"),[ne,ee]=h.useState(()=>localStorage.getItem("levelforge-show-grid")!=="false"),[te,Ne]=h.useState(()=>{const w=localStorage.getItem("levelforge-grid-size");return w?parseInt(w,10):50});h.useEffect(()=>{localStorage.setItem("levelforge-snap-to-grid",String(Re))},[Re]),h.useEffect(()=>{localStorage.setItem("levelforge-show-grid",String(ne))},[ne]),h.useEffect(()=>{localStorage.setItem("levelforge-grid-size",String(te))},[te]);const{state:vt,setState:Ae,undo:Je,redo:St,canUndo:dt,canRedo:Ht,getHistoryInfo:ie}=gm(J,{maxHistorySize:50,debounceMs:200}),Ve=vt||J,on=w=>{ue(w),w&&Ae(w,!0)},Wt=h.useCallback(()=>{dt&&Je()},[dt,Je]);h.useEffect(()=>{Ve&&(T==null?void 0:T.type)==="Level"&&(T==null?void 0:T.id)===(Ve==null?void 0:Ve.id)&&j({type:"Level",...Ve})},[Ve]);const H=(w,b="info")=>{const Y=new Date().toLocaleTimeString("en-US",{hour12:!1});X(et=>[...et,{message:w,type:b,time:Y}]),(b==="error"||b==="ai-progress")&&ct(!0)},xn=()=>{X([])},E=h.useCallback(async w=>{if(!w||!J)return;const b=Ve||J;let Y=null;try{Y=typeof b.level_data=="string"?JSON.parse(b.level_data):b.level_data}catch{return}if(!Y)return;const{type:et,data:Bt,index:q,entityType:Ie}=w;et==="entity"&&Y.entities&&q!==void 0?Y.entities[q]={...Y.entities[q],...Bt}:et==="platform"&&Y.platforms&&q!==void 0?Y.platforms[q]={...Y.platforms[q],...Bt}:et==="spawn"?Y.player_spawn={...Y.player_spawn,...Bt}:et==="goal"&&(Y.goal={...Y.goal,...Bt});const Me={...b,level_data:JSON.stringify(Y)};ue(Me),Ae(Me,!1),p(Vt=>Vt.map(en=>en.id===Me.id?Me:en));try{if(!(await fetch(`${_t}/api/levels/${J.id}?level_data=${encodeURIComponent(JSON.stringify(Y))}`,{method:"PUT"})).ok)throw new Error("Failed to update level");H(`Updated ${et} ${q!==void 0?`#${q+1}`:""}`,"info")}catch(Vt){console.error("Update object failed:",Vt),H("Failed to update object","error")}},[J,Ve,Ae,H]);h.useEffect(()=>{de(),M(),H("LevelForge initialized","system")},[]),h.useEffect(()=>{o&&(he(o.id),Ze(o.id),H(`Loaded project: ${o.name}`,"info"))},[o]),h.useEffect(()=>{j(null),F(null)},[e]),h.useEffect(()=>{!o&&e!=="dashboard"&&e!=="settings"&&t("dashboard")},[o,e]);const de=async()=>{try{const b=await(await fetch(`${_t}/api/projects`)).json();c(b)}catch(w){console.error("Failed to load projects:",w),H("Failed to load projects","error")}},he=async w=>{try{const Y=await(await fetch(`${_t}/api/projects/${w}/levels`)).json();p(Y)}catch(b){console.error("Failed to load levels:",b)}},Ze=async w=>{try{const Y=await(await fetch(`${_t}/api/projects/${w}/entity-types`)).json();C(Y)}catch(b){console.error("Failed to load entity types:",b)}},M=async()=>{try{const b=await(await fetch(`${_t}/api/models`)).json();b.providers&&(O(b.providers),K(b.current||""),H(`AI model: ${b.current} (${b.current_provider})`,"info"))}catch(w){console.error("Failed to load models:",w)}},W=async w=>{try{await fetch(`${_t}/api/models`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:w})}),K(w),H(`Switched to model: ${w}`,"info")}catch(b){console.error("Failed to switch model:",b),H("Failed to switch model","error")}},Ee=async()=>{const w=prompt("Project name:");if(w)try{const Y=await(await fetch(`${_t}/api/projects?name=${encodeURIComponent(w)}`,{method:"POST"})).json();await de(),d({id:Y.id,name:Y.name}),t("levels"),H(`Created project: ${w}`,"success")}catch(b){console.error("Failed to create project:",b),H("Failed to create project","error")}},kt=w=>{d(w),j({type:"Project",name:w.name,...w}),he(w.id),Ze(w.id);const b=[{id:w.id,name:w.name,timestamp:Date.now()},...u.filter(Y=>Y.id!==w.id)].slice(0,4);f(b),localStorage.setItem("levelforge-recent-projects",JSON.stringify(b)),H(`Loaded project: ${w.name}`,"info"),t("levels")},z=()=>{N(!0)},k=w=>{const b=a.find(Y=>Y.id===w);b&&kt(b)},le=()=>{N(!1)},re=async w=>{if(!o){const b="Please select a project first";H(b,"error"),alert(b);return}H("=== Level Generation Started ===","ai-progress"),H(`Project: ${o.name}`,"system"),H(`Genre: ${w.genre}`,"system"),H(`Difficulty: ${w.difficulty}`,"system"),H(`Theme: ${w.theme}`,"system"),Ke(!0),U(0),ce("Starting...");try{H("Sending request to backend...","ai-progress");const b={...w,model:me||void 0,project_id:o.id};H(`Request: ${JSON.stringify(b,null,2)}`,"debug");const Y=await fetch(`${_t}/api/generate/stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!Y.ok){const Ie=await Y.text();throw H(`Server error (${Y.status}): ${Ie}`,"error"),new Error(`Server returned ${Y.status}: ${Ie}`)}H(" Connected to backend, streaming response...","success");const et=Y.body.getReader(),Bt=new TextDecoder;let q=0;for(;;){const{done:Ie,value:Me}=await et.read();if(Ie){H("Stream ended","system");break}const en=Bt.decode(Me).split(`
`);for(const ye of en)if(ye.startsWith("data: ")){q++;try{const Oe=JSON.parse(ye.slice(6));if(H(`Event: ${Oe.event}`,"debug"),Oe.event==="progress")U(Oe.progress),ce(Oe.message),H(`   ${Oe.message} (${Oe.progress}%)`,"ai-progress");else if(Oe.event==="result"){const tn=Oe.level;on(tn),U(100),ce("Done!"),await he(o.id),H(" Level generated successfully!","success"),H(`Level ID: ${tn.id}`,"system"),m("canvas"),D(!1)}else Oe.event==="error"&&(H(` Generation error: ${Oe.message}`,"error"),alert(`Generation failed: ${Oe.message}`))}catch{H(`Parse error for line: ${ye}`,"warning")}}}q===0&&H(" No events received from stream","warning")}catch(b){console.error("Generation error:",b),H(` Generation failed: ${b.message}`,"error"),H(`Stack trace: ${b.stack}`,"debug"),alert(`Failed to generate level: ${b.message}`)}finally{Ke(!1),H("Generation process completed","system")}},pe=async w=>{try{await fetch(`${_t}/api/projects/${o.id}/entity-types`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),Ze(o.id),H(`Created entity: ${w.name}`,"success")}catch(b){console.error("Failed to create entity type:",b),H("Failed to create entity","error")}},we=async(w,b)=>{try{await fetch(`${_t}/api/entity-types/${w}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),Ze(o.id),H(`Updated entity: ${b.name}`,"success")}catch(Y){console.error("Failed to update entity type:",Y),H("Failed to update entity","error")}},qe=async w=>{if(confirm("Delete this entity type?"))try{await fetch(`${_t}/api/entity-types/${w}`,{method:"DELETE"}),Ze(o.id),j(null),H("Entity deleted","info")}catch(b){console.error("Failed to delete entity type:",b),H("Failed to delete entity","error")}},yt=w=>{on(w),j({type:"Level",...w})},Ct=async w=>{const b=prompt("Rename level:",(w==null?void 0:w.name)||"");if(!(!b||!b.trim()||b.trim()===w.name))try{if(!(await fetch(`${_t}/api/levels/${w.id}/rename`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.trim()})})).ok)throw new Error("Failed to rename level");await he(o.id);const et={...w,name:b.trim()};on(et),j({type:"Level",...et}),H(`Renamed level to "${b.trim()}"`,"info")}catch(Y){console.error("Rename level failed:",Y),H("Failed to rename level","error"),alert("Failed to rename level")}},qt=async w=>{if(confirm(`Delete level "${w==null?void 0:w.name}"? This cannot be undone.`))try{if(!(await fetch(`${_t}/api/levels/${w.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete level");await he(o.id),(J==null?void 0:J.id)===w.id&&ue(null),(T==null?void 0:T.id)===w.id&&(T==null?void 0:T.type)==="Level"&&j(null),se(null),H(`Deleted level "${w.name}"`,"info")}catch(b){console.error("Delete level failed:",b),H("Failed to delete level","error"),alert("Failed to delete level")}},jn=h.useRef($);h.useEffect(()=>{jn.current=$},[$]);const tl=h.useCallback(w=>{if(!w||!w.data)return null;const{type:b,data:Y,index:et}=w,Bt=(ye,Oe)=>{const tn={...Y,[ye]:Oe},Nd={...w,data:tn};se(Nd)},q=(ye,Oe)=>{const tn=parseFloat(Oe);isNaN(tn)||Bt(ye,tn)},Ie=()=>{const ye=jn.current;ye&&E(ye)},Me=ye=>{ye.key==="Enter"&&(ye.preventDefault(),Ie(),ye.target.blur())},en=(()=>{if(b==="entity"){const ye=y.find(Oe=>{var tn;return Oe.name.toLowerCase()===((tn=w.entityType)==null?void 0:tn.toLowerCase())});if(ye)return{emoji:ye.emoji,name:ye.name}}return b==="platform"?{emoji:"",name:"Platform"}:b==="spawn"?{emoji:"",name:"Player Spawn"}:b==="goal"?{emoji:"",name:"Goal"}:{emoji:"",name:b}})();return r.jsxs("div",{className:"object-inspector",children:[r.jsxs("div",{className:"object-inspector-header",children:[r.jsx("span",{className:"object-icon",children:en.emoji}),r.jsxs("span",{className:"object-title",children:[en.name," ",b==="platform"||b==="entity"?`#${(et??0)+1}`:""]})]}),r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Position"}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"X"}),r.jsx("input",{type:"number",value:Y.x??0,onChange:ye=>q("x",ye.target.value),onBlur:Ie,onKeyDown:Me})]}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Y"}),r.jsx("input",{type:"number",value:Y.y??0,onChange:ye=>q("y",ye.target.value),onBlur:Ie,onKeyDown:Me})]})]}),b==="platform"&&r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Size"}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Width"}),r.jsx("input",{type:"number",value:Y.width??100,onChange:ye=>q("width",ye.target.value),onBlur:Ie,onKeyDown:Me})]}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Height"}),r.jsx("input",{type:"number",value:Y.height??30,onChange:ye=>q("height",ye.target.value),onBlur:Ie,onKeyDown:Me})]})]}),b==="entity"&&r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Entity Properties"}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Name"}),r.jsx("input",{type:"text",value:Y.name??"",onChange:ye=>Bt("name",ye.target.value),onBlur:Ie,onKeyDown:Me,placeholder:"Optional name"})]}),r.jsxs("div",{className:"object-field",children:[r.jsx("label",{children:"Type"}),r.jsx("input",{type:"text",value:w.entityType??Y.type??"",disabled:!0,className:"disabled"})]})]}),Object.entries(Y).map(([ye,Oe])=>["x","y","width","height","type","name"].includes(ye)?null:typeof Oe=="object"?r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:ye}),r.jsx("pre",{className:"object-metadata",children:JSON.stringify(Oe,null,2)})]},ye):null),r.jsxs("div",{className:"object-section",children:[r.jsx("h4",{children:"Level Actions"}),r.jsx("div",{className:"object-actions",children:r.jsx("button",{className:"btn-small btn-danger",onClick:()=>{confirm(`Delete level "${J==null?void 0:J.name}"? This cannot be undone.`)&&(qt(J),se(null))},children:" Delete Level"})})]})]})},[y,E,J,qt,$]),ge=w=>{j({type:"Entity",...w}),F(null)},Et=w=>{j({type:"Asset",...w}),F(null)},[Tt,ae]=h.useState(null),[G,Q]=h.useState({}),xe=w=>{ae(w),Q({name:w.name,emoji:w.emoji,color:w.color,description:w.description||"",placement_rules:w.placement_rules||"",behavior:w.behavior||"",collision_type:w.collision_type,category:w.category||"actors",metadata_fields:JSON.parse(w.metadata_fields||"[]")}),j({type:"Entity",...w})},Z=async()=>{const w={...G,metadata_fields:JSON.stringify(G.metadata_fields)};await we(Tt.id,w),ae(null),F(null),j(null)},ve=()=>{ae(null),F(null)},oe=()=>{if(!Tt)return null;const w=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=["text","number","boolean","select"],Y=()=>{Q(q=>({...q,metadata_fields:[...q.metadata_fields,{name:"",type:"text",description:"",default:""}]}))},et=(q,Ie,Me)=>{Q(Vt=>({...Vt,metadata_fields:Vt.metadata_fields.map((en,ye)=>ye===q?{...en,[Ie]:Me}:en)}))},Bt=q=>{Q(Ie=>({...Ie,metadata_fields:Ie.metadata_fields.filter((Me,Vt)=>Vt!==q)}))};return r.jsxs("div",{className:"inspector-edit-form",children:[r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsx("input",{type:"text",value:G.name,onChange:q=>Q({...G,name:q.target.value}),placeholder:"Entity name..."})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Color"}),r.jsx("input",{type:"color",value:G.color,onChange:q=>Q({...G,color:q.target.value})})]}),r.jsxs("div",{className:"form-section half",children:[r.jsx("label",{children:"Collision"}),r.jsxs("select",{value:G.collision_type,onChange:q=>Q({...G,collision_type:q.target.value}),children:[r.jsx("option",{value:"neutral",children:"Neutral"}),r.jsx("option",{value:"harmful",children:"Harmful"}),r.jsx("option",{value:"helpful",children:"Helpful"})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Emoji"}),r.jsx("div",{className:"emoji-grid",children:w.slice(0,18).map(q=>r.jsx("button",{type:"button",className:`emoji-btn ${G.emoji===q?"selected":""}`,onClick:()=>Q({...G,emoji:q}),children:q},q))}),r.jsx("input",{type:"text",value:G.emoji,onChange:q=>Q({...G,emoji:q.target.value}),placeholder:"Or type custom...",className:"mt-2"})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Description"}),r.jsx("textarea",{value:G.description,onChange:q=>Q({...G,description:q.target.value}),placeholder:"Description for AI...",rows:2})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Placement Rules"}),r.jsx("input",{type:"text",value:G.placement_rules,onChange:q=>Q({...G,placement_rules:q.target.value}),placeholder:"e.g., Place on platforms"})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Behavior"}),r.jsx("input",{type:"text",value:G.behavior,onChange:q=>Q({...G,behavior:q.target.value}),placeholder:"e.g., Patrols left/right"})]}),r.jsxs("div",{className:"form-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("label",{children:"Metadata Fields"}),r.jsx("button",{type:"button",className:"btn-link",onClick:Y,children:"+ Add"})]}),G.metadata_fields.length===0?r.jsx("p",{className:"hint",children:"Add fields like hit_points, speed, etc."}):r.jsx("div",{className:"metadata-list",children:G.metadata_fields.map((q,Ie)=>r.jsxs("div",{className:"metadata-item",children:[r.jsx("input",{type:"text",value:q.name,onChange:Me=>et(Ie,"name",Me.target.value),placeholder:"Field name"}),r.jsx("select",{value:q.type,onChange:Me=>et(Ie,"type",Me.target.value),children:b.map(Me=>r.jsx("option",{value:Me,children:Me},Me))}),r.jsx("button",{type:"button",className:"btn-icon danger",onClick:()=>Bt(Ie),children:""})]},Ie))})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:ve,children:"Cancel"}),r.jsx("button",{className:"btn-primary",onClick:Z,children:"Update"})]})]})},rt=(w,b)=>{if(H(`Menu: ${b} > ${w}`,"info"),b==="file")switch(w){case"new-project":Ee();break;case"open-project":z();break;case"save":H("Project saved","success");break;case"project-settings":t("settings");break;case"exit":confirm("Exit LevelForge?")&&window.close();break;default:if(w.startsWith("recent-")){const Y=parseInt(w.replace("recent-",""));isNaN(Y)||k(Y)}}if(b==="edit")switch(w){case"snap-to-grid":R(Y=>!Y),H(`Snap to Grid ${Re?"disabled":"enabled"}`,"info");break;case"toggle-grid":ee(Y=>!Y),H(`Grid ${ne?"hidden":"shown"}`,"info");break;case"grid-size-10":Ne(10),H("Grid size: 10px","info");break;case"grid-size-25":Ne(25),H("Grid size: 25px","info");break;case"grid-size-50":Ne(50),H("Grid size: 50px","info");break;case"grid-size-100":Ne(100),H("Grid size: 100px","info");break;case"preferences":t("settings");break}if(b==="view")switch(w){case"toggle-inspector":break;case"toggle-console":break;case"fullscreen":document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen();break}if(b==="entities")switch(w){case"create-actor":case"create-item":case"create-terrain":case"create-behavior":case"create-script":t("entities");break;case"schema-editor":t("settings");break}if(b==="levels")switch(w){case"new-level":t("levels"),D(!0);break;case"generate-ai":t("levels"),D(!0);break;case"level-settings":t("settings");break}if(b==="ai")switch(w){case"gen-level":t("levels"),D(!0);break;case"model-settings":case"api-config":t("ai-tools");break;case"history":t("ai-tools");break}if(b==="tools")switch(w){case"json-viewer":H("JSON Viewer coming soon...","info");break;case"plugin-manager":H("Plugin Manager coming soon...","info");break}if(b==="help")switch(w){case"documentation":window.open("https://docs.openclaw.ai/levelforge","_blank");break;case"shortcuts":alert(`Keyboard Shortcuts:
          
Ctrl+1-6: Switch tabs
Ctrl+I: Toggle Inspector
Ctrl+\`: Toggle Console
Ctrl+G: Generate Level
Ctrl+S: Save
F11: Fullscreen
Escape: Close menus`);break;case"report-issue":window.open("https://github.com/kire256/levelforge/issues","_blank");break;case"about":alert(`LevelForge AI
          
AI-powered level generator for game developers.

Version: 1.0.0
Built with  by OpenClaw`);break}},Rt=()=>{switch(e){case"dashboard":return r.jsx(qp,{projects:a,currentProject:o,onSelectProject:kt,onCreateProject:Ee,onGenerateLevel:()=>{if(!o){alert("Please select a project first");return}t("levels")}});case"entities":return r.jsx(tm,{entityTypes:y,currentProject:o,onCreateEntityType:pe,onUpdateEntityType:we,onDeleteEntityType:qe,onSelectEntity:ge,onEditEntity:xe,selectedEntity:T});case"levels":return r.jsx(um,{currentProject:o,levels:v,currentLevel:Ve,onSelectLevel:yt,onGenerateLevel:re,generating:ut,progress:I,progressMessage:V,availableModels:L,selectedModel:me,onModelChange:W,showGenerator:Le,onShowGeneratorChange:D,viewMode:B,onViewModeChange:m,onRenameLevel:Ct,selectedObject:$,onSelectObject:se,onUpdateObject:E,snapToGrid:Re,showGrid:ne,gridSize:te});case"library":return r.jsx(dm,{currentProject:o,onSelectAsset:Et,selectedAsset:T});case"ai-tools":return r.jsx(pm,{availableModels:L,selectedModel:me,onModelChange:W,consoleLogs:Se});case"settings":return r.jsx(ym,{currentProject:o,availableModels:L,selectedModel:me,onModelChange:W,theme:n,accentColor:s,onThemeChange:l,onAccentChange:i});default:return null}};return r.jsx(Zp,{activeTab:e,onTabChange:t,onMenuAction:rt,selectedItem:T,inspectorContent:Tt?oe():e==="levels"&&$?tl($):x,consoleLogs:Se,onClearConsole:xn,onEditItem:xe,onRenameLevel:Ct,onDeleteLevel:qt,recentProjects:u,projects:a,showProjectModal:g,onCloseProjectModal:le,onSelectProject:kt,forceShowConsole:$e,onConsoleShown:()=>ct(!1),canUndo:dt,canRedo:Ht,onUndo:Wt,onRedo:St,historyInfo:ie(),currentProject:o,showAboutModal:S,onCloseAboutModal:()=>_(!1),snapToGrid:Re,showGrid:ne,gridSize:te,children:Rt()})}ci.createRoot(document.getElementById("root")).render(r.jsx($d.StrictMode,{children:r.jsx(xm,{})}));
